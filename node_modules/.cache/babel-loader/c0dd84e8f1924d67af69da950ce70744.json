{"ast":null,"code":"var Yr = Object.create;\nvar ft = Object.defineProperty;\nvar Xr = Object.getOwnPropertyDescriptor;\nvar $r = Object.getOwnPropertyNames;\nvar Zr = Object.getPrototypeOf,\n  ea = Object.prototype.hasOwnProperty;\nvar pt = function (r, e) {\n  return function () {\n    return r && (e = r(r = 0)), e;\n  };\n};\nvar B = function (r, e) {\n  return function () {\n    return e || r((e = {\n      exports: {}\n    }).exports, e), e.exports;\n  };\n};\nvar ta = function (r, e, t, i) {\n  if (e && typeof e == \"object\" || typeof e == \"function\") for (var a = $r(e), n = 0, o = a.length, s; n < o; n++) s = a[n], !ea.call(r, s) && s !== t && ft(r, s, {\n    get: function (u) {\n      return e[u];\n    }.bind(null, s),\n    enumerable: !(i = Xr(e, s)) || i.enumerable\n  });\n  return r;\n};\nvar V = function (r, e, t) {\n  return t = r != null ? Yr(Zr(r)) : {}, ta(e || !r || !r.__esModule ? ft(t, \"default\", {\n    value: r,\n    enumerable: !0\n  }) : t, r);\n};\nvar J = B(function (ji, yt) {\n  var xe;\n  typeof window != \"undefined\" ? xe = window : typeof global != \"undefined\" ? xe = global : typeof self != \"undefined\" ? xe = self : xe = {};\n  yt.exports = xe;\n});\nfunction U(r, e) {\n  return e != null && typeof Symbol != \"undefined\" && e[Symbol.hasInstance] ? !!e[Symbol.hasInstance](r) : U(r, e);\n}\nvar te = pt(function () {\n  te();\n});\nfunction Ne(r) {\n  \"@swc/helpers - typeof\";\n\n  return r && typeof Symbol != \"undefined\" && r.constructor === Symbol ? \"symbol\" : typeof r;\n}\nvar Je = pt(function () {});\nvar Ye = B(function (Ts, cr) {\n  var lr = Array.prototype.slice;\n  cr.exports = Pa;\n  function Pa(r, e) {\n    for ((\"length\" in r) || (r = [r]), r = lr.call(r); r.length;) {\n      var t = r.shift(),\n        i = e(t);\n      if (i) return i;\n      t.childNodes && t.childNodes.length && (r = lr.call(t.childNodes).concat(r));\n    }\n  }\n});\nvar fr = B(function (Es, _r) {\n  te();\n  _r.exports = me;\n  function me(r, e) {\n    if (!U(this, me)) return new me(r, e);\n    this.data = r, this.nodeValue = r, this.length = r.length, this.ownerDocument = e || null;\n  }\n  me.prototype.nodeType = 8;\n  me.prototype.nodeName = \"#comment\";\n  me.prototype.toString = function () {\n    return \"[object Comment]\";\n  };\n});\nvar vr = B(function (xs, pr) {\n  te();\n  pr.exports = ae;\n  function ae(r, e) {\n    if (!U(this, ae)) return new ae(r);\n    this.data = r || \"\", this.length = this.data.length, this.ownerDocument = e || null;\n  }\n  ae.prototype.type = \"DOMTextNode\";\n  ae.prototype.nodeType = 3;\n  ae.prototype.nodeName = \"#text\";\n  ae.prototype.toString = function () {\n    return this.data;\n  };\n  ae.prototype.replaceData = function (e, t, i) {\n    var a = this.data,\n      n = a.substring(0, e),\n      o = a.substring(e + t, a.length);\n    this.data = n + i + o, this.length = this.data.length;\n  };\n});\nvar Xe = B(function (Ds, mr) {\n  mr.exports = Ia;\n  function Ia(r) {\n    var e = this,\n      t = r.type;\n    r.target || (r.target = e), e.listeners || (e.listeners = {});\n    var i = e.listeners[t];\n    if (i) return i.forEach(function (a) {\n      r.currentTarget = e, typeof a == \"function\" ? a(r) : a.handleEvent(r);\n    });\n    e.parentNode && e.parentNode.dispatchEvent(r);\n  }\n});\nvar $e = B(function (Ss, hr) {\n  hr.exports = Na;\n  function Na(r, e) {\n    var t = this;\n    t.listeners || (t.listeners = {}), t.listeners[r] || (t.listeners[r] = []), t.listeners[r].indexOf(e) === -1 && t.listeners[r].push(e);\n  }\n});\nvar Ze = B(function (Rs, yr) {\n  yr.exports = La;\n  function La(r, e) {\n    var t = this;\n    if (t.listeners && t.listeners[r]) {\n      var i = t.listeners[r],\n        a = i.indexOf(e);\n      a !== -1 && i.splice(a, 1);\n    }\n  }\n});\nvar wr = B(function (As, Tr) {\n  Je();\n  Tr.exports = gr;\n  var Ca = [\"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"menuitem\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"];\n  function gr(r) {\n    switch (r.nodeType) {\n      case 3:\n        return et(r.data);\n      case 8:\n        return \"<!--\" + r.data + \"-->\";\n      default:\n        return Ma(r);\n    }\n  }\n  function Ma(r) {\n    var e = [],\n      t = r.tagName;\n    return r.namespaceURI === \"http://www.w3.org/1999/xhtml\" && (t = t.toLowerCase()), e.push(\"<\" + t + Fa(r) + Ua(r)), Ca.indexOf(t) > -1 ? e.push(\" />\") : (e.push(\">\"), r.childNodes.length ? e.push.apply(e, r.childNodes.map(gr)) : r.textContent || r.innerText ? e.push(et(r.textContent || r.innerText)) : r.innerHTML && e.push(r.innerHTML), e.push(\"</\" + t + \">\")), e.join(\"\");\n  }\n  function Ha(r, e) {\n    var t = Ne(r[e]);\n    return e === \"style\" && Object.keys(r.style).length > 0 ? !0 : r.hasOwnProperty(e) && (t === \"string\" || t === \"boolean\" || t === \"number\") && e !== \"nodeName\" && e !== \"className\" && e !== \"tagName\" && e !== \"textContent\" && e !== \"innerText\" && e !== \"namespaceURI\" && e !== \"innerHTML\";\n  }\n  function Ba(r) {\n    if (typeof r == \"string\") return r;\n    var e = \"\";\n    return Object.keys(r).forEach(function (t) {\n      var i = r[t];\n      t = t.replace(/[A-Z]/g, function (a) {\n        return \"-\" + a.toLowerCase();\n      }), e += t + \":\" + i + \";\";\n    }), e;\n  }\n  function Ua(r) {\n    var e = r.dataset,\n      t = [];\n    for (var i in e) t.push({\n      name: \"data-\" + i,\n      value: e[i]\n    });\n    return t.length ? br(t) : \"\";\n  }\n  function br(r) {\n    var e = [];\n    return r.forEach(function (t) {\n      var i = t.name,\n        a = t.value;\n      i === \"style\" && (a = Ba(a)), e.push(i + '=\"' + Va(a) + '\"');\n    }), e.length ? \" \" + e.join(\" \") : \"\";\n  }\n  function Fa(r) {\n    var e = [];\n    for (var t in r) Ha(r, t) && e.push({\n      name: t,\n      value: r[t]\n    });\n    for (var i in r._attributes) for (var a in r._attributes[i]) {\n      var n = r._attributes[i][a],\n        o = (n.prefix ? n.prefix + \":\" : \"\") + a;\n      e.push({\n        name: o,\n        value: n.value\n      });\n    }\n    return r.className && e.push({\n      name: \"class\",\n      value: r.className\n    }), e.length ? br(e) : \"\";\n  }\n  function et(r) {\n    var e = \"\";\n    return typeof r == \"string\" ? e = r : r && (e = r.toString()), e.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n  }\n  function Va(r) {\n    return et(r).replace(/\"/g, \"&quot;\");\n  }\n});\nvar rt = B(function (Ps, kr) {\n  te();\n  var tt = Ye(),\n    Wa = Xe(),\n    ja = $e(),\n    Ga = Ze(),\n    Ja = wr(),\n    Er = \"http://www.w3.org/1999/xhtml\";\n  kr.exports = I;\n  function I(r, e, t) {\n    if (!U(this, I)) return new I(r);\n    var i = t === void 0 ? Er : t || null;\n    this.tagName = i === Er ? String(r).toUpperCase() : r, this.nodeName = this.tagName, this.className = \"\", this.dataset = {}, this.childNodes = [], this.parentNode = null, this.style = {}, this.ownerDocument = e || null, this.namespaceURI = i, this._attributes = {}, this.tagName === \"INPUT\" && (this.type = \"text\");\n  }\n  I.prototype.type = \"DOMElement\";\n  I.prototype.nodeType = 1;\n  I.prototype.appendChild = function (e) {\n    return e.parentNode && e.parentNode.removeChild(e), this.childNodes.push(e), e.parentNode = this, e;\n  };\n  I.prototype.replaceChild = function (e, t) {\n    e.parentNode && e.parentNode.removeChild(e);\n    var i = this.childNodes.indexOf(t);\n    return t.parentNode = null, this.childNodes[i] = e, e.parentNode = this, t;\n  };\n  I.prototype.removeChild = function (e) {\n    var t = this.childNodes.indexOf(e);\n    return this.childNodes.splice(t, 1), e.parentNode = null, e;\n  };\n  I.prototype.insertBefore = function (e, t) {\n    e.parentNode && e.parentNode.removeChild(e);\n    var i = t == null ? -1 : this.childNodes.indexOf(t);\n    return i > -1 ? this.childNodes.splice(i, 0, e) : this.childNodes.push(e), e.parentNode = this, e;\n  };\n  I.prototype.setAttributeNS = function (e, t, i) {\n    var a = null,\n      n = t,\n      o = t.indexOf(\":\");\n    if (o > -1 && (a = t.substr(0, o), n = t.substr(o + 1)), this.tagName === \"INPUT\" && t === \"type\") this.type = i;else {\n      var s = this._attributes[e] || (this._attributes[e] = {});\n      s[n] = {\n        value: i,\n        prefix: a\n      };\n    }\n  };\n  I.prototype.getAttributeNS = function (e, t) {\n    var i = this._attributes[e],\n      a = i && i[t] && i[t].value;\n    return this.tagName === \"INPUT\" && t === \"type\" ? this.type : typeof a != \"string\" ? null : a;\n  };\n  I.prototype.removeAttributeNS = function (e, t) {\n    var i = this._attributes[e];\n    i && delete i[t];\n  };\n  I.prototype.hasAttributeNS = function (e, t) {\n    var i = this._attributes[e];\n    return !!i && t in i;\n  };\n  I.prototype.setAttribute = function (e, t) {\n    return this.setAttributeNS(null, e, t);\n  };\n  I.prototype.getAttribute = function (e) {\n    return this.getAttributeNS(null, e);\n  };\n  I.prototype.removeAttribute = function (e) {\n    return this.removeAttributeNS(null, e);\n  };\n  I.prototype.hasAttribute = function (e) {\n    return this.hasAttributeNS(null, e);\n  };\n  I.prototype.removeEventListener = Ga;\n  I.prototype.addEventListener = ja;\n  I.prototype.dispatchEvent = Wa;\n  I.prototype.focus = function () {};\n  I.prototype.toString = function () {\n    return Ja(this);\n  };\n  I.prototype.getElementsByClassName = function (e) {\n    var t = e.split(\" \"),\n      i = [];\n    return tt(this, function (a) {\n      if (a.nodeType === 1) {\n        var n = a.className || \"\",\n          o = n.split(\" \");\n        t.every(function (s) {\n          return o.indexOf(s) !== -1;\n        }) && i.push(a);\n      }\n    }), i;\n  };\n  I.prototype.getElementsByTagName = function (e) {\n    e = e.toLowerCase();\n    var t = [];\n    return tt(this.childNodes, function (i) {\n      i.nodeType === 1 && (e === \"*\" || i.tagName.toLowerCase() === e) && t.push(i);\n    }), t;\n  };\n  I.prototype.contains = function (e) {\n    return tt(this, function (t) {\n      return e === t;\n    }) || !1;\n  };\n});\nvar Dr = B(function (Ns, xr) {\n  te();\n  var at = rt();\n  xr.exports = K;\n  function K(r) {\n    if (!U(this, K)) return new K();\n    this.childNodes = [], this.parentNode = null, this.ownerDocument = r || null;\n  }\n  K.prototype.type = \"DocumentFragment\";\n  K.prototype.nodeType = 11;\n  K.prototype.nodeName = \"#document-fragment\";\n  K.prototype.appendChild = at.prototype.appendChild;\n  K.prototype.replaceChild = at.prototype.replaceChild;\n  K.prototype.removeChild = at.prototype.removeChild;\n  K.prototype.toString = function () {\n    return this.childNodes.map(function (e) {\n      return String(e);\n    }).join(\"\");\n  };\n});\nvar Rr = B(function (Ls, Sr) {\n  Sr.exports = it;\n  function it(r) {}\n  it.prototype.initEvent = function (e, t, i) {\n    this.type = e, this.bubbles = t, this.cancelable = i;\n  };\n  it.prototype.preventDefault = function () {};\n});\nvar Ar = B(function (Ms, qr) {\n  te();\n  var Qa = Ye(),\n    za = fr(),\n    Ka = vr(),\n    Re = rt(),\n    Ya = Dr(),\n    Xa = Rr(),\n    $a = Xe(),\n    Za = $e(),\n    ei = Ze();\n  qr.exports = Be;\n  function Be() {\n    if (!U(this, Be)) return new Be();\n    this.head = this.createElement(\"head\"), this.body = this.createElement(\"body\"), this.documentElement = this.createElement(\"html\"), this.documentElement.appendChild(this.head), this.documentElement.appendChild(this.body), this.childNodes = [this.documentElement], this.nodeType = 9;\n  }\n  var j = Be.prototype;\n  j.createTextNode = function (e) {\n    return new Ka(e, this);\n  };\n  j.createElementNS = function (e, t) {\n    var i = e === null ? null : String(e);\n    return new Re(t, this, i);\n  };\n  j.createElement = function (e) {\n    return new Re(e, this);\n  };\n  j.createDocumentFragment = function () {\n    return new Ya(this);\n  };\n  j.createEvent = function (e) {\n    return new Xa(e);\n  };\n  j.createComment = function (e) {\n    return new za(e, this);\n  };\n  j.getElementById = function (e) {\n    e = String(e);\n    var t = Qa(this.childNodes, function (i) {\n      if (String(i.id) === e) return i;\n    });\n    return t || null;\n  };\n  j.getElementsByClassName = Re.prototype.getElementsByClassName;\n  j.getElementsByTagName = Re.prototype.getElementsByTagName;\n  j.contains = Re.prototype.contains;\n  j.removeEventListener = ei;\n  j.addEventListener = Za;\n  j.dispatchEvent = $a;\n});\nvar Pr = B(function (Hs, Or) {\n  var ti = Ar();\n  Or.exports = new ti();\n});\nvar nt = B(function (Bs, Nr) {\n  var Ir = typeof global != \"undefined\" ? global : typeof window != \"undefined\" ? window : {},\n    ri = Pr(),\n    qe;\n  typeof document != \"undefined\" ? qe = document : (qe = Ir[\"__GLOBAL_DOCUMENT_CACHE@4\"], qe || (qe = Ir[\"__GLOBAL_DOCUMENT_CACHE@4\"] = ri));\n  Nr.exports = qe;\n});\nfunction vt(r) {\n  if (Array.isArray(r)) return r;\n}\nfunction mt(r, e) {\n  var t = r == null ? null : typeof Symbol != \"undefined\" && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (t != null) {\n    var i = [],\n      a = !0,\n      n = !1,\n      o,\n      s;\n    try {\n      for (t = t.call(r); !(a = (o = t.next()).done) && (i.push(o.value), !(e && i.length === e)); a = !0);\n    } catch (u) {\n      n = !0, s = u;\n    } finally {\n      try {\n        !a && t.return != null && t.return();\n      } finally {\n        if (n) throw s;\n      }\n    }\n    return i;\n  }\n}\nfunction ht() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ke(r, e) {\n  (e == null || e > r.length) && (e = r.length);\n  for (var t = 0, i = new Array(e); t < e; t++) i[t] = r[t];\n  return i;\n}\nfunction Ae(r, e) {\n  if (r) {\n    if (typeof r == \"string\") return ke(r, e);\n    var t = Object.prototype.toString.call(r).slice(8, -1);\n    if (t === \"Object\" && r.constructor && (t = r.constructor.name), t === \"Map\" || t === \"Set\") return Array.from(t);\n    if (t === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)) return ke(r, e);\n  }\n}\nfunction H(r, e) {\n  return vt(r) || mt(r, e) || Ae(r, e) || ht();\n}\nvar be = V(J());\nvar Ge = V(J());\nvar gt = V(J()),\n  ra = {\n    now: function () {\n      var r = gt.default.performance,\n        e = r && r.timing,\n        t = e && e.navigationStart,\n        i = typeof t == \"number\" && typeof r.now == \"function\" ? t + r.now() : Date.now();\n      return Math.round(i);\n    }\n  },\n  A = ra;\nvar ee = function () {\n    var e, t, i;\n    if (typeof ((e = Ge.default.crypto) === null || e === void 0 ? void 0 : e.getRandomValues) == \"function\") {\n      i = new Uint8Array(32), Ge.default.crypto.getRandomValues(i);\n      for (var a = 0; a < 32; a++) i[a] = i[a] % 16;\n    } else {\n      i = [];\n      for (var n = 0; n < 32; n++) i[n] = Math.random() * 16 | 0;\n    }\n    var o = 0;\n    t = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (p) {\n      var b = p === \"x\" ? i[o] : i[o] & 3 | 8;\n      return o++, b.toString(16);\n    });\n    var s = A.now(),\n      u = s == null ? void 0 : s.toString(16).substring(3);\n    return u ? t.substring(0, 28) + u : t;\n  },\n  Oe = function () {\n    return (\"000000\" + (Math.random() * Math.pow(36, 6) << 0).toString(36)).slice(-6);\n  };\nvar Q = function (e) {\n    if (e && typeof e.nodeName != \"undefined\") return e.muxId || (e.muxId = Oe()), e.muxId;\n    var t;\n    try {\n      t = document.querySelector(e);\n    } catch (i) {}\n    return t && !t.muxId && (t.muxId = e), (t == null ? void 0 : t.muxId) || e;\n  },\n  se = function (e) {\n    var t;\n    e && typeof e.nodeName != \"undefined\" ? (t = e, e = Q(t)) : t = document.querySelector(e);\n    var i = t && t.nodeName ? t.nodeName.toLowerCase() : \"\";\n    return [t, e, i];\n  };\nfunction bt(r) {\n  if (Array.isArray(r)) return ke(r);\n}\nfunction Tt(r) {\n  if (typeof Symbol != \"undefined\" && r[Symbol.iterator] != null || r[\"@@iterator\"] != null) return Array.from(r);\n}\nfunction wt() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction W(r) {\n  return bt(r) || Tt(r) || Ae(r) || wt();\n}\nvar Y = {\n    TRACE: 0,\n    DEBUG: 1,\n    INFO: 2,\n    WARN: 3,\n    ERROR: 4,\n    SILENT: 5\n  },\n  Et = function (r) {\n    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3,\n      t,\n      i,\n      a,\n      n,\n      o,\n      s = r ? [console, r] : [console],\n      u = (t = console.trace).bind.apply(t, W(s)),\n      p = (i = console.info).bind.apply(i, W(s)),\n      b = (a = console.debug).bind.apply(a, W(s)),\n      k = (n = console.warn).bind.apply(n, W(s)),\n      y = (o = console.error).bind.apply(o, W(s)),\n      c = e;\n    return {\n      trace: function () {\n        for (var T = arguments.length, x = new Array(T), m = 0; m < T; m++) x[m] = arguments[m];\n        if (!(c > Y.TRACE)) return u.apply(void 0, W(x));\n      },\n      debug: function () {\n        for (var T = arguments.length, x = new Array(T), m = 0; m < T; m++) x[m] = arguments[m];\n        if (!(c > Y.DEBUG)) return b.apply(void 0, W(x));\n      },\n      info: function () {\n        for (var T = arguments.length, x = new Array(T), m = 0; m < T; m++) x[m] = arguments[m];\n        if (!(c > Y.INFO)) return p.apply(void 0, W(x));\n      },\n      warn: function () {\n        for (var T = arguments.length, x = new Array(T), m = 0; m < T; m++) x[m] = arguments[m];\n        if (!(c > Y.WARN)) return k.apply(void 0, W(x));\n      },\n      error: function () {\n        for (var T = arguments.length, x = new Array(T), m = 0; m < T; m++) x[m] = arguments[m];\n        if (!(c > Y.ERROR)) return y.apply(void 0, W(x));\n      },\n      get level() {\n        return c;\n      },\n      set level(v) {\n        v !== this.level && (c = v != null ? v : e);\n      }\n    };\n  };\nvar q = Et(\"[mux]\");\nvar Pe = V(J());\nfunction ce() {\n  var r = Pe.default.doNotTrack || Pe.default.navigator && Pe.default.navigator.doNotTrack;\n  return r === \"1\";\n}\nfunction g(r) {\n  if (r === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return r;\n}\nte();\nfunction D(r, e) {\n  if (!U(r, e)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction kt(r, e) {\n  for (var t = 0; t < e.length; t++) {\n    var i = e[t];\n    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), Object.defineProperty(r, i.key, i);\n  }\n}\nfunction L(r, e, t) {\n  return e && kt(r.prototype, e), t && kt(r, t), r;\n}\nfunction l(r, e, t) {\n  return e in r ? Object.defineProperty(r, e, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : r[e] = t, r;\n}\nfunction X(r) {\n  return X = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, X(r);\n}\nfunction xt(r, e) {\n  for (; !Object.prototype.hasOwnProperty.call(r, e) && (r = X(r), r !== null););\n  return r;\n}\nfunction De(r, e, t) {\n  return typeof Reflect != \"undefined\" && Reflect.get ? De = Reflect.get : De = function (a, n, o) {\n    var s = xt(a, n);\n    if (s) {\n      var u = Object.getOwnPropertyDescriptor(s, n);\n      return u.get ? u.get.call(o || a) : u.value;\n    }\n  }, De(r, e, t || r);\n}\nfunction Ie(r, e) {\n  return Ie = Object.setPrototypeOf || function (i, a) {\n    return i.__proto__ = a, i;\n  }, Ie(r, e);\n}\nfunction Dt(r, e) {\n  if (typeof e != \"function\" && e !== null) throw new TypeError(\"Super expression must either be null or a function\");\n  r.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: r,\n      writable: !0,\n      configurable: !0\n    }\n  }), e && Ie(r, e);\n}\nfunction St() {\n  if (typeof Reflect == \"undefined\" || !Reflect.construct || Reflect.construct.sham) return !1;\n  if (typeof Proxy == \"function\") return !0;\n  try {\n    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n  } catch (r) {\n    return !1;\n  }\n}\nJe();\nfunction Rt(r, e) {\n  return e && (Ne(e) === \"object\" || typeof e == \"function\") ? e : g(r);\n}\nfunction qt(r) {\n  var e = St();\n  return function () {\n    var i = X(r),\n      a;\n    if (e) {\n      var n = X(this).constructor;\n      a = Reflect.construct(i, arguments, n);\n    } else a = i.apply(this, arguments);\n    return Rt(this, a);\n  };\n}\nvar F = function (r) {\n  return re(r)[0];\n};\nvar re = function (r) {\n  if (typeof r != \"string\" || r === \"\") return [\"localhost\"];\n  var e = /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,\n    t = r.match(e) || [],\n    i = t[4],\n    a;\n  return i && (a = (i.match(/[^\\.]+\\.[^\\.]+$/) || [])[0]), [i, a];\n};\nvar Le = V(J()),\n  aa = {\n    exists: function () {\n      var r = Le.default.performance,\n        e = r && r.timing;\n      return e !== void 0;\n    },\n    domContentLoadedEventEnd: function () {\n      var r = Le.default.performance,\n        e = r && r.timing;\n      return e && e.domContentLoadedEventEnd;\n    },\n    navigationStart: function () {\n      var r = Le.default.performance,\n        e = r && r.timing;\n      return e && e.navigationStart;\n    }\n  },\n  _e = aa;\nfunction O(r, e, t) {\n  t = t === void 0 ? 1 : t, r[e] = r[e] || 0, r[e] += t;\n}\nfunction ue(r) {\n  for (var e = 1; e < arguments.length; e++) {\n    var t = arguments[e] != null ? arguments[e] : {},\n      i = Object.keys(t);\n    typeof Object.getOwnPropertySymbols == \"function\" && (i = i.concat(Object.getOwnPropertySymbols(t).filter(function (a) {\n      return Object.getOwnPropertyDescriptor(t, a).enumerable;\n    }))), i.forEach(function (a) {\n      l(r, a, t[a]);\n    });\n  }\n  return r;\n}\nfunction ia(r, e) {\n  var t = Object.keys(r);\n  if (Object.getOwnPropertySymbols) {\n    var i = Object.getOwnPropertySymbols(r);\n    e && (i = i.filter(function (a) {\n      return Object.getOwnPropertyDescriptor(r, a).enumerable;\n    })), t.push.apply(t, i);\n  }\n  return t;\n}\nfunction fe(r, e) {\n  return e = e != null ? e : {}, Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(e)) : ia(Object(e)).forEach(function (t) {\n    Object.defineProperty(r, t, Object.getOwnPropertyDescriptor(e, t));\n  }), r;\n}\nvar na = [\"x-cdn\", \"content-type\"],\n  At = [\"x-request-id\", \"cf-ray\", \"x-amz-cf-id\", \"x-akamai-request-id\"],\n  oa = na.concat(At);\nfunction pe(r) {\n  r = r || \"\";\n  var e = {},\n    t = r.trim().split(/[\\r\\n]+/);\n  return t.forEach(function (i) {\n    if (i) {\n      var a = i.split(\": \"),\n        n = a.shift();\n      n && (oa.indexOf(n.toLowerCase()) >= 0 || n.toLowerCase().indexOf(\"x-litix-\") === 0) && (e[n] = a.join(\": \"));\n    }\n  }), e;\n}\nfunction de(r) {\n  if (r) {\n    var e = At.find(function (t) {\n      return r[t] !== void 0;\n    });\n    return e ? r[e] : void 0;\n  }\n}\nvar sa = function (r) {\n    var e = {};\n    for (var t in r) {\n      var i = r[t],\n        a = i[\"DATA-ID\"].search(\"io.litix.data.\");\n      if (a !== -1) {\n        var n = i[\"DATA-ID\"].replace(\"io.litix.data.\", \"\");\n        e[n] = i.VALUE;\n      }\n    }\n    return e;\n  },\n  Ce = sa;\nvar Me = function (r) {\n    if (!r) return {};\n    var e = _e.navigationStart(),\n      t = r.loading,\n      i = t ? t.start : r.trequest,\n      a = t ? t.first : r.tfirst,\n      n = t ? t.end : r.tload;\n    return {\n      bytesLoaded: r.total,\n      requestStart: Math.round(e + i),\n      responseStart: Math.round(e + a),\n      responseEnd: Math.round(e + n)\n    };\n  },\n  Se = function (r) {\n    if (!(!r || typeof r.getAllResponseHeaders != \"function\")) return pe(r.getAllResponseHeaders());\n  },\n  Ot = function (r, e, t) {\n    var i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {},\n      a = arguments.length > 4 ? arguments[4] : void 0,\n      n = r.log,\n      o = r.utils.secondsToMs,\n      s = function (m) {\n        var f = parseInt(a.version),\n          _;\n        return f === 1 && m.programDateTime !== null && (_ = m.programDateTime), f === 0 && m.pdt !== null && (_ = m.pdt), _;\n      };\n    if (!_e.exists()) {\n      n.warn(\"performance timing not supported. Not tracking HLS.js.\");\n      return;\n    }\n    var u = function (m, f) {\n        return r.emit(e, m, f);\n      },\n      p = function (m, f) {\n        var _ = f.levels,\n          d = f.audioTracks,\n          h = f.url,\n          w = f.stats,\n          E = f.networkDetails,\n          S = f.sessionData,\n          N = {},\n          M = {};\n        _.forEach(function (G, oe) {\n          N[oe] = {\n            width: G.width,\n            height: G.height,\n            bitrate: G.bitrate,\n            attrs: G.attrs\n          };\n        }), d.forEach(function (G, oe) {\n          M[oe] = {\n            name: G.name,\n            language: G.lang,\n            bitrate: G.bitrate\n          };\n        });\n        var P = Me(w),\n          R = P.bytesLoaded,\n          Z = P.requestStart,\n          Te = P.responseStart,\n          we = P.responseEnd;\n        u(\"requestcompleted\", fe(ue({}, Ce(S)), {\n          request_event_type: m,\n          request_bytes_loaded: R,\n          request_start: Z,\n          request_response_start: Te,\n          request_response_end: we,\n          request_type: \"manifest\",\n          request_hostname: F(h),\n          request_response_headers: Se(E),\n          request_rendition_lists: {\n            media: N,\n            audio: M,\n            video: {}\n          }\n        }));\n      };\n    t.on(a.Events.MANIFEST_LOADED, p);\n    var b = function (m, f) {\n      var _ = f.details,\n        d = f.level,\n        h = f.networkDetails,\n        w = f.stats,\n        E = Me(w),\n        S = E.bytesLoaded,\n        N = E.requestStart,\n        M = E.responseStart,\n        P = E.responseEnd,\n        R = _.fragments[_.fragments.length - 1],\n        Z = s(R) + o(R.duration);\n      u(\"requestcompleted\", {\n        request_event_type: m,\n        request_bytes_loaded: S,\n        request_start: N,\n        request_response_start: M,\n        request_response_end: P,\n        request_current_level: d,\n        request_type: \"manifest\",\n        request_hostname: F(_.url),\n        request_response_headers: Se(h),\n        video_holdback: _.holdBack && o(_.holdBack),\n        video_part_holdback: _.partHoldBack && o(_.partHoldBack),\n        video_part_target_duration: _.partTarget && o(_.partTarget),\n        video_target_duration: _.targetduration && o(_.targetduration),\n        video_source_is_live: _.live,\n        player_manifest_newest_program_time: isNaN(Z) ? void 0 : Z\n      });\n    };\n    t.on(a.Events.LEVEL_LOADED, b);\n    var k = function (m, f) {\n      var _ = f.details,\n        d = f.networkDetails,\n        h = f.stats,\n        w = Me(h),\n        E = w.bytesLoaded,\n        S = w.requestStart,\n        N = w.responseStart,\n        M = w.responseEnd;\n      u(\"requestcompleted\", {\n        request_event_type: m,\n        request_bytes_loaded: E,\n        request_start: S,\n        request_response_start: N,\n        request_response_end: M,\n        request_type: \"manifest\",\n        request_hostname: F(_.url),\n        request_response_headers: Se(d)\n      });\n    };\n    t.on(a.Events.AUDIO_TRACK_LOADED, k);\n    var y = function (m, f) {\n      var _ = f.stats,\n        d = f.networkDetails,\n        h = f.frag;\n      _ = _ || h.stats;\n      var w = Me(_),\n        E = w.bytesLoaded,\n        S = w.requestStart,\n        N = w.responseStart,\n        M = w.responseEnd,\n        P = d ? Se(d) : void 0,\n        R = {\n          request_event_type: m,\n          request_bytes_loaded: E,\n          request_start: S,\n          request_response_start: N,\n          request_response_end: M,\n          request_hostname: d ? F(d.responseURL) : void 0,\n          request_id: P ? de(P) : void 0,\n          request_response_headers: P,\n          request_media_duration: h.duration,\n          request_url: d == null ? void 0 : d.responseURL\n        };\n      h.type === \"main\" ? (R.request_type = \"media\", R.request_current_level = h.level, R.request_video_width = (t.levels[h.level] || {}).width, R.request_video_height = (t.levels[h.level] || {}).height, R.request_labeled_bitrate = (t.levels[h.level] || {}).bitrate) : R.request_type = h.type, u(\"requestcompleted\", R);\n    };\n    t.on(a.Events.FRAG_LOADED, y);\n    var c = function (m, f) {\n      var _ = f.frag,\n        d = _.start,\n        h = s(_),\n        w = {\n          currentFragmentPDT: h,\n          currentFragmentStart: o(d)\n        };\n      u(\"fragmentchange\", w);\n    };\n    t.on(a.Events.FRAG_CHANGED, c);\n    var v = function (m, f) {\n      var _ = f.type,\n        d = f.details,\n        h = f.response,\n        w = f.fatal,\n        E = f.frag,\n        S = f.networkDetails,\n        N = (E == null ? void 0 : E.url) || f.url || \"\",\n        M = S ? Se(S) : void 0;\n      if ((d === a.ErrorDetails.MANIFEST_LOAD_ERROR || d === a.ErrorDetails.MANIFEST_LOAD_TIMEOUT || d === a.ErrorDetails.FRAG_LOAD_ERROR || d === a.ErrorDetails.FRAG_LOAD_TIMEOUT || d === a.ErrorDetails.LEVEL_LOAD_ERROR || d === a.ErrorDetails.LEVEL_LOAD_TIMEOUT || d === a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR || d === a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT || d === a.ErrorDetails.SUBTITLE_LOAD_ERROR || d === a.ErrorDetails.SUBTITLE_LOAD_TIMEOUT || d === a.ErrorDetails.KEY_LOAD_ERROR || d === a.ErrorDetails.KEY_LOAD_TIMEOUT) && u(\"requestfailed\", {\n        request_error: d,\n        request_url: N,\n        request_hostname: F(N),\n        request_id: M ? de(M) : void 0,\n        request_type: d === a.ErrorDetails.FRAG_LOAD_ERROR || d === a.ErrorDetails.FRAG_LOAD_TIMEOUT ? \"media\" : d === a.ErrorDetails.AUDIO_TRACK_LOAD_ERROR || d === a.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT ? \"audio\" : d === a.ErrorDetails.SUBTITLE_LOAD_ERROR || d === a.ErrorDetails.SUBTITLE_LOAD_TIMEOUT ? \"subtitle\" : d === a.ErrorDetails.KEY_LOAD_ERROR || d === a.ErrorDetails.KEY_LOAD_TIMEOUT ? \"encryption\" : \"manifest\",\n        request_error_code: h == null ? void 0 : h.code,\n        request_error_text: h == null ? void 0 : h.text\n      }), w) {\n        var P,\n          R = \"\".concat(N ? \"url: \".concat(N, \"\\n\") : \"\") + \"\".concat(h && (h.code || h.text) ? \"response: \".concat(h.code, \", \").concat(h.text, \"\\n\") : \"\") + \"\".concat(f.reason ? \"failure reason: \".concat(f.reason, \"\\n\") : \"\") + \"\".concat(f.level ? \"level: \".concat(f.level, \"\\n\") : \"\") + \"\".concat(f.parent ? \"parent stream controller: \".concat(f.parent, \"\\n\") : \"\") + \"\".concat(f.buffer ? \"buffer length: \".concat(f.buffer, \"\\n\") : \"\") + \"\".concat(f.error ? \"error: \".concat(f.error, \"\\n\") : \"\") + \"\".concat(f.event ? \"event: \".concat(f.event, \"\\n\") : \"\") + \"\".concat(f.err ? \"error message: \".concat((P = f.err) === null || P === void 0 ? void 0 : P.message, \"\\n\") : \"\");\n        u(\"error\", {\n          player_error_code: _,\n          player_error_message: d,\n          player_error_context: R\n        });\n      }\n    };\n    t.on(a.Events.ERROR, v);\n    var T = function (m, f) {\n      var _ = f.frag,\n        d = _ && _._url || \"\";\n      u(\"requestcanceled\", {\n        request_event_type: m,\n        request_url: d,\n        request_type: \"media\",\n        request_hostname: F(d)\n      });\n    };\n    t.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED, T);\n    var x = function (m, f) {\n      var _ = f.level,\n        d = t.levels[_];\n      if (d && d.attrs && d.attrs.BANDWIDTH) {\n        var h = d.attrs.BANDWIDTH,\n          w,\n          E = parseFloat(d.attrs[\"FRAME-RATE\"]);\n        isNaN(E) || (w = E), h ? u(\"renditionchange\", {\n          video_source_fps: w,\n          video_source_bitrate: h,\n          video_source_width: d.width,\n          video_source_height: d.height,\n          video_source_rendition_name: d.name,\n          video_source_codec: d == null ? void 0 : d.videoCodec\n        }) : n.warn(\"missing BANDWIDTH from HLS manifest parsed by HLS.js\");\n      }\n    };\n    t.on(a.Events.LEVEL_SWITCHED, x), t._stopMuxMonitor = function () {\n      t.off(a.Events.MANIFEST_LOADED, p), t.off(a.Events.LEVEL_LOADED, b), t.off(a.Events.AUDIO_TRACK_LOADED, k), t.off(a.Events.FRAG_LOADED, y), t.off(a.Events.FRAG_CHANGED, c), t.off(a.Events.ERROR, v), t.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED, T), t.off(a.Events.LEVEL_SWITCHED, x), t.off(a.Events.DESTROYING, t._stopMuxMonitor), delete t._stopMuxMonitor;\n    }, t.on(a.Events.DESTROYING, t._stopMuxMonitor);\n  },\n  Pt = function (r) {\n    r && typeof r._stopMuxMonitor == \"function\" && r._stopMuxMonitor();\n  };\nvar It = function (r, e) {\n    if (!r || !r.requestEndDate) return {};\n    var t = F(r.url),\n      i = r.url,\n      a = r.bytesLoaded,\n      n = new Date(r.requestStartDate).getTime(),\n      o = new Date(r.firstByteDate).getTime(),\n      s = new Date(r.requestEndDate).getTime(),\n      u = isNaN(r.duration) ? 0 : r.duration,\n      p = typeof e.getMetricsFor == \"function\" ? e.getMetricsFor(r.mediaType).HttpList : e.getDashMetrics().getHttpRequests(r.mediaType),\n      b;\n    p.length > 0 && (b = pe(p[p.length - 1]._responseHeaders || \"\"));\n    var k = b ? de(b) : void 0;\n    return {\n      requestStart: n,\n      requestResponseStart: o,\n      requestResponseEnd: s,\n      requestBytesLoaded: a,\n      requestResponseHeaders: b,\n      requestMediaDuration: u,\n      requestHostname: t,\n      requestUrl: i,\n      requestId: k\n    };\n  },\n  ua = function (r, e) {\n    var t = e.getQualityFor(r),\n      i = e.getCurrentTrackFor(r).bitrateList;\n    return i ? {\n      currentLevel: t,\n      renditionWidth: i[t].width || null,\n      renditionHeight: i[t].height || null,\n      renditionBitrate: i[t].bandwidth\n    } : {};\n  },\n  da = function (r) {\n    var e;\n    return (e = r.match(/.*codecs\\*?=\"(.*)\"/)) === null || e === void 0 ? void 0 : e[1];\n  },\n  la = function (e) {\n    try {\n      var t,\n        i,\n        a = (i = e.getVersion) === null || i === void 0 || (t = i.call(e)) === null || t === void 0 ? void 0 : t.split(\".\").map(function (n) {\n          return parseInt(n);\n        })[0];\n      return a;\n    } catch (n) {\n      return !1;\n    }\n  },\n  Nt = function (r, e, t) {\n    var i = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {},\n      a = r.log;\n    if (!t || !t.on) {\n      a.warn(\"Invalid dash.js player reference. Monitoring blocked.\");\n      return;\n    }\n    var n = la(t),\n      o = function (_, d) {\n        return r.emit(e, _, d);\n      },\n      s = function (_) {\n        var d = _.type,\n          h = _.data,\n          w = (h || {}).url;\n        o(\"requestcompleted\", {\n          request_event_type: d,\n          request_start: 0,\n          request_response_start: 0,\n          request_response_end: 0,\n          request_bytes_loaded: -1,\n          request_type: \"manifest\",\n          request_hostname: F(w),\n          request_url: w\n        });\n      };\n    t.on(\"manifestLoaded\", s);\n    var u = {},\n      p = function (_) {\n        if (typeof _.getRequests != \"function\") return null;\n        var d = _.getRequests({\n          state: \"executed\"\n        });\n        return d.length === 0 ? null : d[d.length - 1];\n      },\n      b = function (_) {\n        var d = _.type,\n          h = _.fragmentModel,\n          w = _.chunk,\n          E = p(h);\n        k({\n          type: d,\n          request: E,\n          chunk: w\n        });\n      },\n      k = function (_) {\n        var d = _.type,\n          h = _.chunk,\n          w = _.request,\n          E = (h || {}).mediaInfo,\n          S = E || {},\n          N = S.type,\n          M = S.bitrateList;\n        M = M || [];\n        var P = {};\n        M.forEach(function (Ee, z) {\n          P[z] = {}, P[z].width = Ee.width, P[z].height = Ee.height, P[z].bitrate = Ee.bandwidth, P[z].attrs = {};\n        }), N === \"video\" ? u.video = P : N === \"audio\" ? u.audio = P : u.media = P;\n        var R = It(w, t),\n          Z = R.requestStart,\n          Te = R.requestResponseStart,\n          we = R.requestResponseEnd,\n          G = R.requestResponseHeaders,\n          oe = R.requestMediaDuration,\n          Ve = R.requestHostname,\n          We = R.requestUrl,\n          je = R.requestId;\n        o(\"requestcompleted\", {\n          request_event_type: d,\n          request_start: Z,\n          request_response_start: Te,\n          request_response_end: we,\n          request_bytes_loaded: -1,\n          request_type: N + \"_init\",\n          request_response_headers: G,\n          request_hostname: Ve,\n          request_id: je,\n          request_url: We,\n          request_media_duration: oe,\n          request_rendition_lists: u\n        });\n      };\n    n >= 4 ? t.on(\"initFragmentLoaded\", k) : t.on(\"initFragmentLoaded\", b);\n    var y = function (_) {\n        var d = _.type,\n          h = _.fragmentModel,\n          w = _.chunk,\n          E = p(h);\n        c({\n          type: d,\n          request: E,\n          chunk: w\n        });\n      },\n      c = function (_) {\n        var d = _.type,\n          h = _.chunk,\n          w = _.request,\n          E = h || {},\n          S = E.mediaInfo,\n          N = E.start,\n          M = S || {},\n          P = M.type,\n          R = It(w, t),\n          Z = R.requestStart,\n          Te = R.requestResponseStart,\n          we = R.requestResponseEnd,\n          G = R.requestBytesLoaded,\n          oe = R.requestResponseHeaders,\n          Ve = R.requestMediaDuration,\n          We = R.requestHostname,\n          je = R.requestUrl,\n          Ee = R.requestId,\n          z = ua(P, t),\n          Jr = z.currentLevel,\n          Qr = z.renditionWidth,\n          zr = z.renditionHeight,\n          Kr = z.renditionBitrate;\n        o(\"requestcompleted\", {\n          request_event_type: d,\n          request_start: Z,\n          request_response_start: Te,\n          request_response_end: we,\n          request_bytes_loaded: G,\n          request_type: P,\n          request_response_headers: oe,\n          request_hostname: We,\n          request_id: Ee,\n          request_url: je,\n          request_media_start_time: N,\n          request_media_duration: Ve,\n          request_current_level: Jr,\n          request_labeled_bitrate: Kr,\n          request_video_width: Qr,\n          request_video_height: zr\n        });\n      };\n    n >= 4 ? t.on(\"mediaFragmentLoaded\", c) : t.on(\"mediaFragmentLoaded\", y);\n    var v = {\n        video: void 0,\n        audio: void 0,\n        totalBitrate: void 0\n      },\n      T = function () {\n        if (v.video && typeof v.video.bitrate == \"number\") {\n          if (!(v.video.width && v.video.height)) {\n            a.warn(\"have bitrate info for video but missing width/height\");\n            return;\n          }\n          var _ = v.video.bitrate;\n          if (v.audio && typeof v.audio.bitrate == \"number\" && (_ += v.audio.bitrate), _ !== v.totalBitrate) return v.totalBitrate = _, {\n            video_source_bitrate: _,\n            video_source_height: v.video.height,\n            video_source_width: v.video.width,\n            video_source_codec: da(v.video.codec)\n          };\n        }\n      },\n      x = function (_, d, h) {\n        if (typeof _.newQuality != \"number\") {\n          a.warn(\"missing evt.newQuality in qualityChangeRendered event\", _);\n          return;\n        }\n        var w = _.mediaType;\n        if (w === \"audio\" || w === \"video\") {\n          var E = t.getBitrateInfoListFor(w).find(function (N) {\n            var M = N.qualityIndex;\n            return M === _.newQuality;\n          });\n          if (!(E && typeof E.bitrate == \"number\")) {\n            a.warn(\"missing bitrate info for \".concat(w));\n            return;\n          }\n          v[w] = fe(ue({}, E), {\n            codec: t.getCurrentTrackFor(w).codec\n          });\n          var S = T();\n          S && o(\"renditionchange\", S);\n        }\n      };\n    t.on(\"qualityChangeRendered\", x);\n    var m = function (_) {\n      var d = _.request,\n        h = _.mediaType;\n      d = d || {}, o(\"requestcanceled\", {\n        request_event_type: d.type + \"_\" + d.action,\n        request_url: d.url,\n        request_type: h,\n        request_hostname: F(d.url)\n      });\n    };\n    t.on(\"fragmentLoadingAbandoned\", m);\n    var f = function (_) {\n      var d = _.error,\n        h,\n        w,\n        E = (d == null || (h = d.data) === null || h === void 0 ? void 0 : h.request) || {},\n        S = (d == null || (w = d.data) === null || w === void 0 ? void 0 : w.response) || {};\n      (d == null ? void 0 : d.code) === 27 && o(\"requestfailed\", {\n        request_error: E.type + \"_\" + E.action,\n        request_url: E.url,\n        request_hostname: F(E.url),\n        request_type: E.mediaType,\n        request_error_code: S.status,\n        request_error_text: S.statusText\n      });\n      var N = \"\".concat(E != null && E.url ? \"url: \".concat(E.url, \"\\n\") : \"\") + \"\".concat(S != null && S.status || S != null && S.statusText ? \"response: \".concat(S == null ? void 0 : S.status, \", \").concat(S == null ? void 0 : S.statusText, \"\\n\") : \"\");\n      o(\"error\", {\n        player_error_code: d == null ? void 0 : d.code,\n        player_error_message: d == null ? void 0 : d.message,\n        player_error_context: N\n      });\n    };\n    t.on(\"error\", f), t._stopMuxMonitor = function () {\n      t.off(\"manifestLoaded\", s), t.off(\"initFragmentLoaded\", k), t.off(\"mediaFragmentLoaded\", c), t.off(\"qualityChangeRendered\", x), t.off(\"error\", f), t.off(\"fragmentLoadingAbandoned\", m), delete t._stopMuxMonitor;\n    };\n  },\n  Lt = function (r) {\n    r && typeof r._stopMuxMonitor == \"function\" && r._stopMuxMonitor();\n  };\nvar Ct = 0,\n  ca = function () {\n    \"use strict\";\n\n    function r() {\n      D(this, r), l(this, \"_listeners\", void 0);\n    }\n    return L(r, [{\n      key: \"on\",\n      value: function (t, i, a) {\n        return i._eventEmitterGuid = i._eventEmitterGuid || ++Ct, this._listeners = this._listeners || {}, this._listeners[t] = this._listeners[t] || [], a && (i = i.bind(a)), this._listeners[t].push(i), i;\n      }\n    }, {\n      key: \"off\",\n      value: function (t, i) {\n        var a = this._listeners && this._listeners[t];\n        a && a.forEach(function (n, o) {\n          n._eventEmitterGuid === i._eventEmitterGuid && a.splice(o, 1);\n        });\n      }\n    }, {\n      key: \"one\",\n      value: function (t, i, a) {\n        var n = this;\n        i._eventEmitterGuid = i._eventEmitterGuid || ++Ct;\n        var o = function () {\n          n.off(t, o), i.apply(a || this, arguments);\n        };\n        o._eventEmitterGuid = i._eventEmitterGuid, this.on(t, o);\n      }\n    }, {\n      key: \"emit\",\n      value: function (t, i) {\n        var a = this;\n        if (this._listeners) {\n          i = i || {};\n          var n = this._listeners[\"before*\"] || [],\n            o = this._listeners[t] || [],\n            s = this._listeners[\"after\" + t] || [],\n            u = function (p, b) {\n              p = p.slice(), p.forEach(function (k) {\n                k.call(a, {\n                  type: t\n                }, b);\n              });\n            };\n          u(n, i), u(o, i), u(s, i);\n        }\n      }\n    }]), r;\n  }(),\n  Mt = ca;\nvar He = V(J()),\n  _a = function () {\n    \"use strict\";\n\n    function r(e) {\n      var t = this;\n      D(this, r), l(this, \"_playbackHeartbeatInterval\", void 0), l(this, \"_playheadShouldBeProgressing\", void 0), l(this, \"pm\", void 0), this.pm = e, this._playbackHeartbeatInterval = null, this._playheadShouldBeProgressing = !1, e.on(\"playing\", function () {\n        t._playheadShouldBeProgressing = !0;\n      }), e.on(\"play\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"playing\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"adbreakstart\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"adplay\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"adplaying\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"devicewake\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"viewstart\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"rebufferstart\", this._startPlaybackHeartbeatInterval.bind(this)), e.on(\"pause\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"ended\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"viewend\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"error\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"aderror\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"adpause\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"adended\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"adbreakend\", this._stopPlaybackHeartbeatInterval.bind(this)), e.on(\"seeked\", function () {\n        e.data.player_is_paused ? t._stopPlaybackHeartbeatInterval() : t._startPlaybackHeartbeatInterval();\n      }), e.on(\"timeupdate\", function () {\n        t._playbackHeartbeatInterval !== null && e.emit(\"playbackheartbeat\");\n      }), e.on(\"devicesleep\", function (i, a) {\n        t._playbackHeartbeatInterval !== null && (He.default.clearInterval(t._playbackHeartbeatInterval), e.emit(\"playbackheartbeatend\", {\n          viewer_time: a.viewer_time\n        }), t._playbackHeartbeatInterval = null);\n      });\n    }\n    return L(r, [{\n      key: \"_startPlaybackHeartbeatInterval\",\n      value: function () {\n        var t = this;\n        this._playbackHeartbeatInterval === null && (this.pm.emit(\"playbackheartbeat\"), this._playbackHeartbeatInterval = He.default.setInterval(function () {\n          t.pm.emit(\"playbackheartbeat\");\n        }, this.pm.playbackHeartbeatTime));\n      }\n    }, {\n      key: \"_stopPlaybackHeartbeatInterval\",\n      value: function () {\n        this._playheadShouldBeProgressing = !1, this._playbackHeartbeatInterval !== null && (He.default.clearInterval(this._playbackHeartbeatInterval), this.pm.emit(\"playbackheartbeatend\"), this._playbackHeartbeatInterval = null);\n      }\n    }]), r;\n  }(),\n  Ht = _a;\nvar fa = function r(e) {\n    \"use strict\";\n\n    var t = this;\n    D(this, r), l(this, \"viewErrored\", void 0), e.on(\"viewinit\", function () {\n      t.viewErrored = !1;\n    }), e.on(\"error\", function (i, a) {\n      try {\n        var n = e.errorTranslator({\n          player_error_code: a.player_error_code,\n          player_error_message: a.player_error_message,\n          player_error_context: a.player_error_context,\n          player_error_severity: a.player_error_severity,\n          player_error_business_exception: a.player_error_business_exception\n        });\n        n && (e.data.player_error_code = n.player_error_code || a.player_error_code, e.data.player_error_message = n.player_error_message || a.player_error_message, e.data.player_error_context = n.player_error_context || a.player_error_context, e.data.player_error_severity = n.player_error_severity || a.player_error_severity, e.data.player_error_business_exception = n.player_error_business_exception || a.player_error_business_exception, t.viewErrored = !0);\n      } catch (o) {\n        e.mux.log.warn(\"Exception in error translator callback.\", o), t.viewErrored = !0;\n      }\n    }), e.on(\"aftererror\", function () {\n      var i, a, n, o, s;\n      (i = e.data) === null || i === void 0 || delete i.player_error_code, (a = e.data) === null || a === void 0 || delete a.player_error_message, (n = e.data) === null || n === void 0 || delete n.player_error_context, (o = e.data) === null || o === void 0 || delete o.player_error_severity, (s = e.data) === null || s === void 0 || delete s.player_error_business_exception;\n    });\n  },\n  Bt = fa;\nvar pa = function () {\n    \"use strict\";\n\n    function r(e) {\n      D(this, r), l(this, \"_watchTimeTrackerLastCheckedTime\", void 0), l(this, \"pm\", void 0), this.pm = e, this._watchTimeTrackerLastCheckedTime = null, e.on(\"playbackheartbeat\", this._updateWatchTime.bind(this)), e.on(\"playbackheartbeatend\", this._clearWatchTimeState.bind(this));\n    }\n    return L(r, [{\n      key: \"_updateWatchTime\",\n      value: function (t, i) {\n        var a = i.viewer_time;\n        this._watchTimeTrackerLastCheckedTime === null && (this._watchTimeTrackerLastCheckedTime = a), O(this.pm.data, \"view_watch_time\", a - this._watchTimeTrackerLastCheckedTime), this._watchTimeTrackerLastCheckedTime = a;\n      }\n    }, {\n      key: \"_clearWatchTimeState\",\n      value: function (t, i) {\n        this._updateWatchTime(t, i), this._watchTimeTrackerLastCheckedTime = null;\n      }\n    }]), r;\n  }(),\n  Ut = pa;\nvar va = function () {\n    \"use strict\";\n\n    function r(e) {\n      var t = this;\n      D(this, r), l(this, \"_playbackTimeTrackerLastPlayheadPosition\", void 0), l(this, \"_lastTime\", void 0), l(this, \"_isAdPlaying\", void 0), l(this, \"_callbackUpdatePlaybackTime\", void 0), l(this, \"pm\", void 0), this.pm = e, this._playbackTimeTrackerLastPlayheadPosition = -1, this._lastTime = A.now(), this._isAdPlaying = !1, this._callbackUpdatePlaybackTime = null;\n      var i = this._startPlaybackTimeTracking.bind(this);\n      e.on(\"playing\", i), e.on(\"adplaying\", i), e.on(\"seeked\", i);\n      var a = this._stopPlaybackTimeTracking.bind(this);\n      e.on(\"playbackheartbeatend\", a), e.on(\"seeking\", a), e.on(\"adplaying\", function () {\n        t._isAdPlaying = !0;\n      }), e.on(\"adended\", function () {\n        t._isAdPlaying = !1;\n      }), e.on(\"adpause\", function () {\n        t._isAdPlaying = !1;\n      }), e.on(\"adbreakstart\", function () {\n        t._isAdPlaying = !1;\n      }), e.on(\"adbreakend\", function () {\n        t._isAdPlaying = !1;\n      }), e.on(\"adplay\", function () {\n        t._isAdPlaying = !1;\n      }), e.on(\"viewinit\", function () {\n        t._playbackTimeTrackerLastPlayheadPosition = -1, t._lastTime = A.now(), t._isAdPlaying = !1, t._callbackUpdatePlaybackTime = null;\n      });\n    }\n    return L(r, [{\n      key: \"_startPlaybackTimeTracking\",\n      value: function () {\n        this._callbackUpdatePlaybackTime === null && (this._callbackUpdatePlaybackTime = this._updatePlaybackTime.bind(this), this._playbackTimeTrackerLastPlayheadPosition = this.pm.data.player_playhead_time, this.pm.on(\"playbackheartbeat\", this._callbackUpdatePlaybackTime));\n      }\n    }, {\n      key: \"_stopPlaybackTimeTracking\",\n      value: function () {\n        this._callbackUpdatePlaybackTime && (this._updatePlaybackTime(), this.pm.off(\"playbackheartbeat\", this._callbackUpdatePlaybackTime), this._callbackUpdatePlaybackTime = null, this._playbackTimeTrackerLastPlayheadPosition = -1);\n      }\n    }, {\n      key: \"_updatePlaybackTime\",\n      value: function () {\n        var t = this.pm.data.player_playhead_time,\n          i = A.now(),\n          a = -1;\n        this._playbackTimeTrackerLastPlayheadPosition >= 0 && t > this._playbackTimeTrackerLastPlayheadPosition ? a = t - this._playbackTimeTrackerLastPlayheadPosition : this._isAdPlaying && (a = i - this._lastTime), a > 0 && a <= 1e3 && O(this.pm.data, \"view_content_playback_time\", a), this._playbackTimeTrackerLastPlayheadPosition = t, this._lastTime = i;\n      }\n    }]), r;\n  }(),\n  Ft = va;\nvar ma = function () {\n    \"use strict\";\n\n    function r(e) {\n      D(this, r), l(this, \"pm\", void 0), this.pm = e;\n      var t = this._updatePlayheadTime.bind(this);\n      e.on(\"playbackheartbeat\", t), e.on(\"playbackheartbeatend\", t), e.on(\"timeupdate\", t), e.on(\"destroy\", function () {\n        e.off(\"timeupdate\", t);\n      });\n    }\n    return L(r, [{\n      key: \"_updateMaxPlayheadPosition\",\n      value: function () {\n        this.pm.data.view_max_playhead_position = typeof this.pm.data.view_max_playhead_position == \"undefined\" ? this.pm.data.player_playhead_time : Math.max(this.pm.data.view_max_playhead_position, this.pm.data.player_playhead_time);\n      }\n    }, {\n      key: \"_updatePlayheadTime\",\n      value: function (t, i) {\n        var a = this,\n          n = function () {\n            a.pm.currentFragmentPDT && a.pm.currentFragmentStart && (a.pm.data.player_program_time = a.pm.currentFragmentPDT + a.pm.data.player_playhead_time - a.pm.currentFragmentStart);\n          };\n        if (i && i.player_playhead_time) this.pm.data.player_playhead_time = i.player_playhead_time, n(), this._updateMaxPlayheadPosition();else if (this.pm.getPlayheadTime) {\n          var o = this.pm.getPlayheadTime();\n          typeof o != \"undefined\" && (this.pm.data.player_playhead_time = o, n(), this._updateMaxPlayheadPosition());\n        }\n      }\n    }]), r;\n  }(),\n  Vt = ma;\nvar Wt = 5 * 60 * 1e3,\n  ha = function r(e) {\n    \"use strict\";\n\n    if (D(this, r), !e.disableRebufferTracking) {\n      var t,\n        i = function (n, o) {\n          a(o), t = void 0;\n        },\n        a = function (n) {\n          if (t) {\n            var o = n.viewer_time - t;\n            O(e.data, \"view_rebuffer_duration\", o), t = n.viewer_time, e.data.view_rebuffer_duration > Wt && (e.emit(\"viewend\"), e.send(\"viewend\"), e.mux.log.warn(\"Ending view after rebuffering for longer than \".concat(Wt, \"ms, future events will be ignored unless a programchange or videochange occurs.\")));\n          }\n          e.data.view_watch_time >= 0 && e.data.view_rebuffer_count > 0 && (e.data.view_rebuffer_frequency = e.data.view_rebuffer_count / e.data.view_watch_time, e.data.view_rebuffer_percentage = e.data.view_rebuffer_duration / e.data.view_watch_time);\n        };\n      e.on(\"playbackheartbeat\", function (n, o) {\n        return a(o);\n      }), e.on(\"rebufferstart\", function (n, o) {\n        t || (O(e.data, \"view_rebuffer_count\", 1), t = o.viewer_time, e.one(\"rebufferend\", i));\n      }), e.on(\"viewinit\", function () {\n        t = void 0, e.off(\"rebufferend\", i);\n      });\n    }\n  },\n  jt = ha;\nvar ya = function () {\n    \"use strict\";\n\n    function r(e) {\n      var t = this;\n      D(this, r), l(this, \"_lastCheckedTime\", void 0), l(this, \"_lastPlayheadTime\", void 0), l(this, \"_lastPlayheadTimeUpdatedTime\", void 0), l(this, \"_rebuffering\", void 0), l(this, \"pm\", void 0), this.pm = e, !(e.disableRebufferTracking || e.disablePlayheadRebufferTracking) && (this._lastCheckedTime = null, this._lastPlayheadTime = null, this._lastPlayheadTimeUpdatedTime = null, e.on(\"playbackheartbeat\", this._checkIfRebuffering.bind(this)), e.on(\"playbackheartbeatend\", this._cleanupRebufferTracker.bind(this)), e.on(\"seeking\", function () {\n        t._cleanupRebufferTracker(null, {\n          viewer_time: A.now()\n        });\n      }));\n    }\n    return L(r, [{\n      key: \"_checkIfRebuffering\",\n      value: function (t, i) {\n        if (this.pm.seekingTracker.isSeeking || this.pm.adTracker.isAdBreak || !this.pm.playbackHeartbeat._playheadShouldBeProgressing) {\n          this._cleanupRebufferTracker(t, i);\n          return;\n        }\n        if (this._lastCheckedTime === null) {\n          this._prepareRebufferTrackerState(i.viewer_time);\n          return;\n        }\n        if (this._lastPlayheadTime !== this.pm.data.player_playhead_time) {\n          this._cleanupRebufferTracker(t, i, !0);\n          return;\n        }\n        var a = i.viewer_time - this._lastPlayheadTimeUpdatedTime;\n        typeof this.pm.sustainedRebufferThreshold == \"number\" && a >= this.pm.sustainedRebufferThreshold && (this._rebuffering || (this._rebuffering = !0, this.pm.emit(\"rebufferstart\", {\n          viewer_time: this._lastPlayheadTimeUpdatedTime\n        }))), this._lastCheckedTime = i.viewer_time;\n      }\n    }, {\n      key: \"_clearRebufferTrackerState\",\n      value: function () {\n        this._lastCheckedTime = null, this._lastPlayheadTime = null, this._lastPlayheadTimeUpdatedTime = null;\n      }\n    }, {\n      key: \"_prepareRebufferTrackerState\",\n      value: function (t) {\n        this._lastCheckedTime = t, this._lastPlayheadTime = this.pm.data.player_playhead_time, this._lastPlayheadTimeUpdatedTime = t;\n      }\n    }, {\n      key: \"_cleanupRebufferTracker\",\n      value: function (t, i) {\n        var a = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;\n        if (this._rebuffering) this._rebuffering = !1, this.pm.emit(\"rebufferend\", {\n          viewer_time: i.viewer_time\n        });else {\n          if (this._lastCheckedTime === null) return;\n          var n = this.pm.data.player_playhead_time - this._lastPlayheadTime,\n            o = i.viewer_time - this._lastPlayheadTimeUpdatedTime;\n          typeof this.pm.minimumRebufferDuration == \"number\" && n > 0 && o - n > this.pm.minimumRebufferDuration && (this._lastCheckedTime = null, this.pm.emit(\"rebufferstart\", {\n            viewer_time: this._lastPlayheadTimeUpdatedTime\n          }), this.pm.emit(\"rebufferend\", {\n            viewer_time: this._lastPlayheadTimeUpdatedTime + o - n\n          }));\n        }\n        a ? this._prepareRebufferTrackerState(i.viewer_time) : this._clearRebufferTrackerState();\n      }\n    }]), r;\n  }(),\n  Gt = ya;\nvar ga = function () {\n    \"use strict\";\n\n    function r(e) {\n      var t = this;\n      D(this, r), l(this, \"NAVIGATION_START\", void 0), l(this, \"pm\", void 0), this.pm = e, e.on(\"viewinit\", function () {\n        var i = e.data,\n          a = i.view_id;\n        if (!i.view_program_changed) {\n          var n = function (o, s) {\n            var u = s.viewer_time;\n            o.type === \"playing\" && typeof e.data.view_time_to_first_frame == \"undefined\" ? t.calculateTimeToFirstFrame(u || A.now(), a) : o.type === \"adplaying\" && (typeof e.data.view_time_to_first_frame == \"undefined\" || t._inPrerollPosition()) && t.calculateTimeToFirstFrame(u || A.now(), a);\n          };\n          e.one(\"playing\", n), e.one(\"adplaying\", n), e.one(\"viewend\", function () {\n            e.off(\"playing\", n), e.off(\"adplaying\", n);\n          });\n        }\n      });\n    }\n    return L(r, [{\n      key: \"_inPrerollPosition\",\n      value: function () {\n        return typeof this.pm.data.view_content_playback_time == \"undefined\" || this.pm.data.view_content_playback_time <= 1e3;\n      }\n    }, {\n      key: \"calculateTimeToFirstFrame\",\n      value: function (t, i) {\n        i === this.pm.data.view_id && (this.pm.watchTimeTracker._updateWatchTime(null, {\n          viewer_time: t\n        }), this.pm.data.view_time_to_first_frame = this.pm.data.view_watch_time, (this.pm.data.player_autoplay_on || this.pm.data.video_is_autoplay) && this.NAVIGATION_START && (this.pm.data.view_aggregate_startup_time = this.pm.data.view_start + this.pm.data.view_watch_time - this.NAVIGATION_START));\n      }\n    }]), r;\n  }(),\n  Jt = ga;\nvar ba = function r(e) {\n    \"use strict\";\n\n    var t = this;\n    D(this, r), l(this, \"_lastPlayerHeight\", void 0), l(this, \"_lastPlayerWidth\", void 0), l(this, \"_lastPlayheadPosition\", void 0), l(this, \"_lastSourceHeight\", void 0), l(this, \"_lastSourceWidth\", void 0), e.on(\"viewinit\", function () {\n      t._lastPlayheadPosition = -1;\n    });\n    var i = [\"pause\", \"rebufferstart\", \"seeking\", \"error\", \"adbreakstart\", \"hb\", \"renditionchange\", \"orientationchange\", \"viewend\"],\n      a = [\"playing\", \"hb\", \"renditionchange\", \"orientationchange\"];\n    i.forEach(function (n) {\n      e.on(n, function () {\n        if (t._lastPlayheadPosition >= 0 && e.data.player_playhead_time >= 0 && t._lastPlayerWidth >= 0 && t._lastSourceWidth > 0 && t._lastPlayerHeight >= 0 && t._lastSourceHeight > 0) {\n          var o = e.data.player_playhead_time - t._lastPlayheadPosition;\n          if (o < 0) {\n            t._lastPlayheadPosition = -1;\n            return;\n          }\n          var s = Math.min(t._lastPlayerWidth / t._lastSourceWidth, t._lastPlayerHeight / t._lastSourceHeight),\n            u = Math.max(0, s - 1),\n            p = Math.max(0, 1 - s);\n          e.data.view_max_upscale_percentage = Math.max(e.data.view_max_upscale_percentage || 0, u), e.data.view_max_downscale_percentage = Math.max(e.data.view_max_downscale_percentage || 0, p), O(e.data, \"view_total_content_playback_time\", o), O(e.data, \"view_total_upscaling\", u * o), O(e.data, \"view_total_downscaling\", p * o);\n        }\n        t._lastPlayheadPosition = -1;\n      });\n    }), a.forEach(function (n) {\n      e.on(n, function () {\n        t._lastPlayheadPosition = e.data.player_playhead_time, t._lastPlayerWidth = e.data.player_width, t._lastPlayerHeight = e.data.player_height, t._lastSourceWidth = e.data.video_source_width, t._lastSourceHeight = e.data.video_source_height;\n      });\n    });\n  },\n  Qt = ba;\nvar Ta = 2e3,\n  wa = function r(e) {\n    \"use strict\";\n\n    var t = this;\n    D(this, r), l(this, \"isSeeking\", void 0), this.isSeeking = !1;\n    var i = -1,\n      a = function () {\n        var n = A.now(),\n          o = (e.data.viewer_time || n) - (i || n);\n        O(e.data, \"view_seek_duration\", o), e.data.view_max_seek_time = Math.max(e.data.view_max_seek_time || 0, o), t.isSeeking = !1, i = -1;\n      };\n    e.on(\"seeking\", function (n, o) {\n      if (Object.assign(e.data, o), t.isSeeking && o.viewer_time - i <= Ta) {\n        i = o.viewer_time;\n        return;\n      }\n      t.isSeeking && a(), t.isSeeking = !0, i = o.viewer_time, O(e.data, \"view_seek_count\", 1), e.send(\"seeking\");\n    }), e.on(\"seeked\", function () {\n      a();\n    }), e.on(\"viewend\", function () {\n      t.isSeeking && (a(), e.send(\"seeked\")), t.isSeeking = !1, i = -1;\n    });\n  },\n  zt = wa;\nvar Kt = function (e, t) {\n    e.push(t), e.sort(function (i, a) {\n      return i.viewer_time - a.viewer_time;\n    });\n  },\n  Ea = [\"adbreakstart\", \"adrequest\", \"adresponse\", \"adplay\", \"adplaying\", \"adpause\", \"adended\", \"adbreakend\", \"aderror\", \"adclicked\", \"adskipped\"],\n  ka = function () {\n    \"use strict\";\n\n    function r(e) {\n      var t = this;\n      D(this, r), l(this, \"_adHasPlayed\", void 0), l(this, \"_adRequests\", void 0), l(this, \"_adResponses\", void 0), l(this, \"_currentAdRequestNumber\", void 0), l(this, \"_currentAdResponseNumber\", void 0), l(this, \"_prerollPlayTime\", void 0), l(this, \"_wouldBeNewAdPlay\", void 0), l(this, \"isAdBreak\", void 0), l(this, \"pm\", void 0), this.pm = e, e.on(\"viewinit\", function () {\n        t.isAdBreak = !1, t._currentAdRequestNumber = 0, t._currentAdResponseNumber = 0, t._adRequests = [], t._adResponses = [], t._adHasPlayed = !1, t._wouldBeNewAdPlay = !0, t._prerollPlayTime = void 0;\n      }), Ea.forEach(function (a) {\n        return e.on(a, t._updateAdData.bind(t));\n      });\n      var i = function () {\n        t.isAdBreak = !1;\n      };\n      e.on(\"adbreakstart\", function () {\n        t.isAdBreak = !0;\n      }), e.on(\"play\", i), e.on(\"playing\", i), e.on(\"viewend\", i), e.on(\"adrequest\", function (a, n) {\n        n = Object.assign({\n          ad_request_id: \"generatedAdRequestId\" + t._currentAdRequestNumber++\n        }, n), Kt(t._adRequests, n), O(e.data, \"view_ad_request_count\"), t.inPrerollPosition() && (e.data.view_preroll_requested = !0, t._adHasPlayed || O(e.data, \"view_preroll_request_count\"));\n      }), e.on(\"adresponse\", function (a, n) {\n        n = Object.assign({\n          ad_request_id: \"generatedAdRequestId\" + t._currentAdResponseNumber++\n        }, n), Kt(t._adResponses, n);\n        var o = t.findAdRequest(n.ad_request_id);\n        o && O(e.data, \"view_ad_request_time\", Math.max(0, n.viewer_time - o.viewer_time));\n      }), e.on(\"adplay\", function (a, n) {\n        t._adHasPlayed = !0, t._wouldBeNewAdPlay && (t._wouldBeNewAdPlay = !1, O(e.data, \"view_ad_played_count\")), t.inPrerollPosition() && !e.data.view_preroll_played && (e.data.view_preroll_played = !0, t._adRequests.length > 0 && (e.data.view_preroll_request_time = Math.max(0, n.viewer_time - t._adRequests[0].viewer_time)), e.data.view_start && (e.data.view_startup_preroll_request_time = Math.max(0, n.viewer_time - e.data.view_start)), t._prerollPlayTime = n.viewer_time);\n      }), e.on(\"adplaying\", function (a, n) {\n        t.inPrerollPosition() && typeof e.data.view_preroll_load_time == \"undefined\" && typeof t._prerollPlayTime != \"undefined\" && (e.data.view_preroll_load_time = n.viewer_time - t._prerollPlayTime, e.data.view_startup_preroll_load_time = n.viewer_time - t._prerollPlayTime);\n      }), e.on(\"adclicked\", function (a, n) {\n        t._wouldBeNewAdPlay || O(e.data, \"view_ad_clicked_count\");\n      }), e.on(\"adskipped\", function (a, n) {\n        t._wouldBeNewAdPlay || O(e.data, \"view_ad_skipped_count\");\n      }), e.on(\"adended\", function () {\n        t._wouldBeNewAdPlay = !0;\n      }), e.on(\"aderror\", function () {\n        t._wouldBeNewAdPlay = !0;\n      });\n    }\n    return L(r, [{\n      key: \"inPrerollPosition\",\n      value: function () {\n        return typeof this.pm.data.view_content_playback_time == \"undefined\" || this.pm.data.view_content_playback_time <= 1e3;\n      }\n    }, {\n      key: \"findAdRequest\",\n      value: function (t) {\n        for (var i = 0; i < this._adRequests.length; i++) if (this._adRequests[i].ad_request_id === t) return this._adRequests[i];\n      }\n    }, {\n      key: \"_updateAdData\",\n      value: function (t, i) {\n        if (this.inPrerollPosition()) {\n          if (!this.pm.data.view_preroll_ad_tag_hostname && i.ad_tag_url) {\n            var a = H(re(i.ad_tag_url), 2),\n              n = a[0],\n              o = a[1];\n            this.pm.data.view_preroll_ad_tag_domain = o, this.pm.data.view_preroll_ad_tag_hostname = n;\n          }\n          if (!this.pm.data.view_preroll_ad_asset_hostname && i.ad_asset_url) {\n            var s = H(re(i.ad_asset_url), 2),\n              u = s[0],\n              p = s[1];\n            this.pm.data.view_preroll_ad_asset_domain = p, this.pm.data.view_preroll_ad_asset_hostname = u;\n          }\n        }\n        this.pm.data.ad_asset_url = i == null ? void 0 : i.ad_asset_url, this.pm.data.ad_tag_url = i == null ? void 0 : i.ad_tag_url, this.pm.data.ad_creative_id = i == null ? void 0 : i.ad_creative_id, this.pm.data.ad_id = i == null ? void 0 : i.ad_id, this.pm.data.ad_universal_id = i == null ? void 0 : i.ad_universal_id;\n      }\n    }]), r;\n  }(),\n  Yt = ka;\nvar Qe = V(J());\nvar xa = function r(e) {\n    \"use strict\";\n\n    D(this, r);\n    var t,\n      i,\n      a = function () {\n        e.disableRebufferTracking || (O(e.data, \"view_waiting_rebuffer_count\", 1), t = A.now(), i = Qe.default.setInterval(function () {\n          if (t) {\n            var p = A.now();\n            O(e.data, \"view_waiting_rebuffer_duration\", p - t), t = p;\n          }\n        }, 250));\n      },\n      n = function () {\n        e.disableRebufferTracking || t && (O(e.data, \"view_waiting_rebuffer_duration\", A.now() - t), t = !1, Qe.default.clearInterval(i));\n      },\n      o = !1,\n      s = function () {\n        o = !0;\n      },\n      u = function () {\n        o = !1, n();\n      };\n    e.on(\"waiting\", function () {\n      o && a();\n    }), e.on(\"playing\", function () {\n      n(), s();\n    }), e.on(\"pause\", u), e.on(\"seeking\", u);\n  },\n  Xt = xa;\nvar Da = function r(e) {\n    \"use strict\";\n\n    var t = this;\n    D(this, r), l(this, \"lastWallClockTime\", void 0);\n    var i = function () {\n        t.lastWallClockTime = A.now(), e.on(\"before*\", a);\n      },\n      a = function (n) {\n        var o = A.now(),\n          s = t.lastWallClockTime;\n        t.lastWallClockTime = o, o - s > 3e4 && (e.emit(\"devicesleep\", {\n          viewer_time: s\n        }), Object.assign(e.data, {\n          viewer_time: s\n        }), e.send(\"devicesleep\"), e.emit(\"devicewake\", {\n          viewer_time: o\n        }), Object.assign(e.data, {\n          viewer_time: o\n        }), e.send(\"devicewake\"));\n      };\n    e.one(\"playbackheartbeat\", i), e.on(\"playbackheartbeatend\", function () {\n      e.off(\"before*\", a), e.one(\"playbackheartbeat\", i);\n    });\n  },\n  $t = Da;\nvar Ue = V(J());\nvar ze = function (r) {\n  return r();\n}(function () {\n  var r = function () {\n    for (var i = 0, a = {}; i < arguments.length; i++) {\n      var n = arguments[i];\n      for (var o in n) a[o] = n[o];\n    }\n    return a;\n  };\n  function e(t) {\n    function i(a, n, o) {\n      var s;\n      if (typeof document != \"undefined\") {\n        if (arguments.length > 1) {\n          if (o = r({\n            path: \"/\"\n          }, i.defaults, o), typeof o.expires == \"number\") {\n            var u = new Date();\n            u.setMilliseconds(u.getMilliseconds() + o.expires * 864e5), o.expires = u;\n          }\n          try {\n            s = JSON.stringify(n), /^[\\{\\[]/.test(s) && (n = s);\n          } catch (T) {}\n          return t.write ? n = t.write(n, a) : n = encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), a = encodeURIComponent(String(a)), a = a.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), a = a.replace(/[\\(\\)]/g, escape), document.cookie = [a, \"=\", n, o.expires ? \"; expires=\" + o.expires.toUTCString() : \"\", o.path ? \"; path=\" + o.path : \"\", o.domain ? \"; domain=\" + o.domain : \"\", o.secure ? \"; secure\" : \"\"].join(\"\");\n        }\n        a || (s = {});\n        for (var p = document.cookie ? document.cookie.split(\"; \") : [], b = /(%[0-9A-Z]{2})+/g, k = 0; k < p.length; k++) {\n          var y = p[k].split(\"=\"),\n            c = y.slice(1).join(\"=\");\n          c.charAt(0) === '\"' && (c = c.slice(1, -1));\n          try {\n            var v = y[0].replace(b, decodeURIComponent);\n            if (c = t.read ? t.read(c, v) : t(c, v) || c.replace(b, decodeURIComponent), this.json) try {\n              c = JSON.parse(c);\n            } catch (T) {}\n            if (a === v) {\n              s = c;\n              break;\n            }\n            a || (s[v] = c);\n          } catch (T) {}\n        }\n        return s;\n      }\n    }\n    return i.set = i, i.get = function (a) {\n      return i.call(i, a);\n    }, i.getJSON = function () {\n      return i.apply({\n        json: !0\n      }, [].slice.call(arguments));\n    }, i.defaults = {}, i.remove = function (a, n) {\n      i(a, \"\", r(n, {\n        expires: -1\n      }));\n    }, i.withConverter = e, i;\n  }\n  return e(function () {});\n});\nvar Zt = \"muxData\",\n  Sa = function (r) {\n    return Object.entries(r).map(function (e) {\n      var t = H(e, 2),\n        i = t[0],\n        a = t[1];\n      return \"\".concat(i, \"=\").concat(a);\n    }).join(\"&\");\n  },\n  Ra = function (r) {\n    return r.split(\"&\").reduce(function (e, t) {\n      var i = H(t.split(\"=\"), 2),\n        a = i[0],\n        n = i[1],\n        o = +n,\n        s = n && o == n ? o : n;\n      return e[a] = s, e;\n    }, {});\n  },\n  er = function () {\n    var e;\n    try {\n      e = Ra(ze.get(Zt) || \"\");\n    } catch (t) {\n      e = {};\n    }\n    return e;\n  },\n  tr = function (e) {\n    try {\n      ze.set(Zt, Sa(e), {\n        expires: 365\n      });\n    } catch (t) {}\n  },\n  rr = function () {\n    var e = er();\n    return e.mux_viewer_id = e.mux_viewer_id || ee(), e.msn = e.msn || Math.random(), tr(e), {\n      mux_viewer_id: e.mux_viewer_id,\n      mux_sample_number: e.msn\n    };\n  },\n  ar = function () {\n    var e = er(),\n      t = A.now();\n    return e.session_start && (e.sst = e.session_start, delete e.session_start), e.session_id && (e.sid = e.session_id, delete e.session_id), e.session_expires && (e.sex = e.session_expires, delete e.session_expires), (!e.sex || e.sex < t) && (e.sid = ee(), e.sst = t), e.sex = t + 25 * 60 * 1e3, tr(e), {\n      session_id: e.sid,\n      session_start: e.sst,\n      session_expires: e.sex\n    };\n  };\nfunction Ke(r, e) {\n  var t = e.beaconCollectionDomain,\n    i = e.beaconDomain;\n  if (t) return \"https://\" + t;\n  r = r || \"inferred\";\n  var a = i || \"litix.io\";\n  return r.match(/^[a-z0-9]+$/) ? \"https://\" + r + \".\" + a : \"https://img.litix.io/a.gif\";\n}\nvar ir = V(J()),\n  nr = function () {\n    var e;\n    switch (or()) {\n      case \"cellular\":\n        e = \"cellular\";\n        break;\n      case \"ethernet\":\n        e = \"wired\";\n        break;\n      case \"wifi\":\n        e = \"wifi\";\n        break;\n      case void 0:\n        break;\n      default:\n        e = \"other\";\n    }\n    return e;\n  },\n  or = function () {\n    var e = ir.default.navigator,\n      t = e && (e.connection || e.mozConnection || e.webkitConnection);\n    return t && t.type;\n  };\nnr.getConnectionFromAPI = or;\nvar sr = nr;\nvar qa = {\n    a: \"env\",\n    b: \"beacon\",\n    c: \"custom\",\n    d: \"ad\",\n    e: \"event\",\n    f: \"experiment\",\n    i: \"internal\",\n    m: \"mux\",\n    n: \"response\",\n    p: \"player\",\n    q: \"request\",\n    r: \"retry\",\n    s: \"session\",\n    t: \"timestamp\",\n    u: \"viewer\",\n    v: \"video\",\n    w: \"page\",\n    x: \"view\",\n    y: \"sub\"\n  },\n  Aa = dr(qa),\n  Oa = {\n    ad: \"ad\",\n    af: \"affiliate\",\n    ag: \"aggregate\",\n    ap: \"api\",\n    al: \"application\",\n    ao: \"audio\",\n    ar: \"architecture\",\n    as: \"asset\",\n    au: \"autoplay\",\n    av: \"average\",\n    bi: \"bitrate\",\n    bn: \"brand\",\n    br: \"break\",\n    bw: \"browser\",\n    by: \"bytes\",\n    bz: \"business\",\n    ca: \"cached\",\n    cb: \"cancel\",\n    cc: \"codec\",\n    cd: \"code\",\n    cg: \"category\",\n    ch: \"changed\",\n    ci: \"client\",\n    ck: \"clicked\",\n    cl: \"canceled\",\n    cn: \"config\",\n    co: \"count\",\n    ce: \"counter\",\n    cp: \"complete\",\n    cq: \"creator\",\n    cr: \"creative\",\n    cs: \"captions\",\n    ct: \"content\",\n    cu: \"current\",\n    cx: \"connection\",\n    cz: \"context\",\n    dg: \"downscaling\",\n    dm: \"domain\",\n    dn: \"cdn\",\n    do: \"downscale\",\n    dr: \"drm\",\n    dp: \"dropped\",\n    du: \"duration\",\n    dv: \"device\",\n    dy: \"dynamic\",\n    eb: \"enabled\",\n    ec: \"encoding\",\n    ed: \"edge\",\n    en: \"end\",\n    eg: \"engine\",\n    em: \"embed\",\n    er: \"error\",\n    ep: \"experiments\",\n    es: \"errorcode\",\n    et: \"errortext\",\n    ee: \"event\",\n    ev: \"events\",\n    ex: \"expires\",\n    ez: \"exception\",\n    fa: \"failed\",\n    fi: \"first\",\n    fm: \"family\",\n    ft: \"format\",\n    fp: \"fps\",\n    fq: \"frequency\",\n    fr: \"frame\",\n    fs: \"fullscreen\",\n    ha: \"has\",\n    hb: \"holdback\",\n    he: \"headers\",\n    ho: \"host\",\n    hn: \"hostname\",\n    ht: \"height\",\n    id: \"id\",\n    ii: \"init\",\n    in: \"instance\",\n    ip: \"ip\",\n    is: \"is\",\n    ke: \"key\",\n    la: \"language\",\n    lb: \"labeled\",\n    le: \"level\",\n    li: \"live\",\n    ld: \"loaded\",\n    lo: \"load\",\n    ls: \"lists\",\n    lt: \"latency\",\n    ma: \"max\",\n    md: \"media\",\n    me: \"message\",\n    mf: \"manifest\",\n    mi: \"mime\",\n    ml: \"midroll\",\n    mm: \"min\",\n    mn: \"manufacturer\",\n    mo: \"model\",\n    mx: \"mux\",\n    ne: \"newest\",\n    nm: \"name\",\n    no: \"number\",\n    on: \"on\",\n    or: \"origin\",\n    os: \"os\",\n    pa: \"paused\",\n    pb: \"playback\",\n    pd: \"producer\",\n    pe: \"percentage\",\n    pf: \"played\",\n    pg: \"program\",\n    ph: \"playhead\",\n    pi: \"plugin\",\n    pl: \"preroll\",\n    pn: \"playing\",\n    po: \"poster\",\n    pp: \"pip\",\n    pr: \"preload\",\n    ps: \"position\",\n    pt: \"part\",\n    py: \"property\",\n    px: \"pop\",\n    pz: \"plan\",\n    ra: \"rate\",\n    rd: \"requested\",\n    re: \"rebuffer\",\n    rf: \"rendition\",\n    rg: \"range\",\n    rm: \"remote\",\n    ro: \"ratio\",\n    rp: \"response\",\n    rq: \"request\",\n    rs: \"requests\",\n    sa: \"sample\",\n    sd: \"skipped\",\n    se: \"session\",\n    sh: \"shift\",\n    sk: \"seek\",\n    sm: \"stream\",\n    so: \"source\",\n    sq: \"sequence\",\n    sr: \"series\",\n    ss: \"status\",\n    st: \"start\",\n    su: \"startup\",\n    sv: \"server\",\n    sw: \"software\",\n    sy: \"severity\",\n    ta: \"tag\",\n    tc: \"tech\",\n    te: \"text\",\n    tg: \"target\",\n    th: \"throughput\",\n    ti: \"time\",\n    tl: \"total\",\n    to: \"to\",\n    tt: \"title\",\n    ty: \"type\",\n    ug: \"upscaling\",\n    un: \"universal\",\n    up: \"upscale\",\n    ur: \"url\",\n    us: \"user\",\n    va: \"variant\",\n    vd: \"viewed\",\n    vi: \"video\",\n    ve: \"version\",\n    vw: \"view\",\n    vr: \"viewer\",\n    wd: \"width\",\n    wa: \"watch\",\n    wt: \"waiting\"\n  },\n  ur = dr(Oa);\nfunction dr(r) {\n  var e = {};\n  for (var t in r) r.hasOwnProperty(t) && (e[r[t]] = t);\n  return e;\n}\nfunction ve(r) {\n  var e = {},\n    t = {};\n  return Object.keys(r).forEach(function (i) {\n    var a = !1;\n    if (r.hasOwnProperty(i) && r[i] !== void 0) {\n      var n = i.split(\"_\"),\n        o = n[0],\n        s = Aa[o];\n      s || (q.info(\"Data key word `\" + n[0] + \"` not expected in \" + i), s = o + \"_\"), n.splice(1).forEach(function (u) {\n        u === \"url\" && (a = !0), ur[u] ? s += ur[u] : Number.isInteger(Number(u)) ? s += u : (q.info(\"Data key word `\" + u + \"` not expected in \" + i), s += \"_\" + u + \"_\");\n      }), a ? t[s] = r[i] : e[s] = r[i];\n    }\n  }), Object.assign(e, t);\n}\nvar ie = V(J()),\n  Lr = V(nt());\nvar ai = {\n    maxBeaconSize: 300,\n    maxQueueLength: 3600,\n    baseTimeBetweenBeacons: 1e4,\n    maxPayloadKBSize: 500\n  },\n  ii = 56 * 1024,\n  ni = [\"hb\", \"requestcompleted\", \"requestfailed\", \"requestcanceled\"],\n  oi = \"https://img.litix.io\",\n  $ = function (e) {\n    var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    this._beaconUrl = e || oi, this._eventQueue = [], this._postInFlight = !1, this._resendAfterPost = !1, this._failureCount = 0, this._sendTimeout = !1, this._options = Object.assign({}, ai, t);\n  };\n$.prototype.queueEvent = function (r, e) {\n  var t = Object.assign({}, e);\n  return this._eventQueue.length <= this._options.maxQueueLength || r === \"eventrateexceeded\" ? (this._eventQueue.push(t), this._sendTimeout || this._startBeaconSending(), this._eventQueue.length <= this._options.maxQueueLength) : !1;\n};\n$.prototype.flushEvents = function () {\n  var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;\n  if (r && this._eventQueue.length === 1) {\n    this._eventQueue.pop();\n    return;\n  }\n  this._eventQueue.length && this._sendBeaconQueue(), this._startBeaconSending();\n};\n$.prototype.destroy = function () {\n  var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;\n  this.destroyed = !0, r ? this._clearBeaconQueue() : this.flushEvents(), ie.default.clearTimeout(this._sendTimeout);\n};\n$.prototype._clearBeaconQueue = function () {\n  var r = this._eventQueue.length > this._options.maxBeaconSize ? this._eventQueue.length - this._options.maxBeaconSize : 0,\n    e = this._eventQueue.slice(r);\n  r > 0 && Object.assign(e[e.length - 1], ve({\n    mux_view_message: \"event queue truncated\"\n  }));\n  var t = this._createPayload(e);\n  Cr(this._beaconUrl, t, !0, function () {});\n};\n$.prototype._sendBeaconQueue = function () {\n  var r = this;\n  if (this._postInFlight) {\n    this._resendAfterPost = !0;\n    return;\n  }\n  var e = this._eventQueue.slice(0, this._options.maxBeaconSize);\n  this._eventQueue = this._eventQueue.slice(this._options.maxBeaconSize), this._postInFlight = !0;\n  var t = this._createPayload(e),\n    i = A.now();\n  Cr(this._beaconUrl, t, !1, function (a, n) {\n    n ? (r._eventQueue = e.concat(r._eventQueue), r._failureCount += 1, q.info(\"Error sending beacon: \" + n)) : r._failureCount = 0, r._roundTripTime = A.now() - i, r._postInFlight = !1, r._resendAfterPost && (r._resendAfterPost = !1, r._eventQueue.length > 0 && r._sendBeaconQueue());\n  });\n};\n$.prototype._getNextBeaconTime = function () {\n  if (!this._failureCount) return this._options.baseTimeBetweenBeacons;\n  var r = Math.pow(2, this._failureCount - 1);\n  return r = r * Math.random(), (1 + r) * this._options.baseTimeBetweenBeacons;\n};\n$.prototype._startBeaconSending = function () {\n  var r = this;\n  ie.default.clearTimeout(this._sendTimeout), !this.destroyed && (this._sendTimeout = ie.default.setTimeout(function () {\n    r._eventQueue.length && r._sendBeaconQueue(), r._startBeaconSending();\n  }, this._getNextBeaconTime()));\n};\n$.prototype._createPayload = function (r) {\n  var e = this,\n    t = {\n      transmission_timestamp: Math.round(A.now())\n    };\n  this._roundTripTime && (t.rtt_ms = Math.round(this._roundTripTime));\n  var i,\n    a,\n    n,\n    o = function () {\n      i = JSON.stringify({\n        metadata: t,\n        events: a || r\n      }), n = i.length / 1024;\n    },\n    s = function () {\n      return n <= e._options.maxPayloadKBSize;\n    };\n  return o(), s() || (q.info(\"Payload size is too big (\" + n + \" kb). Removing unnecessary events.\"), a = r.filter(function (u) {\n    return ni.indexOf(u.e) === -1;\n  }), o()), s() || (q.info(\"Payload size still too big (\" + n + \" kb). Cropping fields..\"), a.forEach(function (u) {\n    for (var p in u) {\n      var b = u[p],\n        k = 50 * 1024;\n      typeof b == \"string\" && b.length > k && (u[p] = b.substring(0, k));\n    }\n  }), o()), i;\n};\nvar si = typeof Lr.default.exitPictureInPicture == \"function\" ? function (r) {\n    return r.length <= ii;\n  } : function (r) {\n    return !1;\n  },\n  Cr = function (r, e, t, i) {\n    if (t && navigator && navigator.sendBeacon && navigator.sendBeacon(r, e)) {\n      i();\n      return;\n    }\n    if (ie.default.fetch) {\n      ie.default.fetch(r, {\n        method: \"POST\",\n        body: e,\n        headers: {\n          \"Content-Type\": \"text/plain\"\n        },\n        keepalive: si(e)\n      }).then(function (n) {\n        return i(null, n.ok ? null : \"Error\");\n      }).catch(function (n) {\n        return i(null, n);\n      });\n      return;\n    }\n    if (ie.default.XMLHttpRequest) {\n      var a = new ie.default.XMLHttpRequest();\n      a.onreadystatechange = function () {\n        if (a.readyState === 4) return i(null, a.status !== 200 ? \"error\" : void 0);\n      }, a.open(\"POST\", r), a.setRequestHeader(\"Content-Type\", \"text/plain\"), a.send(e);\n      return;\n    }\n    i();\n  },\n  Mr = $;\nvar ui = [\"env_key\", \"view_id\", \"view_sequence_number\", \"player_sequence_number\", \"beacon_domain\", \"player_playhead_time\", \"viewer_time\", \"mux_api_version\", \"event\", \"video_id\", \"player_instance_id\", \"player_error_code\", \"player_error_message\", \"player_error_context\", \"player_error_severity\", \"player_error_business_exception\"],\n  di = [\"adplay\", \"adplaying\", \"adpause\", \"adfirstquartile\", \"admidpoint\", \"adthirdquartile\", \"adended\", \"adresponse\", \"adrequest\"],\n  li = [\"ad_id\", \"ad_creative_id\", \"ad_universal_id\"],\n  ci = [\"viewstart\", \"error\", \"ended\", \"viewend\"],\n  _i = 10 * 60 * 1e3,\n  Hr = function () {\n    \"use strict\";\n\n    function r(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      D(this, r);\n      var a, n, o, s, u, p, b, k, y, c, v, T;\n      l(this, \"mux\", void 0), l(this, \"envKey\", void 0), l(this, \"options\", void 0), l(this, \"eventQueue\", void 0), l(this, \"sampleRate\", void 0), l(this, \"disableCookies\", void 0), l(this, \"respectDoNotTrack\", void 0), l(this, \"previousBeaconData\", void 0), l(this, \"lastEventTime\", void 0), l(this, \"rateLimited\", void 0), l(this, \"pageLevelData\", void 0), l(this, \"viewerData\", void 0), this.mux = e, this.envKey = t, this.options = i, this.previousBeaconData = null, this.lastEventTime = 0, this.rateLimited = !1, this.eventQueue = new Mr(Ke(this.envKey, this.options));\n      var x;\n      this.sampleRate = (x = this.options.sampleRate) !== null && x !== void 0 ? x : 1;\n      var m;\n      this.disableCookies = (m = this.options.disableCookies) !== null && m !== void 0 ? m : !1;\n      var f;\n      this.respectDoNotTrack = (f = this.options.respectDoNotTrack) !== null && f !== void 0 ? f : !1, this.previousBeaconData = null, this.lastEventTime = 0, this.rateLimited = !1, this.pageLevelData = {\n        mux_api_version: this.mux.API_VERSION,\n        mux_embed: this.mux.NAME,\n        mux_embed_version: this.mux.VERSION,\n        viewer_application_name: (a = this.options.platform) === null || a === void 0 ? void 0 : a.name,\n        viewer_application_version: (n = this.options.platform) === null || n === void 0 ? void 0 : n.version,\n        viewer_application_engine: (o = this.options.platform) === null || o === void 0 ? void 0 : o.layout,\n        viewer_device_name: (s = this.options.platform) === null || s === void 0 ? void 0 : s.product,\n        viewer_device_category: \"\",\n        viewer_device_manufacturer: (u = this.options.platform) === null || u === void 0 ? void 0 : u.manufacturer,\n        viewer_os_family: (b = this.options.platform) === null || b === void 0 || (p = b.os) === null || p === void 0 ? void 0 : p.family,\n        viewer_os_architecture: (y = this.options.platform) === null || y === void 0 || (k = y.os) === null || k === void 0 ? void 0 : k.architecture,\n        viewer_os_version: (v = this.options.platform) === null || v === void 0 || (c = v.os) === null || c === void 0 ? void 0 : c.version,\n        viewer_connection_type: sr(),\n        page_url: Ue.default === null || Ue.default === void 0 || (T = Ue.default.location) === null || T === void 0 ? void 0 : T.href\n      }, this.viewerData = this.disableCookies ? {} : rr();\n    }\n    return L(r, [{\n      key: \"send\",\n      value: function (t, i) {\n        if (!(!t || !(i != null && i.view_id))) {\n          if (this.respectDoNotTrack && ce()) return q.info(\"Not sending `\" + t + \"` because Do Not Track is enabled\");\n          if (!i || typeof i != \"object\") return q.error(\"A data object was expected in send() but was not provided\");\n          var a = this.disableCookies ? {} : ar(),\n            n = fe(ue({}, this.pageLevelData, i, a, this.viewerData), {\n              event: t,\n              env_key: this.envKey\n            });\n          n.user_id && (n.viewer_user_id = n.user_id, delete n.user_id);\n          var o,\n            s = ((o = n.mux_sample_number) !== null && o !== void 0 ? o : 0) >= this.sampleRate,\n            u = this._deduplicateBeaconData(t, n),\n            p = ve(u);\n          if (this.lastEventTime = this.mux.utils.now(), s) return q.info(\"Not sending event due to sample rate restriction\", t, n, p);\n          if (this.envKey || q.info(\"Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL\", t, n, p), !this.rateLimited) {\n            if (q.info(\"Sending event\", t, n, p), this.rateLimited = !this.eventQueue.queueEvent(t, p), this.mux.WINDOW_UNLOADING && t === \"viewend\") this.eventQueue.destroy(!0);else if (this.mux.WINDOW_HIDDEN && t === \"hb\" ? this.eventQueue.flushEvents(!0) : ci.indexOf(t) >= 0 && this.eventQueue.flushEvents(), this.rateLimited) return n.event = \"eventrateexceeded\", p = ve(n), this.eventQueue.queueEvent(n.event, p), q.error(\"Beaconing disabled due to rate limit.\");\n          }\n        }\n      }\n    }, {\n      key: \"destroy\",\n      value: function () {\n        this.eventQueue.destroy(!1);\n      }\n    }, {\n      key: \"_deduplicateBeaconData\",\n      value: function (t, i) {\n        var a = this,\n          n = {},\n          o = i.view_id;\n        if (o === \"-1\" || t === \"viewstart\" || t === \"viewend\" || !this.previousBeaconData || this.mux.utils.now() - this.lastEventTime >= _i) n = ue({}, i), o && (this.previousBeaconData = n), o && t === \"viewend\" && (this.previousBeaconData = null);else {\n          var s = t.indexOf(\"request\") === 0;\n          Object.entries(i).forEach(function (u) {\n            var p = H(u, 2),\n              b = p[0],\n              k = p[1];\n            a.previousBeaconData && (k !== a.previousBeaconData[b] || ui.indexOf(b) > -1 || a.objectHasChanged(s, b, k, a.previousBeaconData[b]) || a.eventRequiresKey(t, b)) && (n[b] = k, a.previousBeaconData[b] = k);\n          });\n        }\n        return n;\n      }\n    }, {\n      key: \"objectHasChanged\",\n      value: function (t, i, a, n) {\n        return !t || i.indexOf(\"request_\") !== 0 ? !1 : i === \"request_response_headers\" || typeof a != \"object\" || typeof n != \"object\" ? !0 : Object.keys(a || {}).length !== Object.keys(n || {}).length;\n      }\n    }, {\n      key: \"eventRequiresKey\",\n      value: function (t, i) {\n        return !!(t === \"renditionchange\" && i.indexOf(\"video_source_\") === 0 || li.includes(i) && di.includes(t));\n      }\n    }]), r;\n  }();\nvar fi = function r(e) {\n    \"use strict\";\n\n    D(this, r);\n    var t = 0,\n      i = 0,\n      a = 0,\n      n = 0,\n      o = 0,\n      s = 0,\n      u = 0,\n      p = function (y, c) {\n        var v = c.request_start,\n          T = c.request_response_start,\n          x = c.request_response_end,\n          m = c.request_bytes_loaded;\n        n++;\n        var f, _;\n        if (T ? (f = T - (v != null ? v : 0), _ = (x != null ? x : 0) - T) : _ = (x != null ? x : 0) - (v != null ? v : 0), _ > 0 && m && m > 0) {\n          var d = m / _ * 8e3;\n          o++, i += m, a += _, e.data.view_min_request_throughput = Math.min(e.data.view_min_request_throughput || 1 / 0, d), e.data.view_average_request_throughput = i / a * 8e3, e.data.view_request_count = n, f > 0 && (t += f, e.data.view_max_request_latency = Math.max(e.data.view_max_request_latency || 0, f), e.data.view_average_request_latency = t / o);\n        }\n      },\n      b = function (y, c) {\n        n++, s++, e.data.view_request_count = n, e.data.view_request_failed_count = s;\n      },\n      k = function (y, c) {\n        n++, u++, e.data.view_request_count = n, e.data.view_request_canceled_count = u;\n      };\n    e.on(\"requestcompleted\", p), e.on(\"requestfailed\", b), e.on(\"requestcanceled\", k);\n  },\n  Br = fi;\nvar pi = 60 * 60 * 1e3,\n  vi = function r(e) {\n    \"use strict\";\n\n    var t = this;\n    D(this, r), l(this, \"_lastEventTime\", void 0), e.on(\"before*\", function (i, a) {\n      var n = a.viewer_time,\n        o = A.now(),\n        s = t._lastEventTime;\n      if (t._lastEventTime = o, s && o - s > pi) {\n        var u = Object.keys(e.data).reduce(function (b, k) {\n          return k.indexOf(\"video_\") === 0 ? Object.assign(b, l({}, k, e.data[k])) : b;\n        }, {});\n        e.mux.log.info(\"Received event after at least an hour inactivity, creating a new view\");\n        var p = e.playbackHeartbeat._playheadShouldBeProgressing;\n        e._resetView(Object.assign({\n          viewer_time: n\n        }, u)), e.playbackHeartbeat._playheadShouldBeProgressing = p, e.playbackHeartbeat._playheadShouldBeProgressing && i.type !== \"play\" && i.type !== \"adbreakstart\" && (e.emit(\"play\", {\n          viewer_time: n\n        }), i.type !== \"playing\" && e.emit(\"playing\", {\n          viewer_time: n\n        }));\n      }\n    });\n  },\n  Ur = vi;\nvar mi = [\"viewstart\", \"ended\", \"loadstart\", \"pause\", \"play\", \"playing\", \"ratechange\", \"waiting\", \"adplay\", \"adpause\", \"adended\", \"aderror\", \"adplaying\", \"adrequest\", \"adresponse\", \"adbreakstart\", \"adbreakend\", \"adfirstquartile\", \"admidpoint\", \"adthirdquartile\", \"rebufferstart\", \"rebufferend\", \"seeked\", \"error\", \"hb\", \"requestcompleted\", \"requestfailed\", \"requestcanceled\", \"renditionchange\"],\n  hi = new Set([\"requestcompleted\", \"requestfailed\", \"requestcanceled\"]),\n  yi = function (r) {\n    \"use strict\";\n\n    Dt(t, r);\n    var e = qt(t);\n    function t(i, a, n) {\n      D(this, t);\n      var o;\n      o = e.call(this), l(g(o), \"DOM_CONTENT_LOADED_EVENT_END\", void 0), l(g(o), \"NAVIGATION_START\", void 0), l(g(o), \"_destroyed\", void 0), l(g(o), \"_heartBeatTimeout\", void 0), l(g(o), \"adTracker\", void 0), l(g(o), \"dashjs\", void 0), l(g(o), \"data\", void 0), l(g(o), \"disablePlayheadRebufferTracking\", void 0), l(g(o), \"disableRebufferTracking\", void 0), l(g(o), \"errorTracker\", void 0), l(g(o), \"errorTranslator\", void 0), l(g(o), \"emitTranslator\", void 0), l(g(o), \"getAdData\", void 0), l(g(o), \"getPlayheadTime\", void 0), l(g(o), \"getStateData\", void 0), l(g(o), \"stateDataTranslator\", void 0), l(g(o), \"hlsjs\", void 0), l(g(o), \"id\", void 0), l(g(o), \"longResumeTracker\", void 0), l(g(o), \"minimumRebufferDuration\", void 0), l(g(o), \"mux\", void 0), l(g(o), \"playbackEventDispatcher\", void 0), l(g(o), \"playbackHeartbeat\", void 0), l(g(o), \"playbackHeartbeatTime\", void 0), l(g(o), \"playheadTime\", void 0), l(g(o), \"seekingTracker\", void 0), l(g(o), \"sustainedRebufferThreshold\", void 0), l(g(o), \"watchTimeTracker\", void 0), l(g(o), \"currentFragmentPDT\", void 0), l(g(o), \"currentFragmentStart\", void 0), o.DOM_CONTENT_LOADED_EVENT_END = _e.domContentLoadedEventEnd(), o.NAVIGATION_START = _e.navigationStart();\n      var s = {\n        debug: !1,\n        minimumRebufferDuration: 250,\n        sustainedRebufferThreshold: 1e3,\n        playbackHeartbeatTime: 25,\n        beaconDomain: \"litix.io\",\n        sampleRate: 1,\n        disableCookies: !1,\n        respectDoNotTrack: !1,\n        disableRebufferTracking: !1,\n        disablePlayheadRebufferTracking: !1,\n        errorTranslator: function (y) {\n          return y;\n        },\n        emitTranslator: function () {\n          for (var y = arguments.length, c = new Array(y), v = 0; v < y; v++) c[v] = arguments[v];\n          return c;\n        },\n        stateDataTranslator: function (y) {\n          return y;\n        }\n      };\n      o.mux = i, o.id = a, n != null && n.beaconDomain && o.mux.log.warn(\"The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`.\"), n = Object.assign(s, n), n.data = n.data || {}, n.data.property_key && (n.data.env_key = n.data.property_key, delete n.data.property_key), q.level = n.debug ? Y.DEBUG : Y.WARN, o.getPlayheadTime = n.getPlayheadTime, o.getStateData = n.getStateData || function () {\n        return {};\n      }, o.getAdData = n.getAdData || function () {}, o.minimumRebufferDuration = n.minimumRebufferDuration, o.sustainedRebufferThreshold = n.sustainedRebufferThreshold, o.playbackHeartbeatTime = n.playbackHeartbeatTime, o.disableRebufferTracking = n.disableRebufferTracking, o.disableRebufferTracking && o.mux.log.warn(\"Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering.\"), o.disablePlayheadRebufferTracking = n.disablePlayheadRebufferTracking, o.errorTranslator = n.errorTranslator, o.emitTranslator = n.emitTranslator, o.stateDataTranslator = n.stateDataTranslator, o.playbackEventDispatcher = new Hr(i, n.data.env_key, n), o.data = {\n        player_instance_id: ee(),\n        mux_sample_rate: n.sampleRate,\n        beacon_domain: n.beaconCollectionDomain || n.beaconDomain\n      }, o.data.view_sequence_number = 1, o.data.player_sequence_number = 1;\n      var u = function () {\n        typeof this.data.view_start == \"undefined\" && (this.data.view_start = this.mux.utils.now(), this.emit(\"viewstart\"));\n      }.bind(g(o));\n      if (o.on(\"viewinit\", function (y, c) {\n        this._resetVideoData(), this._resetViewData(), this._resetErrorData(), this._updateStateData(), Object.assign(this.data, c), this._initializeViewData(), this.one(\"play\", u), this.one(\"adbreakstart\", u);\n      }), o.on(\"videochange\", function (y, c) {\n        this._resetView(c);\n      }), o.on(\"programchange\", function (y, c) {\n        this.data.player_is_paused && this.mux.log.warn(\"The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information.\"), this._resetView(Object.assign(c, {\n          view_program_changed: !0\n        })), u(), this.emit(\"play\"), this.emit(\"playing\");\n      }), o.on(\"fragmentchange\", function (y, c) {\n        this.currentFragmentPDT = c.currentFragmentPDT, this.currentFragmentStart = c.currentFragmentStart;\n      }), o.on(\"destroy\", o.destroy), typeof window != \"undefined\" && typeof window.addEventListener == \"function\" && typeof window.removeEventListener == \"function\") {\n        var p = function () {\n          var y = typeof o.data.view_start != \"undefined\";\n          o.mux.WINDOW_HIDDEN = document.visibilityState === \"hidden\", y && o.mux.WINDOW_HIDDEN && (o.data.player_is_paused || o.emit(\"hb\"));\n        };\n        window.addEventListener(\"visibilitychange\", p, !1);\n        var b = function (y) {\n          y.persisted || o.destroy();\n        };\n        window.addEventListener(\"pagehide\", b, !1), o.on(\"destroy\", function () {\n          window.removeEventListener(\"visibilitychange\", p), window.removeEventListener(\"pagehide\", b);\n        });\n      }\n      o.on(\"playerready\", function (y, c) {\n        Object.assign(this.data, c);\n      }), mi.forEach(function (y) {\n        o.on(y, function (c, v) {\n          y.indexOf(\"ad\") !== 0 && this._updateStateData(), Object.assign(this.data, v), this._sanitizeData();\n        }), o.on(\"after\" + y, function () {\n          (y !== \"error\" || this.errorTracker.viewErrored) && this.send(y);\n        });\n      }), o.on(\"viewend\", function (y, c) {\n        Object.assign(o.data, c);\n      });\n      var k = function (c) {\n        var v = this.mux.utils.now();\n        this.data.player_init_time && (this.data.player_startup_time = v - this.data.player_init_time), !this.mux.PLAYER_TRACKED && this.NAVIGATION_START && (this.mux.PLAYER_TRACKED = !0, (this.data.player_init_time || this.DOM_CONTENT_LOADED_EVENT_END) && (this.data.page_load_time = Math.min(this.data.player_init_time || 1 / 0, this.DOM_CONTENT_LOADED_EVENT_END || 1 / 0) - this.NAVIGATION_START)), this.send(\"playerready\"), delete this.data.player_startup_time, delete this.data.page_load_time;\n      };\n      return o.one(\"playerready\", k), o.longResumeTracker = new Ur(g(o)), o.errorTracker = new Bt(g(o)), new $t(g(o)), o.seekingTracker = new zt(g(o)), o.playheadTime = new Vt(g(o)), o.playbackHeartbeat = new Ht(g(o)), new Qt(g(o)), o.watchTimeTracker = new Ut(g(o)), new Ft(g(o)), o.adTracker = new Yt(g(o)), new Gt(g(o)), new jt(g(o)), new Jt(g(o)), new Xt(g(o)), new Br(g(o)), n.hlsjs && o.addHLSJS(n), n.dashjs && o.addDashJS(n), o.emit(\"viewinit\", n.data), o;\n    }\n    return L(t, [{\n      key: \"emit\",\n      value: function (a, n) {\n        var o,\n          s = Object.assign({\n            viewer_time: this.mux.utils.now()\n          }, n),\n          u = [a, s];\n        if (this.emitTranslator) try {\n          u = this.emitTranslator(a, s);\n        } catch (p) {\n          this.mux.log.warn(\"Exception in emit translator callback.\", p);\n        }\n        u != null && u.length && (o = De(X(t.prototype), \"emit\", this)).call.apply(o, [this].concat(W(u)));\n      }\n    }, {\n      key: \"destroy\",\n      value: function () {\n        this._destroyed || (this._destroyed = !0, typeof this.data.view_start != \"undefined\" && (this.emit(\"viewend\"), this.send(\"viewend\")), this.playbackEventDispatcher.destroy(), this.removeHLSJS(), this.removeDashJS(), window.clearTimeout(this._heartBeatTimeout));\n      }\n    }, {\n      key: \"send\",\n      value: function (a) {\n        if (this.data.view_id) {\n          var n = Object.assign({}, this.data),\n            o = [\"player_program_time\", \"player_manifest_newest_program_time\", \"player_live_edge_program_time\", \"player_program_time\", \"video_holdback\", \"video_part_holdback\", \"video_target_duration\", \"video_part_target_duration\"];\n          if (n.video_source_is_live === void 0 && (n.player_source_duration === 1 / 0 || n.video_source_duration === 1 / 0 ? n.video_source_is_live = !0 : (n.player_source_duration > 0 || n.video_source_duration > 0) && (n.video_source_is_live = !1)), n.video_source_is_live || o.forEach(function (b) {\n            n[b] = void 0;\n          }), n.video_source_url = n.video_source_url || n.player_source_url, n.video_source_url) {\n            var s = H(re(n.video_source_url), 2),\n              u = s[0],\n              p = s[1];\n            n.video_source_domain = p, n.video_source_hostname = u;\n          }\n          delete n.ad_request_id, this.playbackEventDispatcher.send(a, n), this.data.view_sequence_number++, this.data.player_sequence_number++, hi.has(a) || this._restartHeartBeat(), a === \"viewend\" && delete this.data.view_id;\n        }\n      }\n    }, {\n      key: \"_resetView\",\n      value: function (a) {\n        this.emit(\"viewend\"), this.send(\"viewend\"), this.emit(\"viewinit\", a);\n      }\n    }, {\n      key: \"_updateStateData\",\n      value: function () {\n        var a = this.getStateData();\n        if (typeof this.stateDataTranslator == \"function\") try {\n          a = this.stateDataTranslator(a);\n        } catch (n) {\n          this.mux.log.warn(\"Exception in stateDataTranslator translator callback.\", n);\n        }\n        Object.assign(this.data, a), this.playheadTime._updatePlayheadTime(), this._sanitizeData();\n      }\n    }, {\n      key: \"_sanitizeData\",\n      value: function () {\n        var a = this,\n          n = [\"player_width\", \"player_height\", \"video_source_width\", \"video_source_height\", \"player_playhead_time\", \"video_source_bitrate\"];\n        n.forEach(function (s) {\n          var u = parseInt(a.data[s], 10);\n          a.data[s] = isNaN(u) ? void 0 : u;\n        });\n        var o = [\"player_source_url\", \"video_source_url\"];\n        o.forEach(function (s) {\n          if (a.data[s]) {\n            var u = a.data[s].toLowerCase();\n            (u.indexOf(\"data:\") === 0 || u.indexOf(\"blob:\") === 0) && (a.data[s] = \"MSE style URL\");\n          }\n        });\n      }\n    }, {\n      key: \"_resetVideoData\",\n      value: function () {\n        var a = this;\n        Object.keys(this.data).forEach(function (n) {\n          n.indexOf(\"video_\") === 0 && delete a.data[n];\n        });\n      }\n    }, {\n      key: \"_resetViewData\",\n      value: function () {\n        var a = this;\n        Object.keys(this.data).forEach(function (n) {\n          n.indexOf(\"view_\") === 0 && delete a.data[n];\n        }), this.data.view_sequence_number = 1;\n      }\n    }, {\n      key: \"_resetErrorData\",\n      value: function () {\n        delete this.data.player_error_code, delete this.data.player_error_message, delete this.data.player_error_context, delete this.data.player_error_severity, delete this.data.player_error_business_exception;\n      }\n    }, {\n      key: \"_initializeViewData\",\n      value: function () {\n        var a = this,\n          n = this.data.view_id = ee(),\n          o = function () {\n            n === a.data.view_id && O(a.data, \"player_view_count\", 1);\n          };\n        this.data.player_is_paused ? this.one(\"play\", o) : o();\n      }\n    }, {\n      key: \"_restartHeartBeat\",\n      value: function () {\n        var a = this;\n        window.clearTimeout(this._heartBeatTimeout), this._heartBeatTimeout = window.setTimeout(function () {\n          a.data.player_is_paused || a.emit(\"hb\");\n        }, 1e4);\n      }\n    }, {\n      key: \"addHLSJS\",\n      value: function (a) {\n        if (!a.hlsjs) {\n          this.mux.log.warn(\"You must pass a valid hlsjs instance in order to track it.\");\n          return;\n        }\n        if (this.hlsjs) {\n          this.mux.log.warn(\"An instance of HLS.js is already being monitored for this player.\");\n          return;\n        }\n        this.hlsjs = a.hlsjs, Ot(this.mux, this.id, a.hlsjs, {}, a.Hls || window.Hls);\n      }\n    }, {\n      key: \"removeHLSJS\",\n      value: function () {\n        this.hlsjs && (Pt(this.hlsjs), this.hlsjs = void 0);\n      }\n    }, {\n      key: \"addDashJS\",\n      value: function (a) {\n        if (!a.dashjs) {\n          this.mux.log.warn(\"You must pass a valid dashjs instance in order to track it.\");\n          return;\n        }\n        if (this.dashjs) {\n          this.mux.log.warn(\"An instance of Dash.js is already being monitored for this player.\");\n          return;\n        }\n        this.dashjs = a.dashjs, Nt(this.mux, this.id, a.dashjs);\n      }\n    }, {\n      key: \"removeDashJS\",\n      value: function () {\n        this.dashjs && (Lt(this.dashjs), this.dashjs = void 0);\n      }\n    }]), t;\n  }(Mt),\n  Fr = yi;\nvar he = V(nt());\nfunction ot() {\n  return he.default && !!(he.default.fullscreenElement || he.default.webkitFullscreenElement || he.default.mozFullScreenElement || he.default.msFullscreenElement);\n}\nvar gi = [\"loadstart\", \"pause\", \"play\", \"playing\", \"seeking\", \"seeked\", \"timeupdate\", \"ratechange\", \"stalled\", \"waiting\", \"error\", \"ended\"],\n  bi = {\n    1: \"MEDIA_ERR_ABORTED\",\n    2: \"MEDIA_ERR_NETWORK\",\n    3: \"MEDIA_ERR_DECODE\",\n    4: \"MEDIA_ERR_SRC_NOT_SUPPORTED\"\n  };\nfunction st(r, e, t) {\n  var i = H(se(e), 3),\n    a = i[0],\n    n = i[1],\n    o = i[2],\n    s = r.log,\n    u = r.utils.getComputedStyle,\n    p = r.utils.secondsToMs,\n    b = {\n      automaticErrorTracking: !0\n    };\n  if (a) {\n    if (o !== \"video\" && o !== \"audio\") return s.error(\"The element of `\" + n + \"` was not a media element.\");\n  } else return s.error(\"No element was found with the `\" + n + \"` query selector.\");\n  a.mux && (a.mux.destroy(), delete a.mux, s.warn(\"Already monitoring this video element, replacing existing event listeners\"));\n  var k = {\n    getPlayheadTime: function () {\n      return p(a.currentTime);\n    },\n    getStateData: function () {\n      var v,\n        T,\n        x,\n        m = ((v = (T = this).getPlayheadTime) === null || v === void 0 ? void 0 : v.call(T)) || p(a.currentTime),\n        f = this.hlsjs && this.hlsjs.url,\n        _ = this.dashjs && typeof this.dashjs.getSource == \"function\" && this.dashjs.getSource(),\n        d = {\n          player_is_paused: a.paused,\n          player_width: parseInt(u(a, \"width\")),\n          player_height: parseInt(u(a, \"height\")),\n          player_autoplay_on: a.autoplay,\n          player_preload_on: a.preload,\n          player_language_code: a.lang,\n          player_is_fullscreen: ot(),\n          video_poster_url: a.poster,\n          video_source_url: f || _ || a.currentSrc,\n          video_source_duration: p(a.duration),\n          video_source_height: a.videoHeight,\n          video_source_width: a.videoWidth,\n          view_dropped_frame_count: a == null || (x = a.getVideoPlaybackQuality) === null || x === void 0 ? void 0 : x.call(a).droppedVideoFrames\n        };\n      if (a.getStartDate && m > 0) {\n        var h = a.getStartDate();\n        if (h && typeof h.getTime == \"function\" && h.getTime()) {\n          var w = h.getTime();\n          if (d.player_program_time = w + m, a.seekable.length > 0) {\n            var E = w + a.seekable.end(a.seekable.length - 1);\n            d.player_live_edge_program_time = E;\n          }\n        }\n      }\n      return d;\n    }\n  };\n  t = Object.assign(b, t, k), t.data = Object.assign({\n    player_software: \"HTML5 Video Element\",\n    player_mux_plugin_name: \"VideoElementMonitor\",\n    player_mux_plugin_version: r.VERSION\n  }, t.data), a.mux = a.mux || {}, a.mux.deleted = !1, a.mux.emit = function (c, v) {\n    r.emit(n, c, v);\n  }, a.mux.updateData = function (c) {\n    a.mux.emit(\"hb\", c);\n  };\n  var y = function () {\n    s.error(\"The monitor for this video element has already been destroyed.\");\n  };\n  a.mux.destroy = function () {\n    Object.keys(a.mux.listeners).forEach(function (c) {\n      a.removeEventListener(c, a.mux.listeners[c], !1);\n    }), delete a.mux.listeners, a.mux.destroy = y, a.mux.swapElement = y, a.mux.emit = y, a.mux.addHLSJS = y, a.mux.addDashJS = y, a.mux.removeHLSJS = y, a.mux.removeDashJS = y, a.mux.updateData = y, a.mux.setEmitTranslator = y, a.mux.setStateDataTranslator = y, a.mux.setGetPlayheadTime = y, a.mux.deleted = !0, r.emit(n, \"destroy\");\n  }, a.mux.swapElement = function (c) {\n    var v = H(se(c), 3),\n      T = v[0],\n      x = v[1],\n      m = v[2];\n    if (T) {\n      if (m !== \"video\" && m !== \"audio\") return r.log.error(\"The element of `\" + x + \"` was not a media element.\");\n    } else return r.log.error(\"No element was found with the `\" + x + \"` query selector.\");\n    T.muxId = a.muxId, delete a.muxId, T.mux = T.mux || {}, T.mux.listeners = Object.assign({}, a.mux.listeners), delete a.mux.listeners, Object.keys(T.mux.listeners).forEach(function (f) {\n      a.removeEventListener(f, T.mux.listeners[f], !1), T.addEventListener(f, T.mux.listeners[f], !1);\n    }), T.mux.swapElement = a.mux.swapElement, T.mux.destroy = a.mux.destroy, delete a.mux, a = T;\n  }, a.mux.addHLSJS = function (c) {\n    r.addHLSJS(n, c);\n  }, a.mux.addDashJS = function (c) {\n    r.addDashJS(n, c);\n  }, a.mux.removeHLSJS = function () {\n    r.removeHLSJS(n);\n  }, a.mux.removeDashJS = function () {\n    r.removeDashJS(n);\n  }, a.mux.setEmitTranslator = function (c) {\n    r.setEmitTranslator(n, c);\n  }, a.mux.setStateDataTranslator = function (c) {\n    r.setStateDataTranslator(n, c);\n  }, a.mux.setGetPlayheadTime = function (c) {\n    c || (c = t.getPlayheadTime), r.setGetPlayheadTime(n, c);\n  }, r.init(n, t), r.emit(n, \"playerready\"), a.paused || (r.emit(n, \"play\"), a.readyState > 2 && r.emit(n, \"playing\")), a.mux.listeners = {}, gi.forEach(function (c) {\n    c === \"error\" && !t.automaticErrorTracking || (a.mux.listeners[c] = function () {\n      var v = {};\n      if (c === \"error\") {\n        if (!a.error || a.error.code === 1) return;\n        v.player_error_code = a.error.code, v.player_error_message = bi[a.error.code] || a.error.message;\n      }\n      r.emit(n, c, v);\n    }, a.addEventListener(c, a.mux.listeners[c], !1));\n  });\n}\nfunction ut(r, e, t, i) {\n  var a = i;\n  if (r && typeof r[e] == \"function\") try {\n    a = r[e].apply(r, t);\n  } catch (n) {\n    q.info(\"safeCall error\", n);\n  }\n  return a;\n}\nvar ge = V(J()),\n  ye;\nge.default && ge.default.WeakMap && (ye = new WeakMap());\nfunction dt(r, e) {\n  if (!r || !e || !ge.default || typeof ge.default.getComputedStyle != \"function\") return \"\";\n  var t;\n  return ye && ye.has(r) && (t = ye.get(r)), t || (t = ge.default.getComputedStyle(r, null), ye && ye.set(r, t)), t.getPropertyValue(e);\n}\nfunction lt(r) {\n  return Math.floor(r * 1e3);\n}\nvar le = {\n    TARGET_DURATION: \"#EXT-X-TARGETDURATION\",\n    PART_INF: \"#EXT-X-PART-INF\",\n    SERVER_CONTROL: \"#EXT-X-SERVER-CONTROL\",\n    INF: \"#EXTINF\",\n    PROGRAM_DATE_TIME: \"#EXT-X-PROGRAM-DATE-TIME\",\n    VERSION: \"#EXT-X-VERSION\",\n    SESSION_DATA: \"#EXT-X-SESSION-DATA\"\n  },\n  Fe = function (e) {\n    return this.buffer = \"\", this.manifest = {\n      segments: [],\n      serverControl: {},\n      sessionData: {}\n    }, this.currentUri = {}, this.process(e), this.manifest;\n  };\nFe.prototype.process = function (r) {\n  var e;\n  for (this.buffer += r, e = this.buffer.indexOf(\"\\n\"); e > -1; e = this.buffer.indexOf(\"\\n\")) this.processLine(this.buffer.substring(0, e)), this.buffer = this.buffer.substring(e + 1);\n};\nFe.prototype.processLine = function (r) {\n  var e = r.indexOf(\":\"),\n    t = ki(r, e),\n    i = t[0],\n    a = t.length === 2 ? _t(t[1]) : void 0;\n  if (i[0] !== \"#\") this.currentUri.uri = i, this.manifest.segments.push(this.currentUri), this.manifest.targetDuration && !(\"duration\" in this.currentUri) && (this.currentUri.duration = this.manifest.targetDuration), this.currentUri = {};else switch (i) {\n    case le.TARGET_DURATION:\n      {\n        if (!isFinite(a) || a < 0) return;\n        this.manifest.targetDuration = a, this.setHoldBack();\n        break;\n      }\n    case le.PART_INF:\n      {\n        ct(this.manifest, t), this.manifest.partInf.partTarget && (this.manifest.partTargetDuration = this.manifest.partInf.partTarget), this.setHoldBack();\n        break;\n      }\n    case le.SERVER_CONTROL:\n      {\n        ct(this.manifest, t), this.setHoldBack();\n        break;\n      }\n    case le.INF:\n      {\n        a === 0 ? this.currentUri.duration = .01 : a > 0 && (this.currentUri.duration = a);\n        break;\n      }\n    case le.PROGRAM_DATE_TIME:\n      {\n        var n = a,\n          o = new Date(n);\n        this.manifest.dateTimeString || (this.manifest.dateTimeString = n, this.manifest.dateTimeObject = o), this.currentUri.dateTimeString = n, this.currentUri.dateTimeObject = o;\n        break;\n      }\n    case le.VERSION:\n      {\n        ct(this.manifest, t);\n        break;\n      }\n    case le.SESSION_DATA:\n      {\n        var s = xi(t[1]),\n          u = Ce(s);\n        Object.assign(this.manifest.sessionData, u);\n      }\n  }\n};\nFe.prototype.setHoldBack = function () {\n  var r = this.manifest,\n    e = r.serverControl,\n    t = r.targetDuration,\n    i = r.partTargetDuration;\n  if (e) {\n    var a = \"holdBack\",\n      n = \"partHoldBack\",\n      o = t && t * 3,\n      s = i && i * 2;\n    t && !e.hasOwnProperty(a) && (e[a] = o), o && e[a] < o && (e[a] = o), i && !e.hasOwnProperty(n) && (e[n] = i * 3), i && e[n] < s && (e[n] = s);\n  }\n};\nvar ct = function (r, e) {\n    var t = Vr(e[0].replace(\"#EXT-X-\", \"\")),\n      i;\n    Ei(e[1]) ? (i = {}, i = Object.assign(wi(e[1]), i)) : i = _t(e[1]), r[t] = i;\n  },\n  Vr = function (r) {\n    return r.toLowerCase().replace(/-(\\w)/g, function (e) {\n      return e[1].toUpperCase();\n    });\n  },\n  _t = function (r) {\n    if (r.toLowerCase() === \"yes\" || r.toLowerCase() === \"no\") return r.toLowerCase() === \"yes\";\n    var e = r.indexOf(\":\") !== -1 ? r : parseFloat(r);\n    return isNaN(e) ? r : e;\n  },\n  Ti = function (r) {\n    var e = {},\n      t = r.split(\"=\");\n    if (t.length > 1) {\n      var i = Vr(t[0]);\n      e[i] = _t(t[1]);\n    }\n    return e;\n  },\n  wi = function (r) {\n    for (var e = r.split(\",\"), t = {}, i = 0; e.length > i; i++) {\n      var a = e[i],\n        n = Ti(a);\n      t = Object.assign(n, t);\n    }\n    return t;\n  },\n  Ei = function (r) {\n    return r.indexOf(\"=\") > -1;\n  },\n  ki = function (r, e) {\n    return e === -1 ? [r] : [r.substring(0, e), r.substring(e + 1)];\n  },\n  xi = function (r) {\n    var e = {};\n    if (r) {\n      var t = r.search(\",\"),\n        i = r.slice(0, t),\n        a = r.slice(t + 1),\n        n = [i, a];\n      return n.forEach(function (o, s) {\n        for (var u = o.replace(/['\"]+/g, \"\").split(\"=\"), p = 0; p < u.length; p++) u[p] === \"DATA-ID\" && (e[\"DATA-ID\"] = u[1 - p]), u[p] === \"VALUE\" && (e.VALUE = u[1 - p]);\n      }), {\n        data: e\n      };\n    }\n  },\n  Wr = Fe;\nvar Di = {\n    safeCall: ut,\n    safeIncrement: O,\n    getComputedStyle: dt,\n    secondsToMs: lt,\n    assign: Object.assign,\n    headersStringToObject: pe,\n    cdnHeadersToRequestId: de,\n    extractHostnameAndDomain: re,\n    extractHostname: F,\n    manifestParser: Wr,\n    generateShortID: Oe,\n    generateUUID: ee,\n    now: A.now,\n    findMediaElement: se\n  },\n  jr = Di;\nvar Si = {\n    PLAYER_READY: \"playerready\",\n    VIEW_INIT: \"viewinit\",\n    VIDEO_CHANGE: \"videochange\",\n    PLAY: \"play\",\n    PAUSE: \"pause\",\n    PLAYING: \"playing\",\n    TIME_UPDATE: \"timeupdate\",\n    SEEKING: \"seeking\",\n    SEEKED: \"seeked\",\n    REBUFFER_START: \"rebufferstart\",\n    REBUFFER_END: \"rebufferend\",\n    ERROR: \"error\",\n    ENDED: \"ended\",\n    RENDITION_CHANGE: \"renditionchange\",\n    ORIENTATION_CHANGE: \"orientationchange\",\n    AD_REQUEST: \"adrequest\",\n    AD_RESPONSE: \"adresponse\",\n    AD_BREAK_START: \"adbreakstart\",\n    AD_PLAY: \"adplay\",\n    AD_PLAYING: \"adplaying\",\n    AD_PAUSE: \"adpause\",\n    AD_FIRST_QUARTILE: \"adfirstquartile\",\n    AD_MID_POINT: \"admidpoint\",\n    AD_THIRD_QUARTILE: \"adthirdquartile\",\n    AD_ENDED: \"adended\",\n    AD_BREAK_END: \"adbreakend\",\n    AD_ERROR: \"aderror\",\n    REQUEST_COMPLETED: \"requestcompleted\",\n    REQUEST_FAILED: \"requestfailed\",\n    REQUEST_CANCELLED: \"requestcanceled\",\n    HEARTBEAT: \"hb\",\n    DESTROY: \"destroy\"\n  },\n  Gr = Si;\nvar Ri = \"mux-embed\",\n  qi = \"5.9.0\",\n  Ai = \"2.1\",\n  C = {},\n  ne = function (e) {\n    var t = arguments;\n    typeof e == \"string\" ? ne.hasOwnProperty(e) ? be.default.setTimeout(function () {\n      t = Array.prototype.splice.call(t, 1), ne[e].apply(null, t);\n    }, 0) : q.warn(\"`\" + e + \"` is an unknown task\") : typeof e == \"function\" ? be.default.setTimeout(function () {\n      e(ne);\n    }, 0) : q.warn(\"`\" + e + \"` is invalid.\");\n  },\n  Oi = {\n    loaded: A.now(),\n    NAME: Ri,\n    VERSION: qi,\n    API_VERSION: Ai,\n    PLAYER_TRACKED: !1,\n    monitor: function (e, t) {\n      return st(ne, e, t);\n    },\n    destroyMonitor: function (e) {\n      var t = H(se(e), 1),\n        i = t[0];\n      i && i.mux && typeof i.mux.destroy == \"function\" ? i.mux.destroy() : q.error(\"A video element monitor for `\" + e + \"` has not been initialized via `mux.monitor`.\");\n    },\n    addHLSJS: function (e, t) {\n      var i = Q(e);\n      C[i] ? C[i].addHLSJS(t) : q.error(\"A monitor for `\" + i + \"` has not been initialized.\");\n    },\n    addDashJS: function (e, t) {\n      var i = Q(e);\n      C[i] ? C[i].addDashJS(t) : q.error(\"A monitor for `\" + i + \"` has not been initialized.\");\n    },\n    removeHLSJS: function (e) {\n      var t = Q(e);\n      C[t] ? C[t].removeHLSJS() : q.error(\"A monitor for `\" + t + \"` has not been initialized.\");\n    },\n    removeDashJS: function (e) {\n      var t = Q(e);\n      C[t] ? C[t].removeDashJS() : q.error(\"A monitor for `\" + t + \"` has not been initialized.\");\n    },\n    init: function (e, t) {\n      ce() && t && t.respectDoNotTrack && q.info(\"The browser's Do Not Track flag is enabled - Mux beaconing is disabled.\");\n      var i = Q(e);\n      C[i] = new Fr(ne, i, t);\n    },\n    emit: function (e, t, i) {\n      var a = Q(e);\n      C[a] ? (C[a].emit(t, i), t === \"destroy\" && delete C[a]) : q.error(\"A monitor for `\" + a + \"` has not been initialized.\");\n    },\n    updateData: function (e, t) {\n      var i = Q(e);\n      C[i] ? C[i].emit(\"hb\", t) : q.error(\"A monitor for `\" + i + \"` has not been initialized.\");\n    },\n    setEmitTranslator: function (e, t) {\n      var i = Q(e);\n      C[i] ? C[i].emitTranslator = t : q.error(\"A monitor for `\" + i + \"` has not been initialized.\");\n    },\n    setStateDataTranslator: function (e, t) {\n      var i = Q(e);\n      C[i] ? C[i].stateDataTranslator = t : q.error(\"A monitor for `\" + i + \"` has not been initialized.\");\n    },\n    setGetPlayheadTime: function (e, t) {\n      var i = Q(e);\n      C[i] ? C[i].getPlayheadTime = t : q.error(\"A monitor for `\" + i + \"` has not been initialized.\");\n    },\n    checkDoNotTrack: ce,\n    log: q,\n    utils: jr,\n    events: Gr,\n    WINDOW_HIDDEN: !1,\n    WINDOW_UNLOADING: !1\n  };\nObject.assign(ne, Oi);\ntypeof be.default != \"undefined\" && typeof be.default.addEventListener == \"function\" && be.default.addEventListener(\"pagehide\", function (r) {\n  r.persisted || (ne.WINDOW_UNLOADING = !0);\n}, !1);\nvar Ed = ne;\nexport { Ed as default };\n/*!\n* JavaScript Cookie v2.1.3\n* https://github.com/js-cookie/js-cookie\n*\n* Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n* Released under the MIT license\n*/","map":null,"metadata":{},"sourceType":"module"}