{"ast":null,"code":"var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _mediaController, _previouslyFocused, _invokerElement, _previousItems, _mutationObserver, _isPopover, _cssRule, _handleSlotChange, handleSlotChange_fn, _handleMenuItems, _updateLayoutStyle, updateLayoutStyle_fn, _handleInvoke, handleInvoke_fn, _handleOpen, handleOpen_fn, _handleClosed, handleClosed_fn, _handleBoundsResize, _handleMenuResize, _positionMenu, positionMenu_fn, _resizeMenu, resizeMenu_fn, _handleClick, handleClick_fn, _backButtonElement, backButtonElement_get, _handleToggle, handleToggle_fn, _checkSubmenuHasExpanded, checkSubmenuHasExpanded_fn, _handleFocusOut, handleFocusOut_fn, _handleKeyDown, handleKeyDown_fn, _getItem, getItem_fn, _getTabItem, getTabItem_fn, _setTabItem, setTabItem_fn, _selectItem, selectItem_fn;\nimport { MediaStateReceiverAttributes } from \"../constants.js\";\nimport { globalThis, document } from \"../utils/server-safe-globals.js\";\nimport { computePosition } from \"../utils/anchor-utils.js\";\nimport { observeResize, unobserveResize } from \"../utils/resize-observer.js\";\nimport { ToggleEvent, InvokeEvent } from \"../utils/events.js\";\nimport { getActiveElement, containsComposedNode, closestComposedNode, insertCSSRule, getMediaController, getAttributeMediaController, getDocumentOrShadowRoot, namedNodeMapToObject } from \"../utils/element-utils.js\";\nfunction createMenuItem(_ref) {\n  let {\n    type,\n    text,\n    value,\n    checked\n  } = _ref;\n  const item = document.createElement(\"media-chrome-menu-item\");\n  item.type = type != null ? type : \"\";\n  item.part.add(\"menu-item\");\n  if (type) item.part.add(type);\n  item.value = value;\n  item.checked = checked;\n  const label = document.createElement(\"span\");\n  label.textContent = text;\n  item.append(label);\n  return item;\n}\nfunction createIndicator(el, name) {\n  let customIndicator = el.querySelector(`:scope > [slot=\"${name}\"]`);\n  if ((customIndicator == null ? void 0 : customIndicator.nodeName) == \"SLOT\") customIndicator = customIndicator.assignedElements({\n    flatten: true\n  })[0];\n  if (customIndicator) {\n    customIndicator = customIndicator.cloneNode(true);\n    return customIndicator;\n  }\n  const fallbackIndicator = el.shadowRoot.querySelector(`[name=\"${name}\"] > svg`);\n  if (fallbackIndicator) {\n    return fallbackIndicator.cloneNode(true);\n  }\n  return \"\";\n}\nfunction getTemplateHTML(_attrs) {\n  return /*html*/`\n    <style>\n      :host {\n        font: var(--media-font,\n          var(--media-font-weight, normal)\n          var(--media-font-size, 14px) /\n          var(--media-text-content-height, var(--media-control-height, 24px))\n          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        --_menu-bg: rgb(20 20 30 / .8);\n        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));\n        border-radius: var(--media-menu-border-radius);\n        border: var(--media-menu-border, none);\n        display: var(--media-menu-display, inline-flex);\n        transition: var(--media-menu-transition-in,\n          visibility 0s,\n          opacity .2s ease-out,\n          transform .15s ease-out,\n          left .2s ease-in-out,\n          min-width .2s ease-in-out,\n          min-height .2s ease-in-out\n        ) !important;\n        ${/* ^^Prevent transition override by media-container */\n  \"\"}\n        visibility: var(--media-menu-visibility, visible);\n        opacity: var(--media-menu-opacity, 1);\n        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));\n        transform: var(--media-menu-transform-in, translateY(0) scale(1));\n        flex-direction: column;\n        ${/* Prevent overflowing a flex container */\n  \"\"}\n        min-height: 0;\n        position: relative;\n        bottom: var(--_menu-bottom);\n        box-sizing: border-box;\n      } \n\n      @-moz-document url-prefix() {\n        :host{\n          --_menu-bg: rgb(20 20 30);\n        }\n      }\n\n      :host([hidden]) {\n        transition: var(--media-menu-transition-out,\n          visibility .15s ease-in,\n          opacity .15s ease-in,\n          transform .15s ease-in\n        ) !important;\n        visibility: var(--media-menu-hidden-visibility, hidden);\n        opacity: var(--media-menu-hidden-opacity, 0);\n        max-height: var(--media-menu-hidden-max-height,\n          var(--media-menu-max-height, var(--_menu-max-height, 300px)));\n        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));\n        pointer-events: none;\n      }\n\n      :host([slot=\"submenu\"]) {\n        background: none;\n        width: 100%;\n        min-height: 100%;\n        position: absolute;\n        bottom: 0;\n        right: -100%;\n      }\n\n      #container {\n        display: flex;\n        flex-direction: column;\n        min-height: 0;\n        transition: transform .2s ease-out;\n        transform: translate(0, 0);\n      }\n\n      #container.has-expanded {\n        transition: transform .2s ease-in;\n        transform: translate(-100%, 0);\n      }\n\n      button {\n        background: none;\n        color: inherit;\n        border: none;\n        padding: 0;\n        font: inherit;\n        outline: inherit;\n        display: inline-flex;\n        align-items: center;\n      }\n\n      slot[name=\"header\"][hidden] {\n        display: none;\n      }\n\n      slot[name=\"header\"] > *,\n      slot[name=\"header\"]::slotted(*) {\n        padding: .4em .7em;\n        border-bottom: 1px solid rgb(255 255 255 / .25);\n        cursor: var(--media-cursor, default);\n      }\n\n      slot[name=\"header\"] > button[part~=\"back\"],\n      slot[name=\"header\"]::slotted(button[part~=\"back\"]) {\n        cursor: var(--media-cursor, pointer);\n      }\n\n      svg[part~=\"back\"] {\n        height: var(--media-menu-icon-height, var(--media-control-height, 24px));\n        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));\n        display: block;\n        margin-right: .5ch;\n      }\n\n      slot:not([name]) {\n        gap: var(--media-menu-gap);\n        flex-direction: var(--media-menu-flex-direction, column);\n        overflow: var(--media-menu-overflow, hidden auto);\n        display: flex;\n        min-height: 0;\n      }\n\n      :host([role=\"menu\"]) slot:not([name]) {\n        padding-block: .4em;\n      }\n\n      slot:not([name])::slotted([role=\"menu\"]) {\n        background: none;\n      }\n\n      media-chrome-menu-item > span {\n        margin-right: .5ch;\n        max-width: var(--media-menu-item-max-width);\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    </style>\n    <style id=\"layout-row\" media=\"width:0\">\n\n      slot[name=\"header\"] > *,\n      slot[name=\"header\"]::slotted(*) {\n        padding: .4em .5em;\n      }\n\n      slot:not([name]) {\n        gap: var(--media-menu-gap, .25em);\n        flex-direction: var(--media-menu-flex-direction, row);\n        padding-inline: .5em;\n      }\n\n      media-chrome-menu-item {\n        padding: .3em .5em;\n      }\n\n      media-chrome-menu-item[aria-checked=\"true\"] {\n        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));\n      }\n\n      ${/* In row layout hide the checked indicator completely. */\n  \"\"}\n      media-chrome-menu-item::part(checked-indicator) {\n        display: var(--media-menu-item-checked-indicator-display, none);\n      }\n    </style>\n    <div id=\"container\">\n      <slot name=\"header\" hidden>\n        <button part=\"back button\" aria-label=\"Back to previous menu\">\n          <slot name=\"back-icon\">\n            <svg aria-hidden=\"true\" viewBox=\"0 0 20 24\" part=\"back indicator\">\n              <path d=\"m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z\"/>\n            </svg>\n          </slot>\n          <slot name=\"title\"></slot>\n        </button>\n      </slot>\n      <slot></slot>\n    </div>\n    <slot name=\"checked-indicator\" hidden></slot>\n  `;\n}\nconst Attributes = {\n  STYLE: \"style\",\n  HIDDEN: \"hidden\",\n  DISABLED: \"disabled\",\n  ANCHOR: \"anchor\"\n};\nclass MediaChromeMenu extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _handleSlotChange);\n    /**\n     * Sets the layout style for the menu.\n     * It can be a row or column layout. e.g. playback-rate-menu\n     */\n    __privateAdd(this, _updateLayoutStyle);\n    __privateAdd(this, _handleInvoke);\n    __privateAdd(this, _handleOpen);\n    __privateAdd(this, _handleClosed);\n    /**\n     * Updates the popover menu position based on the anchor element.\n     * @param  {number} [menuWidth]\n     */\n    __privateAdd(this, _positionMenu);\n    /**\n     * Resize this menu to fit the submenu.\n     * @param  {boolean} animate\n     */\n    __privateAdd(this, _resizeMenu);\n    __privateAdd(this, _handleClick);\n    __privateAdd(this, _backButtonElement);\n    /**\n     * Handle the toggle event of submenus.\n     * Closes all other open submenus when opening a submenu.\n     * Resizes this menu to fit the submenu.\n     *\n     * @param  {ToggleEvent} event\n     */\n    __privateAdd(this, _handleToggle);\n    /**\n     * Check if any submenu is expanded and update the container class accordingly.\n     * When the CSS :has() selector is supported, this can be done with CSS only.\n     */\n    __privateAdd(this, _checkSubmenuHasExpanded);\n    __privateAdd(this, _handleFocusOut);\n    __privateAdd(this, _handleKeyDown);\n    __privateAdd(this, _getItem);\n    __privateAdd(this, _getTabItem);\n    __privateAdd(this, _setTabItem);\n    __privateAdd(this, _selectItem);\n    __privateAdd(this, _mediaController, null);\n    __privateAdd(this, _previouslyFocused, null);\n    __privateAdd(this, _invokerElement, null);\n    __privateAdd(this, _previousItems, /* @__PURE__ */new Set());\n    __privateAdd(this, _mutationObserver, void 0);\n    __privateAdd(this, _isPopover, false);\n    __privateAdd(this, _cssRule, null);\n    /**\n     * Fires an event when a menu item is added or removed.\n     * This is needed to update the description slot of an ancestor menu item.\n     */\n    __privateAdd(this, _handleMenuItems, () => {\n      const previousItems = __privateGet(this, _previousItems);\n      const currentItems = new Set(this.items);\n      for (const item of previousItems) {\n        if (!currentItems.has(item)) {\n          this.dispatchEvent(new CustomEvent(\"removemenuitem\", {\n            detail: item\n          }));\n        }\n      }\n      for (const item of currentItems) {\n        if (!previousItems.has(item)) {\n          this.dispatchEvent(new CustomEvent(\"addmenuitem\", {\n            detail: item\n          }));\n        }\n      }\n      __privateSet(this, _previousItems, currentItems);\n    });\n    __privateAdd(this, _handleBoundsResize, () => {\n      __privateMethod(this, _positionMenu, positionMenu_fn).call(this);\n      __privateMethod(this, _resizeMenu, resizeMenu_fn).call(this, false);\n    });\n    __privateAdd(this, _handleMenuResize, () => {\n      __privateMethod(this, _positionMenu, positionMenu_fn).call(this);\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n    this.container = this.shadowRoot.querySelector(\"#container\");\n    this.defaultSlot = this.shadowRoot.querySelector(\"slot:not([name])\");\n    this.shadowRoot.addEventListener(\"slotchange\", this);\n    __privateSet(this, _mutationObserver, new MutationObserver(__privateGet(this, _handleMenuItems)));\n    __privateGet(this, _mutationObserver).observe(this.defaultSlot, {\n      childList: true\n    });\n  }\n  static get observedAttributes() {\n    return [Attributes.DISABLED, Attributes.HIDDEN, Attributes.STYLE, Attributes.ANCHOR, MediaStateReceiverAttributes.MEDIA_CONTROLLER];\n  }\n  static formatMenuItemText(text, _data) {\n    return text;\n  }\n  enable() {\n    this.addEventListener(\"click\", this);\n    this.addEventListener(\"focusout\", this);\n    this.addEventListener(\"keydown\", this);\n    this.addEventListener(\"invoke\", this);\n    this.addEventListener(\"toggle\", this);\n  }\n  disable() {\n    this.removeEventListener(\"click\", this);\n    this.removeEventListener(\"focusout\", this);\n    this.removeEventListener(\"keyup\", this);\n    this.removeEventListener(\"invoke\", this);\n    this.removeEventListener(\"toggle\", this);\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"slotchange\":\n        __privateMethod(this, _handleSlotChange, handleSlotChange_fn).call(this, event);\n        break;\n      case \"invoke\":\n        __privateMethod(this, _handleInvoke, handleInvoke_fn).call(this, event);\n        break;\n      case \"click\":\n        __privateMethod(this, _handleClick, handleClick_fn).call(this, event);\n        break;\n      case \"toggle\":\n        __privateMethod(this, _handleToggle, handleToggle_fn).call(this, event);\n        break;\n      case \"focusout\":\n        __privateMethod(this, _handleFocusOut, handleFocusOut_fn).call(this, event);\n        break;\n      case \"keydown\":\n        __privateMethod(this, _handleKeyDown, handleKeyDown_fn).call(this, event);\n        break;\n    }\n  }\n  connectedCallback() {\n    var _a, _b;\n    __privateSet(this, _cssRule, insertCSSRule(this.shadowRoot, \":host\"));\n    __privateMethod(this, _updateLayoutStyle, updateLayoutStyle_fn).call(this);\n    if (!this.hasAttribute(\"disabled\")) {\n      this.enable();\n    }\n    if (!this.role) {\n      this.role = \"menu\";\n    }\n    __privateSet(this, _mediaController, getAttributeMediaController(this));\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.associateElement) == null ? void 0 : _b.call(_a, this);\n    if (!this.hidden) {\n      observeResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n      observeResize(this, __privateGet(this, _handleMenuResize));\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    unobserveResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n    unobserveResize(this, __privateGet(this, _handleMenuResize));\n    this.disable();\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d;\n    if (attrName === Attributes.HIDDEN && newValue !== oldValue) {\n      if (!__privateGet(this, _isPopover)) __privateSet(this, _isPopover, true);\n      if (this.hidden) {\n        __privateMethod(this, _handleClosed, handleClosed_fn).call(this);\n      } else {\n        __privateMethod(this, _handleOpen, handleOpen_fn).call(this);\n      }\n      this.dispatchEvent(new ToggleEvent({\n        oldState: this.hidden ? \"open\" : \"closed\",\n        newState: this.hidden ? \"closed\" : \"open\",\n        bubbles: true\n      }));\n    } else if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, getAttributeMediaController(this));\n        (_d = (_c = __privateGet(this, _mediaController)) == null ? void 0 : _c.associateElement) == null ? void 0 : _d.call(_c, this);\n      }\n    } else if (attrName === Attributes.DISABLED && newValue !== oldValue) {\n      if (newValue == null) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    } else if (attrName === Attributes.STYLE && newValue !== oldValue) {\n      __privateMethod(this, _updateLayoutStyle, updateLayoutStyle_fn).call(this);\n    }\n  }\n  formatMenuItemText(text, data) {\n    return this.constructor.formatMenuItemText(text, data);\n  }\n  get anchor() {\n    return this.getAttribute(\"anchor\");\n  }\n  set anchor(value) {\n    this.setAttribute(\"anchor\", `${value}`);\n  }\n  /**\n   * Returns the anchor element when it is a floating menu.\n   */\n  get anchorElement() {\n    var _a;\n    if (this.anchor) {\n      return (_a = getDocumentOrShadowRoot(this)) == null ? void 0 : _a.querySelector(`#${this.anchor}`);\n    }\n    return null;\n  }\n  /**\n   * Returns the menu items.\n   */\n  get items() {\n    return this.defaultSlot.assignedElements({\n      flatten: true\n    }).filter(isMenuItem);\n  }\n  get radioGroupItems() {\n    return this.items.filter(item => item.role === \"menuitemradio\");\n  }\n  get checkedItems() {\n    return this.items.filter(item => item.checked);\n  }\n  get value() {\n    var _a, _b;\n    return (_b = (_a = this.checkedItems[0]) == null ? void 0 : _a.value) != null ? _b : \"\";\n  }\n  set value(newValue) {\n    const item = this.items.find(item2 => item2.value === newValue);\n    if (!item) return;\n    __privateMethod(this, _selectItem, selectItem_fn).call(this, item);\n  }\n  focus() {\n    __privateSet(this, _previouslyFocused, getActiveElement());\n    if (this.items.length) {\n      __privateMethod(this, _setTabItem, setTabItem_fn).call(this, this.items[0]);\n      this.items[0].focus();\n      return;\n    }\n    const focusable = this.querySelector('[autofocus], [tabindex]:not([tabindex=\"-1\"]), [role=\"menu\"]');\n    focusable == null ? void 0 : focusable.focus();\n  }\n  handleSelect(event) {\n    var _a;\n    const item = __privateMethod(this, _getItem, getItem_fn).call(this, event);\n    if (!item) return;\n    __privateMethod(this, _selectItem, selectItem_fn).call(this, item, item.type === \"checkbox\");\n    if (__privateGet(this, _invokerElement) && !this.hidden) {\n      (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n      this.hidden = true;\n    }\n  }\n  get keysUsed() {\n    return [\"Enter\", \"Escape\", \"Tab\", \" \", \"ArrowDown\", \"ArrowUp\", \"Home\", \"End\"];\n  }\n  handleMove(event) {\n    var _a, _b;\n    const {\n      key\n    } = event;\n    const items = this.items;\n    const currentItem = (_b = (_a = __privateMethod(this, _getItem, getItem_fn).call(this, event)) != null ? _a : __privateMethod(this, _getTabItem, getTabItem_fn).call(this)) != null ? _b : items[0];\n    const currentIndex = items.indexOf(currentItem);\n    let index = Math.max(0, currentIndex);\n    if (key === \"ArrowDown\") {\n      index++;\n    } else if (key === \"ArrowUp\") {\n      index--;\n    } else if (event.key === \"Home\") {\n      index = 0;\n    } else if (event.key === \"End\") {\n      index = items.length - 1;\n    }\n    if (index < 0) {\n      index = items.length - 1;\n    }\n    if (index > items.length - 1) {\n      index = 0;\n    }\n    __privateMethod(this, _setTabItem, setTabItem_fn).call(this, items[index]);\n    items[index].focus();\n  }\n}\n_mediaController = new WeakMap();\n_previouslyFocused = new WeakMap();\n_invokerElement = new WeakMap();\n_previousItems = new WeakMap();\n_mutationObserver = new WeakMap();\n_isPopover = new WeakMap();\n_cssRule = new WeakMap();\n_handleSlotChange = new WeakSet();\nhandleSlotChange_fn = function (event) {\n  const slot = event.target;\n  for (const node of slot.assignedNodes({\n    flatten: true\n  })) {\n    if (node.nodeType === 3 && node.textContent.trim() === \"\") {\n      node.remove();\n    }\n  }\n  if ([\"header\", \"title\"].includes(slot.name)) {\n    const header = this.shadowRoot.querySelector('slot[name=\"header\"]');\n    header.hidden = slot.assignedNodes().length === 0;\n  }\n  if (!slot.name) {\n    __privateGet(this, _handleMenuItems).call(this);\n  }\n};\n_handleMenuItems = new WeakMap();\n_updateLayoutStyle = new WeakSet();\nupdateLayoutStyle_fn = function () {\n  var _a;\n  const layoutRowStyle = this.shadowRoot.querySelector(\"#layout-row\");\n  const menuLayout = (_a = getComputedStyle(this).getPropertyValue(\"--media-menu-layout\")) == null ? void 0 : _a.trim();\n  layoutRowStyle.setAttribute(\"media\", menuLayout === \"row\" ? \"\" : \"width:0\");\n};\n_handleInvoke = new WeakSet();\nhandleInvoke_fn = function (event) {\n  __privateSet(this, _invokerElement, event.relatedTarget);\n  if (!containsComposedNode(this, event.relatedTarget)) {\n    this.hidden = !this.hidden;\n  }\n};\n_handleOpen = new WeakSet();\nhandleOpen_fn = function () {\n  var _a;\n  (_a = __privateGet(this, _invokerElement)) == null ? void 0 : _a.setAttribute(\"aria-expanded\", \"true\");\n  this.addEventListener(\"transitionend\", () => this.focus(), {\n    once: true\n  });\n  observeResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n  observeResize(this, __privateGet(this, _handleMenuResize));\n};\n_handleClosed = new WeakSet();\nhandleClosed_fn = function () {\n  var _a;\n  (_a = __privateGet(this, _invokerElement)) == null ? void 0 : _a.setAttribute(\"aria-expanded\", \"false\");\n  unobserveResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n  unobserveResize(this, __privateGet(this, _handleMenuResize));\n};\n_handleBoundsResize = new WeakMap();\n_handleMenuResize = new WeakMap();\n_positionMenu = new WeakSet();\npositionMenu_fn = function (menuWidth) {\n  if (this.hasAttribute(\"mediacontroller\") && !this.anchor) return;\n  if (this.hidden || !this.anchorElement) return;\n  const {\n    x,\n    y\n  } = computePosition({\n    anchor: this.anchorElement,\n    floating: this,\n    placement: \"top-start\"\n  });\n  menuWidth != null ? menuWidth : menuWidth = this.offsetWidth;\n  const bounds = getBoundsElement(this);\n  const boundsRect = bounds.getBoundingClientRect();\n  const right = boundsRect.width - x - menuWidth;\n  const bottom = boundsRect.height - y - this.offsetHeight;\n  const {\n    style\n  } = __privateGet(this, _cssRule);\n  style.setProperty(\"position\", \"absolute\");\n  style.setProperty(\"right\", `${Math.max(0, right)}px`);\n  style.setProperty(\"--_menu-bottom\", `${bottom}px`);\n  const computedStyle = getComputedStyle(this);\n  const isBottomCalc = style.getPropertyValue(\"--_menu-bottom\") === computedStyle.bottom;\n  const realBottom = isBottomCalc ? bottom : parseFloat(computedStyle.bottom);\n  const maxHeight = boundsRect.height - realBottom - parseFloat(computedStyle.marginBottom);\n  this.style.setProperty(\"--_menu-max-height\", `${maxHeight}px`);\n};\n_resizeMenu = new WeakSet();\nresizeMenu_fn = function (animate) {\n  const expandedMenuItem = this.querySelector('[role=\"menuitem\"][aria-haspopup][aria-expanded=\"true\"]');\n  const expandedSubmenu = expandedMenuItem == null ? void 0 : expandedMenuItem.querySelector('[role=\"menu\"]');\n  const {\n    style\n  } = __privateGet(this, _cssRule);\n  if (!animate) {\n    style.setProperty(\"--media-menu-transition-in\", \"none\");\n  }\n  if (expandedSubmenu) {\n    const height = expandedSubmenu.offsetHeight;\n    const width = Math.max(expandedSubmenu.offsetWidth, expandedMenuItem.offsetWidth);\n    this.style.setProperty(\"min-width\", `${width}px`);\n    this.style.setProperty(\"min-height\", `${height}px`);\n    __privateMethod(this, _positionMenu, positionMenu_fn).call(this, width);\n  } else {\n    this.style.removeProperty(\"min-width\");\n    this.style.removeProperty(\"min-height\");\n    __privateMethod(this, _positionMenu, positionMenu_fn).call(this);\n  }\n  style.removeProperty(\"--media-menu-transition-in\");\n};\n_handleClick = new WeakSet();\nhandleClick_fn = function (event) {\n  var _a;\n  event.stopPropagation();\n  if (event.composedPath().includes(__privateGet(this, _backButtonElement, backButtonElement_get))) {\n    (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n    this.hidden = true;\n    return;\n  }\n  const item = __privateMethod(this, _getItem, getItem_fn).call(this, event);\n  if (!item || item.hasAttribute(\"disabled\")) return;\n  __privateMethod(this, _setTabItem, setTabItem_fn).call(this, item);\n  this.handleSelect(event);\n};\n_backButtonElement = new WeakSet();\nbackButtonElement_get = function () {\n  var _a;\n  const headerSlot = this.shadowRoot.querySelector('slot[name=\"header\"]');\n  return (_a = headerSlot.assignedElements({\n    flatten: true\n  })) == null ? void 0 : _a.find(el => el.matches('button[part~=\"back\"]'));\n};\n_handleToggle = new WeakSet();\nhandleToggle_fn = function (event) {\n  if (event.target === this) return;\n  __privateMethod(this, _checkSubmenuHasExpanded, checkSubmenuHasExpanded_fn).call(this);\n  const menuItemsWithSubmenu = Array.from(this.querySelectorAll('[role=\"menuitem\"][aria-haspopup]'));\n  for (const item of menuItemsWithSubmenu) {\n    if (item.invokeTargetElement == event.target) continue;\n    if (event.newState == \"open\" && item.getAttribute(\"aria-expanded\") == \"true\" && !item.invokeTargetElement.hidden) {\n      item.invokeTargetElement.dispatchEvent(new InvokeEvent({\n        relatedTarget: item\n      }));\n    }\n  }\n  for (const item of menuItemsWithSubmenu) {\n    item.setAttribute(\"aria-expanded\", `${!item.submenuElement.hidden}`);\n  }\n  __privateMethod(this, _resizeMenu, resizeMenu_fn).call(this, true);\n};\n_checkSubmenuHasExpanded = new WeakSet();\ncheckSubmenuHasExpanded_fn = function () {\n  const selector = '[role=\"menuitem\"] > [role=\"menu\"]:not([hidden])';\n  const expandedMenuItem = this.querySelector(selector);\n  this.container.classList.toggle(\"has-expanded\", !!expandedMenuItem);\n};\n_handleFocusOut = new WeakSet();\nhandleFocusOut_fn = function (event) {\n  var _a;\n  if (!containsComposedNode(this, event.relatedTarget)) {\n    if (__privateGet(this, _isPopover)) {\n      (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n    }\n    if (__privateGet(this, _invokerElement) && __privateGet(this, _invokerElement) !== event.relatedTarget && !this.hidden) {\n      this.hidden = true;\n    }\n  }\n};\n_handleKeyDown = new WeakSet();\nhandleKeyDown_fn = function (event) {\n  var _a, _b, _c, _d, _e;\n  const {\n    key,\n    ctrlKey,\n    altKey,\n    metaKey\n  } = event;\n  if (ctrlKey || altKey || metaKey) {\n    return;\n  }\n  if (!this.keysUsed.includes(key)) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  if (key === \"Tab\") {\n    if (__privateGet(this, _isPopover)) {\n      this.hidden = true;\n      return;\n    }\n    if (event.shiftKey) {\n      (_b = (_a = this.previousElementSibling) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    } else {\n      (_d = (_c = this.nextElementSibling) == null ? void 0 : _c.focus) == null ? void 0 : _d.call(_c);\n    }\n    this.blur();\n  } else if (key === \"Escape\") {\n    (_e = __privateGet(this, _previouslyFocused)) == null ? void 0 : _e.focus();\n    if (__privateGet(this, _isPopover)) {\n      this.hidden = true;\n    }\n  } else if (key === \"Enter\" || key === \" \") {\n    this.handleSelect(event);\n  } else {\n    this.handleMove(event);\n  }\n};\n_getItem = new WeakSet();\ngetItem_fn = function (event) {\n  return event.composedPath().find(el => {\n    return [\"menuitemradio\", \"menuitemcheckbox\"].includes(el.role);\n  });\n};\n_getTabItem = new WeakSet();\ngetTabItem_fn = function () {\n  return this.items.find(item => item.tabIndex === 0);\n};\n_setTabItem = new WeakSet();\nsetTabItem_fn = function (tabItem) {\n  for (const item of this.items) {\n    item.tabIndex = item === tabItem ? 0 : -1;\n  }\n};\n_selectItem = new WeakSet();\nselectItem_fn = function (item, toggle) {\n  const oldCheckedItems = [...this.checkedItems];\n  if (item.type === \"radio\") {\n    this.radioGroupItems.forEach(el => el.checked = false);\n  }\n  if (toggle) {\n    item.checked = !item.checked;\n  } else {\n    item.checked = true;\n  }\n  if (this.checkedItems.some((opt, i) => opt != oldCheckedItems[i])) {\n    this.dispatchEvent(new Event(\"change\", {\n      bubbles: true,\n      composed: true\n    }));\n  }\n};\nMediaChromeMenu.shadowRootOptions = {\n  mode: \"open\"\n};\nMediaChromeMenu.getTemplateHTML = getTemplateHTML;\nfunction isMenuItem(element) {\n  return [\"menuitem\", \"menuitemradio\", \"menuitemcheckbox\"].includes(element == null ? void 0 : element.role);\n}\nfunction getBoundsElement(host) {\n  var _a;\n  return (_a = host.getAttribute(\"bounds\") ? closestComposedNode(host, `#${host.getAttribute(\"bounds\")}`) : getMediaController(host) || host.parentElement) != null ? _a : host;\n}\nif (!globalThis.customElements.get(\"media-chrome-menu\")) {\n  globalThis.customElements.define(\"media-chrome-menu\", MediaChromeMenu);\n}\nvar media_chrome_menu_default = MediaChromeMenu;\nexport { Attributes, MediaChromeMenu, createIndicator, createMenuItem, media_chrome_menu_default as default };","map":{"version":3,"names":["__accessCheck","obj","member","msg","has","TypeError","__privateGet","getter","call","get","__privateAdd","value","WeakSet","add","set","__privateSet","setter","__privateMethod","method","_mediaController","_previouslyFocused","_invokerElement","_previousItems","_mutationObserver","_isPopover","_cssRule","_handleSlotChange","handleSlotChange_fn","_handleMenuItems","_updateLayoutStyle","updateLayoutStyle_fn","_handleInvoke","handleInvoke_fn","_handleOpen","handleOpen_fn","_handleClosed","handleClosed_fn","_handleBoundsResize","_handleMenuResize","_positionMenu","positionMenu_fn","_resizeMenu","resizeMenu_fn","_handleClick","handleClick_fn","_backButtonElement","backButtonElement_get","_handleToggle","handleToggle_fn","_checkSubmenuHasExpanded","checkSubmenuHasExpanded_fn","_handleFocusOut","handleFocusOut_fn","_handleKeyDown","handleKeyDown_fn","_getItem","getItem_fn","_getTabItem","getTabItem_fn","_setTabItem","setTabItem_fn","_selectItem","selectItem_fn","MediaStateReceiverAttributes","globalThis","document","computePosition","observeResize","unobserveResize","ToggleEvent","InvokeEvent","getActiveElement","containsComposedNode","closestComposedNode","insertCSSRule","getMediaController","getAttributeMediaController","getDocumentOrShadowRoot","namedNodeMapToObject","createMenuItem","_ref","type","text","checked","item","createElement","part","label","textContent","append","createIndicator","el","name","customIndicator","querySelector","nodeName","assignedElements","flatten","cloneNode","fallbackIndicator","shadowRoot","getTemplateHTML","_attrs","Attributes","STYLE","HIDDEN","DISABLED","ANCHOR","MediaChromeMenu","HTMLElement","constructor","Set","previousItems","currentItems","items","dispatchEvent","CustomEvent","detail","attachShadow","shadowRootOptions","attrs","attributes","innerHTML","container","defaultSlot","addEventListener","MutationObserver","observe","childList","observedAttributes","MEDIA_CONTROLLER","formatMenuItemText","_data","enable","disable","removeEventListener","handleEvent","event","connectedCallback","_a","_b","hasAttribute","role","associateElement","hidden","getBoundsElement","disconnectedCallback","unassociateElement","attributeChangedCallback","attrName","oldValue","newValue","_c","_d","oldState","newState","bubbles","isConnected","data","anchor","getAttribute","setAttribute","anchorElement","filter","isMenuItem","radioGroupItems","checkedItems","find","item2","focus","length","focusable","handleSelect","keysUsed","handleMove","key","currentItem","currentIndex","indexOf","index","Math","max","WeakMap","slot","target","node","assignedNodes","nodeType","trim","remove","includes","header","layoutRowStyle","menuLayout","getComputedStyle","getPropertyValue","relatedTarget","once","menuWidth","x","y","floating","placement","offsetWidth","bounds","boundsRect","getBoundingClientRect","right","width","bottom","height","offsetHeight","style","setProperty","computedStyle","isBottomCalc","realBottom","parseFloat","maxHeight","marginBottom","animate","expandedMenuItem","expandedSubmenu","removeProperty","stopPropagation","composedPath","headerSlot","matches","menuItemsWithSubmenu","Array","from","querySelectorAll","invokeTargetElement","submenuElement","selector","classList","toggle","_e","ctrlKey","altKey","metaKey","preventDefault","shiftKey","previousElementSibling","nextElementSibling","blur","tabIndex","tabItem","oldCheckedItems","forEach","some","opt","i","Event","composed","mode","element","host","parentElement","customElements","define","media_chrome_menu_default","default"],"sources":["/Users/monawiebkeurban/Documents/portfolio/node_modules/media-chrome/dist/menu/media-chrome-menu.js"],"sourcesContent":["var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\nvar _mediaController, _previouslyFocused, _invokerElement, _previousItems, _mutationObserver, _isPopover, _cssRule, _handleSlotChange, handleSlotChange_fn, _handleMenuItems, _updateLayoutStyle, updateLayoutStyle_fn, _handleInvoke, handleInvoke_fn, _handleOpen, handleOpen_fn, _handleClosed, handleClosed_fn, _handleBoundsResize, _handleMenuResize, _positionMenu, positionMenu_fn, _resizeMenu, resizeMenu_fn, _handleClick, handleClick_fn, _backButtonElement, backButtonElement_get, _handleToggle, handleToggle_fn, _checkSubmenuHasExpanded, checkSubmenuHasExpanded_fn, _handleFocusOut, handleFocusOut_fn, _handleKeyDown, handleKeyDown_fn, _getItem, getItem_fn, _getTabItem, getTabItem_fn, _setTabItem, setTabItem_fn, _selectItem, selectItem_fn;\nimport { MediaStateReceiverAttributes } from \"../constants.js\";\nimport { globalThis, document } from \"../utils/server-safe-globals.js\";\nimport { computePosition } from \"../utils/anchor-utils.js\";\nimport { observeResize, unobserveResize } from \"../utils/resize-observer.js\";\nimport { ToggleEvent, InvokeEvent } from \"../utils/events.js\";\nimport {\n  getActiveElement,\n  containsComposedNode,\n  closestComposedNode,\n  insertCSSRule,\n  getMediaController,\n  getAttributeMediaController,\n  getDocumentOrShadowRoot,\n  namedNodeMapToObject\n} from \"../utils/element-utils.js\";\nfunction createMenuItem({\n  type,\n  text,\n  value,\n  checked\n}) {\n  const item = document.createElement(\n    \"media-chrome-menu-item\"\n  );\n  item.type = type != null ? type : \"\";\n  item.part.add(\"menu-item\");\n  if (type)\n    item.part.add(type);\n  item.value = value;\n  item.checked = checked;\n  const label = document.createElement(\"span\");\n  label.textContent = text;\n  item.append(label);\n  return item;\n}\nfunction createIndicator(el, name) {\n  let customIndicator = el.querySelector(`:scope > [slot=\"${name}\"]`);\n  if ((customIndicator == null ? void 0 : customIndicator.nodeName) == \"SLOT\")\n    customIndicator = customIndicator.assignedElements({ flatten: true })[0];\n  if (customIndicator) {\n    customIndicator = customIndicator.cloneNode(true);\n    return customIndicator;\n  }\n  const fallbackIndicator = el.shadowRoot.querySelector(\n    `[name=\"${name}\"] > svg`\n  );\n  if (fallbackIndicator) {\n    return fallbackIndicator.cloneNode(true);\n  }\n  return \"\";\n}\nfunction getTemplateHTML(_attrs) {\n  return (\n    /*html*/\n    `\n    <style>\n      :host {\n        font: var(--media-font,\n          var(--media-font-weight, normal)\n          var(--media-font-size, 14px) /\n          var(--media-text-content-height, var(--media-control-height, 24px))\n          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));\n        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));\n        --_menu-bg: rgb(20 20 30 / .8);\n        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));\n        border-radius: var(--media-menu-border-radius);\n        border: var(--media-menu-border, none);\n        display: var(--media-menu-display, inline-flex);\n        transition: var(--media-menu-transition-in,\n          visibility 0s,\n          opacity .2s ease-out,\n          transform .15s ease-out,\n          left .2s ease-in-out,\n          min-width .2s ease-in-out,\n          min-height .2s ease-in-out\n        ) !important;\n        ${/* ^^Prevent transition override by media-container */\n    \"\"}\n        visibility: var(--media-menu-visibility, visible);\n        opacity: var(--media-menu-opacity, 1);\n        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));\n        transform: var(--media-menu-transform-in, translateY(0) scale(1));\n        flex-direction: column;\n        ${/* Prevent overflowing a flex container */\n    \"\"}\n        min-height: 0;\n        position: relative;\n        bottom: var(--_menu-bottom);\n        box-sizing: border-box;\n      } \n\n      @-moz-document url-prefix() {\n        :host{\n          --_menu-bg: rgb(20 20 30);\n        }\n      }\n\n      :host([hidden]) {\n        transition: var(--media-menu-transition-out,\n          visibility .15s ease-in,\n          opacity .15s ease-in,\n          transform .15s ease-in\n        ) !important;\n        visibility: var(--media-menu-hidden-visibility, hidden);\n        opacity: var(--media-menu-hidden-opacity, 0);\n        max-height: var(--media-menu-hidden-max-height,\n          var(--media-menu-max-height, var(--_menu-max-height, 300px)));\n        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));\n        pointer-events: none;\n      }\n\n      :host([slot=\"submenu\"]) {\n        background: none;\n        width: 100%;\n        min-height: 100%;\n        position: absolute;\n        bottom: 0;\n        right: -100%;\n      }\n\n      #container {\n        display: flex;\n        flex-direction: column;\n        min-height: 0;\n        transition: transform .2s ease-out;\n        transform: translate(0, 0);\n      }\n\n      #container.has-expanded {\n        transition: transform .2s ease-in;\n        transform: translate(-100%, 0);\n      }\n\n      button {\n        background: none;\n        color: inherit;\n        border: none;\n        padding: 0;\n        font: inherit;\n        outline: inherit;\n        display: inline-flex;\n        align-items: center;\n      }\n\n      slot[name=\"header\"][hidden] {\n        display: none;\n      }\n\n      slot[name=\"header\"] > *,\n      slot[name=\"header\"]::slotted(*) {\n        padding: .4em .7em;\n        border-bottom: 1px solid rgb(255 255 255 / .25);\n        cursor: var(--media-cursor, default);\n      }\n\n      slot[name=\"header\"] > button[part~=\"back\"],\n      slot[name=\"header\"]::slotted(button[part~=\"back\"]) {\n        cursor: var(--media-cursor, pointer);\n      }\n\n      svg[part~=\"back\"] {\n        height: var(--media-menu-icon-height, var(--media-control-height, 24px));\n        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));\n        display: block;\n        margin-right: .5ch;\n      }\n\n      slot:not([name]) {\n        gap: var(--media-menu-gap);\n        flex-direction: var(--media-menu-flex-direction, column);\n        overflow: var(--media-menu-overflow, hidden auto);\n        display: flex;\n        min-height: 0;\n      }\n\n      :host([role=\"menu\"]) slot:not([name]) {\n        padding-block: .4em;\n      }\n\n      slot:not([name])::slotted([role=\"menu\"]) {\n        background: none;\n      }\n\n      media-chrome-menu-item > span {\n        margin-right: .5ch;\n        max-width: var(--media-menu-item-max-width);\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    </style>\n    <style id=\"layout-row\" media=\"width:0\">\n\n      slot[name=\"header\"] > *,\n      slot[name=\"header\"]::slotted(*) {\n        padding: .4em .5em;\n      }\n\n      slot:not([name]) {\n        gap: var(--media-menu-gap, .25em);\n        flex-direction: var(--media-menu-flex-direction, row);\n        padding-inline: .5em;\n      }\n\n      media-chrome-menu-item {\n        padding: .3em .5em;\n      }\n\n      media-chrome-menu-item[aria-checked=\"true\"] {\n        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));\n      }\n\n      ${/* In row layout hide the checked indicator completely. */\n    \"\"}\n      media-chrome-menu-item::part(checked-indicator) {\n        display: var(--media-menu-item-checked-indicator-display, none);\n      }\n    </style>\n    <div id=\"container\">\n      <slot name=\"header\" hidden>\n        <button part=\"back button\" aria-label=\"Back to previous menu\">\n          <slot name=\"back-icon\">\n            <svg aria-hidden=\"true\" viewBox=\"0 0 20 24\" part=\"back indicator\">\n              <path d=\"m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z\"/>\n            </svg>\n          </slot>\n          <slot name=\"title\"></slot>\n        </button>\n      </slot>\n      <slot></slot>\n    </div>\n    <slot name=\"checked-indicator\" hidden></slot>\n  `\n  );\n}\nconst Attributes = {\n  STYLE: \"style\",\n  HIDDEN: \"hidden\",\n  DISABLED: \"disabled\",\n  ANCHOR: \"anchor\"\n};\nclass MediaChromeMenu extends globalThis.HTMLElement {\n  constructor() {\n    super();\n    __privateAdd(this, _handleSlotChange);\n    /**\n     * Sets the layout style for the menu.\n     * It can be a row or column layout. e.g. playback-rate-menu\n     */\n    __privateAdd(this, _updateLayoutStyle);\n    __privateAdd(this, _handleInvoke);\n    __privateAdd(this, _handleOpen);\n    __privateAdd(this, _handleClosed);\n    /**\n     * Updates the popover menu position based on the anchor element.\n     * @param  {number} [menuWidth]\n     */\n    __privateAdd(this, _positionMenu);\n    /**\n     * Resize this menu to fit the submenu.\n     * @param  {boolean} animate\n     */\n    __privateAdd(this, _resizeMenu);\n    __privateAdd(this, _handleClick);\n    __privateAdd(this, _backButtonElement);\n    /**\n     * Handle the toggle event of submenus.\n     * Closes all other open submenus when opening a submenu.\n     * Resizes this menu to fit the submenu.\n     *\n     * @param  {ToggleEvent} event\n     */\n    __privateAdd(this, _handleToggle);\n    /**\n     * Check if any submenu is expanded and update the container class accordingly.\n     * When the CSS :has() selector is supported, this can be done with CSS only.\n     */\n    __privateAdd(this, _checkSubmenuHasExpanded);\n    __privateAdd(this, _handleFocusOut);\n    __privateAdd(this, _handleKeyDown);\n    __privateAdd(this, _getItem);\n    __privateAdd(this, _getTabItem);\n    __privateAdd(this, _setTabItem);\n    __privateAdd(this, _selectItem);\n    __privateAdd(this, _mediaController, null);\n    __privateAdd(this, _previouslyFocused, null);\n    __privateAdd(this, _invokerElement, null);\n    __privateAdd(this, _previousItems, /* @__PURE__ */ new Set());\n    __privateAdd(this, _mutationObserver, void 0);\n    __privateAdd(this, _isPopover, false);\n    __privateAdd(this, _cssRule, null);\n    /**\n     * Fires an event when a menu item is added or removed.\n     * This is needed to update the description slot of an ancestor menu item.\n     */\n    __privateAdd(this, _handleMenuItems, () => {\n      const previousItems = __privateGet(this, _previousItems);\n      const currentItems = new Set(this.items);\n      for (const item of previousItems) {\n        if (!currentItems.has(item)) {\n          this.dispatchEvent(new CustomEvent(\"removemenuitem\", { detail: item }));\n        }\n      }\n      for (const item of currentItems) {\n        if (!previousItems.has(item)) {\n          this.dispatchEvent(new CustomEvent(\"addmenuitem\", { detail: item }));\n        }\n      }\n      __privateSet(this, _previousItems, currentItems);\n    });\n    __privateAdd(this, _handleBoundsResize, () => {\n      __privateMethod(this, _positionMenu, positionMenu_fn).call(this);\n      __privateMethod(this, _resizeMenu, resizeMenu_fn).call(this, false);\n    });\n    __privateAdd(this, _handleMenuResize, () => {\n      __privateMethod(this, _positionMenu, positionMenu_fn).call(this);\n    });\n    if (!this.shadowRoot) {\n      this.attachShadow(this.constructor.shadowRootOptions);\n      const attrs = namedNodeMapToObject(this.attributes);\n      this.shadowRoot.innerHTML = this.constructor.getTemplateHTML(attrs);\n    }\n    this.container = this.shadowRoot.querySelector(\"#container\");\n    this.defaultSlot = this.shadowRoot.querySelector(\n      \"slot:not([name])\"\n    );\n    this.shadowRoot.addEventListener(\"slotchange\", this);\n    __privateSet(this, _mutationObserver, new MutationObserver(__privateGet(this, _handleMenuItems)));\n    __privateGet(this, _mutationObserver).observe(this.defaultSlot, { childList: true });\n  }\n  static get observedAttributes() {\n    return [\n      Attributes.DISABLED,\n      Attributes.HIDDEN,\n      Attributes.STYLE,\n      Attributes.ANCHOR,\n      MediaStateReceiverAttributes.MEDIA_CONTROLLER\n    ];\n  }\n  static formatMenuItemText(text, _data) {\n    return text;\n  }\n  enable() {\n    this.addEventListener(\"click\", this);\n    this.addEventListener(\"focusout\", this);\n    this.addEventListener(\"keydown\", this);\n    this.addEventListener(\"invoke\", this);\n    this.addEventListener(\"toggle\", this);\n  }\n  disable() {\n    this.removeEventListener(\"click\", this);\n    this.removeEventListener(\"focusout\", this);\n    this.removeEventListener(\"keyup\", this);\n    this.removeEventListener(\"invoke\", this);\n    this.removeEventListener(\"toggle\", this);\n  }\n  handleEvent(event) {\n    switch (event.type) {\n      case \"slotchange\":\n        __privateMethod(this, _handleSlotChange, handleSlotChange_fn).call(this, event);\n        break;\n      case \"invoke\":\n        __privateMethod(this, _handleInvoke, handleInvoke_fn).call(this, event);\n        break;\n      case \"click\":\n        __privateMethod(this, _handleClick, handleClick_fn).call(this, event);\n        break;\n      case \"toggle\":\n        __privateMethod(this, _handleToggle, handleToggle_fn).call(this, event);\n        break;\n      case \"focusout\":\n        __privateMethod(this, _handleFocusOut, handleFocusOut_fn).call(this, event);\n        break;\n      case \"keydown\":\n        __privateMethod(this, _handleKeyDown, handleKeyDown_fn).call(this, event);\n        break;\n    }\n  }\n  connectedCallback() {\n    var _a, _b;\n    __privateSet(this, _cssRule, insertCSSRule(this.shadowRoot, \":host\"));\n    __privateMethod(this, _updateLayoutStyle, updateLayoutStyle_fn).call(this);\n    if (!this.hasAttribute(\"disabled\")) {\n      this.enable();\n    }\n    if (!this.role) {\n      this.role = \"menu\";\n    }\n    __privateSet(this, _mediaController, getAttributeMediaController(this));\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.associateElement) == null ? void 0 : _b.call(_a, this);\n    if (!this.hidden) {\n      observeResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n      observeResize(this, __privateGet(this, _handleMenuResize));\n    }\n  }\n  disconnectedCallback() {\n    var _a, _b;\n    unobserveResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n    unobserveResize(this, __privateGet(this, _handleMenuResize));\n    this.disable();\n    (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n    __privateSet(this, _mediaController, null);\n  }\n  attributeChangedCallback(attrName, oldValue, newValue) {\n    var _a, _b, _c, _d;\n    if (attrName === Attributes.HIDDEN && newValue !== oldValue) {\n      if (!__privateGet(this, _isPopover))\n        __privateSet(this, _isPopover, true);\n      if (this.hidden) {\n        __privateMethod(this, _handleClosed, handleClosed_fn).call(this);\n      } else {\n        __privateMethod(this, _handleOpen, handleOpen_fn).call(this);\n      }\n      this.dispatchEvent(\n        new ToggleEvent({\n          oldState: this.hidden ? \"open\" : \"closed\",\n          newState: this.hidden ? \"closed\" : \"open\",\n          bubbles: true\n        })\n      );\n    } else if (attrName === MediaStateReceiverAttributes.MEDIA_CONTROLLER) {\n      if (oldValue) {\n        (_b = (_a = __privateGet(this, _mediaController)) == null ? void 0 : _a.unassociateElement) == null ? void 0 : _b.call(_a, this);\n        __privateSet(this, _mediaController, null);\n      }\n      if (newValue && this.isConnected) {\n        __privateSet(this, _mediaController, getAttributeMediaController(this));\n        (_d = (_c = __privateGet(this, _mediaController)) == null ? void 0 : _c.associateElement) == null ? void 0 : _d.call(_c, this);\n      }\n    } else if (attrName === Attributes.DISABLED && newValue !== oldValue) {\n      if (newValue == null) {\n        this.enable();\n      } else {\n        this.disable();\n      }\n    } else if (attrName === Attributes.STYLE && newValue !== oldValue) {\n      __privateMethod(this, _updateLayoutStyle, updateLayoutStyle_fn).call(this);\n    }\n  }\n  formatMenuItemText(text, data) {\n    return this.constructor.formatMenuItemText(\n      text,\n      data\n    );\n  }\n  get anchor() {\n    return this.getAttribute(\"anchor\");\n  }\n  set anchor(value) {\n    this.setAttribute(\"anchor\", `${value}`);\n  }\n  /**\n   * Returns the anchor element when it is a floating menu.\n   */\n  get anchorElement() {\n    var _a;\n    if (this.anchor) {\n      return (_a = getDocumentOrShadowRoot(this)) == null ? void 0 : _a.querySelector(\n        `#${this.anchor}`\n      );\n    }\n    return null;\n  }\n  /**\n   * Returns the menu items.\n   */\n  get items() {\n    return this.defaultSlot.assignedElements({ flatten: true }).filter(isMenuItem);\n  }\n  get radioGroupItems() {\n    return this.items.filter((item) => item.role === \"menuitemradio\");\n  }\n  get checkedItems() {\n    return this.items.filter((item) => item.checked);\n  }\n  get value() {\n    var _a, _b;\n    return (_b = (_a = this.checkedItems[0]) == null ? void 0 : _a.value) != null ? _b : \"\";\n  }\n  set value(newValue) {\n    const item = this.items.find((item2) => item2.value === newValue);\n    if (!item)\n      return;\n    __privateMethod(this, _selectItem, selectItem_fn).call(this, item);\n  }\n  focus() {\n    __privateSet(this, _previouslyFocused, getActiveElement());\n    if (this.items.length) {\n      __privateMethod(this, _setTabItem, setTabItem_fn).call(this, this.items[0]);\n      this.items[0].focus();\n      return;\n    }\n    const focusable = this.querySelector(\n      '[autofocus], [tabindex]:not([tabindex=\"-1\"]), [role=\"menu\"]'\n    );\n    focusable == null ? void 0 : focusable.focus();\n  }\n  handleSelect(event) {\n    var _a;\n    const item = __privateMethod(this, _getItem, getItem_fn).call(this, event);\n    if (!item)\n      return;\n    __privateMethod(this, _selectItem, selectItem_fn).call(this, item, item.type === \"checkbox\");\n    if (__privateGet(this, _invokerElement) && !this.hidden) {\n      (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n      this.hidden = true;\n    }\n  }\n  get keysUsed() {\n    return [\n      \"Enter\",\n      \"Escape\",\n      \"Tab\",\n      \" \",\n      \"ArrowDown\",\n      \"ArrowUp\",\n      \"Home\",\n      \"End\"\n    ];\n  }\n  handleMove(event) {\n    var _a, _b;\n    const { key } = event;\n    const items = this.items;\n    const currentItem = (_b = (_a = __privateMethod(this, _getItem, getItem_fn).call(this, event)) != null ? _a : __privateMethod(this, _getTabItem, getTabItem_fn).call(this)) != null ? _b : items[0];\n    const currentIndex = items.indexOf(currentItem);\n    let index = Math.max(0, currentIndex);\n    if (key === \"ArrowDown\") {\n      index++;\n    } else if (key === \"ArrowUp\") {\n      index--;\n    } else if (event.key === \"Home\") {\n      index = 0;\n    } else if (event.key === \"End\") {\n      index = items.length - 1;\n    }\n    if (index < 0) {\n      index = items.length - 1;\n    }\n    if (index > items.length - 1) {\n      index = 0;\n    }\n    __privateMethod(this, _setTabItem, setTabItem_fn).call(this, items[index]);\n    items[index].focus();\n  }\n}\n_mediaController = new WeakMap();\n_previouslyFocused = new WeakMap();\n_invokerElement = new WeakMap();\n_previousItems = new WeakMap();\n_mutationObserver = new WeakMap();\n_isPopover = new WeakMap();\n_cssRule = new WeakMap();\n_handleSlotChange = new WeakSet();\nhandleSlotChange_fn = function(event) {\n  const slot = event.target;\n  for (const node of slot.assignedNodes({ flatten: true })) {\n    if (node.nodeType === 3 && node.textContent.trim() === \"\") {\n      node.remove();\n    }\n  }\n  if ([\"header\", \"title\"].includes(slot.name)) {\n    const header = this.shadowRoot.querySelector(\n      'slot[name=\"header\"]'\n    );\n    header.hidden = slot.assignedNodes().length === 0;\n  }\n  if (!slot.name) {\n    __privateGet(this, _handleMenuItems).call(this);\n  }\n};\n_handleMenuItems = new WeakMap();\n_updateLayoutStyle = new WeakSet();\nupdateLayoutStyle_fn = function() {\n  var _a;\n  const layoutRowStyle = this.shadowRoot.querySelector(\"#layout-row\");\n  const menuLayout = (_a = getComputedStyle(this).getPropertyValue(\"--media-menu-layout\")) == null ? void 0 : _a.trim();\n  layoutRowStyle.setAttribute(\"media\", menuLayout === \"row\" ? \"\" : \"width:0\");\n};\n_handleInvoke = new WeakSet();\nhandleInvoke_fn = function(event) {\n  __privateSet(this, _invokerElement, event.relatedTarget);\n  if (!containsComposedNode(this, event.relatedTarget)) {\n    this.hidden = !this.hidden;\n  }\n};\n_handleOpen = new WeakSet();\nhandleOpen_fn = function() {\n  var _a;\n  (_a = __privateGet(this, _invokerElement)) == null ? void 0 : _a.setAttribute(\"aria-expanded\", \"true\");\n  this.addEventListener(\"transitionend\", () => this.focus(), { once: true });\n  observeResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n  observeResize(this, __privateGet(this, _handleMenuResize));\n};\n_handleClosed = new WeakSet();\nhandleClosed_fn = function() {\n  var _a;\n  (_a = __privateGet(this, _invokerElement)) == null ? void 0 : _a.setAttribute(\"aria-expanded\", \"false\");\n  unobserveResize(getBoundsElement(this), __privateGet(this, _handleBoundsResize));\n  unobserveResize(this, __privateGet(this, _handleMenuResize));\n};\n_handleBoundsResize = new WeakMap();\n_handleMenuResize = new WeakMap();\n_positionMenu = new WeakSet();\npositionMenu_fn = function(menuWidth) {\n  if (this.hasAttribute(\"mediacontroller\") && !this.anchor)\n    return;\n  if (this.hidden || !this.anchorElement)\n    return;\n  const { x, y } = computePosition({\n    anchor: this.anchorElement,\n    floating: this,\n    placement: \"top-start\"\n  });\n  menuWidth != null ? menuWidth : menuWidth = this.offsetWidth;\n  const bounds = getBoundsElement(this);\n  const boundsRect = bounds.getBoundingClientRect();\n  const right = boundsRect.width - x - menuWidth;\n  const bottom = boundsRect.height - y - this.offsetHeight;\n  const { style } = __privateGet(this, _cssRule);\n  style.setProperty(\"position\", \"absolute\");\n  style.setProperty(\"right\", `${Math.max(0, right)}px`);\n  style.setProperty(\"--_menu-bottom\", `${bottom}px`);\n  const computedStyle = getComputedStyle(this);\n  const isBottomCalc = style.getPropertyValue(\"--_menu-bottom\") === computedStyle.bottom;\n  const realBottom = isBottomCalc ? bottom : parseFloat(computedStyle.bottom);\n  const maxHeight = boundsRect.height - realBottom - parseFloat(computedStyle.marginBottom);\n  this.style.setProperty(\"--_menu-max-height\", `${maxHeight}px`);\n};\n_resizeMenu = new WeakSet();\nresizeMenu_fn = function(animate) {\n  const expandedMenuItem = this.querySelector(\n    '[role=\"menuitem\"][aria-haspopup][aria-expanded=\"true\"]'\n  );\n  const expandedSubmenu = expandedMenuItem == null ? void 0 : expandedMenuItem.querySelector(\n    '[role=\"menu\"]'\n  );\n  const { style } = __privateGet(this, _cssRule);\n  if (!animate) {\n    style.setProperty(\"--media-menu-transition-in\", \"none\");\n  }\n  if (expandedSubmenu) {\n    const height = expandedSubmenu.offsetHeight;\n    const width = Math.max(\n      expandedSubmenu.offsetWidth,\n      expandedMenuItem.offsetWidth\n    );\n    this.style.setProperty(\"min-width\", `${width}px`);\n    this.style.setProperty(\"min-height\", `${height}px`);\n    __privateMethod(this, _positionMenu, positionMenu_fn).call(this, width);\n  } else {\n    this.style.removeProperty(\"min-width\");\n    this.style.removeProperty(\"min-height\");\n    __privateMethod(this, _positionMenu, positionMenu_fn).call(this);\n  }\n  style.removeProperty(\"--media-menu-transition-in\");\n};\n_handleClick = new WeakSet();\nhandleClick_fn = function(event) {\n  var _a;\n  event.stopPropagation();\n  if (event.composedPath().includes(__privateGet(this, _backButtonElement, backButtonElement_get))) {\n    (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n    this.hidden = true;\n    return;\n  }\n  const item = __privateMethod(this, _getItem, getItem_fn).call(this, event);\n  if (!item || item.hasAttribute(\"disabled\"))\n    return;\n  __privateMethod(this, _setTabItem, setTabItem_fn).call(this, item);\n  this.handleSelect(event);\n};\n_backButtonElement = new WeakSet();\nbackButtonElement_get = function() {\n  var _a;\n  const headerSlot = this.shadowRoot.querySelector(\n    'slot[name=\"header\"]'\n  );\n  return (_a = headerSlot.assignedElements({ flatten: true })) == null ? void 0 : _a.find((el) => el.matches('button[part~=\"back\"]'));\n};\n_handleToggle = new WeakSet();\nhandleToggle_fn = function(event) {\n  if (event.target === this)\n    return;\n  __privateMethod(this, _checkSubmenuHasExpanded, checkSubmenuHasExpanded_fn).call(this);\n  const menuItemsWithSubmenu = Array.from(\n    this.querySelectorAll('[role=\"menuitem\"][aria-haspopup]')\n  );\n  for (const item of menuItemsWithSubmenu) {\n    if (item.invokeTargetElement == event.target)\n      continue;\n    if (event.newState == \"open\" && item.getAttribute(\"aria-expanded\") == \"true\" && !item.invokeTargetElement.hidden) {\n      item.invokeTargetElement.dispatchEvent(\n        new InvokeEvent({ relatedTarget: item })\n      );\n    }\n  }\n  for (const item of menuItemsWithSubmenu) {\n    item.setAttribute(\"aria-expanded\", `${!item.submenuElement.hidden}`);\n  }\n  __privateMethod(this, _resizeMenu, resizeMenu_fn).call(this, true);\n};\n_checkSubmenuHasExpanded = new WeakSet();\ncheckSubmenuHasExpanded_fn = function() {\n  const selector = '[role=\"menuitem\"] > [role=\"menu\"]:not([hidden])';\n  const expandedMenuItem = this.querySelector(selector);\n  this.container.classList.toggle(\"has-expanded\", !!expandedMenuItem);\n};\n_handleFocusOut = new WeakSet();\nhandleFocusOut_fn = function(event) {\n  var _a;\n  if (!containsComposedNode(this, event.relatedTarget)) {\n    if (__privateGet(this, _isPopover)) {\n      (_a = __privateGet(this, _previouslyFocused)) == null ? void 0 : _a.focus();\n    }\n    if (__privateGet(this, _invokerElement) && __privateGet(this, _invokerElement) !== event.relatedTarget && !this.hidden) {\n      this.hidden = true;\n    }\n  }\n};\n_handleKeyDown = new WeakSet();\nhandleKeyDown_fn = function(event) {\n  var _a, _b, _c, _d, _e;\n  const { key, ctrlKey, altKey, metaKey } = event;\n  if (ctrlKey || altKey || metaKey) {\n    return;\n  }\n  if (!this.keysUsed.includes(key)) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  if (key === \"Tab\") {\n    if (__privateGet(this, _isPopover)) {\n      this.hidden = true;\n      return;\n    }\n    if (event.shiftKey) {\n      (_b = (_a = this.previousElementSibling) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    } else {\n      (_d = (_c = this.nextElementSibling) == null ? void 0 : _c.focus) == null ? void 0 : _d.call(_c);\n    }\n    this.blur();\n  } else if (key === \"Escape\") {\n    (_e = __privateGet(this, _previouslyFocused)) == null ? void 0 : _e.focus();\n    if (__privateGet(this, _isPopover)) {\n      this.hidden = true;\n    }\n  } else if (key === \"Enter\" || key === \" \") {\n    this.handleSelect(event);\n  } else {\n    this.handleMove(event);\n  }\n};\n_getItem = new WeakSet();\ngetItem_fn = function(event) {\n  return event.composedPath().find((el) => {\n    return [\"menuitemradio\", \"menuitemcheckbox\"].includes(\n      el.role\n    );\n  });\n};\n_getTabItem = new WeakSet();\ngetTabItem_fn = function() {\n  return this.items.find((item) => item.tabIndex === 0);\n};\n_setTabItem = new WeakSet();\nsetTabItem_fn = function(tabItem) {\n  for (const item of this.items) {\n    item.tabIndex = item === tabItem ? 0 : -1;\n  }\n};\n_selectItem = new WeakSet();\nselectItem_fn = function(item, toggle) {\n  const oldCheckedItems = [...this.checkedItems];\n  if (item.type === \"radio\") {\n    this.radioGroupItems.forEach((el) => el.checked = false);\n  }\n  if (toggle) {\n    item.checked = !item.checked;\n  } else {\n    item.checked = true;\n  }\n  if (this.checkedItems.some((opt, i) => opt != oldCheckedItems[i])) {\n    this.dispatchEvent(\n      new Event(\"change\", { bubbles: true, composed: true })\n    );\n  }\n};\nMediaChromeMenu.shadowRootOptions = { mode: \"open\" };\nMediaChromeMenu.getTemplateHTML = getTemplateHTML;\nfunction isMenuItem(element) {\n  return [\"menuitem\", \"menuitemradio\", \"menuitemcheckbox\"].includes(\n    element == null ? void 0 : element.role\n  );\n}\nfunction getBoundsElement(host) {\n  var _a;\n  return (_a = host.getAttribute(\"bounds\") ? closestComposedNode(host, `#${host.getAttribute(\"bounds\")}`) : getMediaController(host) || host.parentElement) != null ? _a : host;\n}\nif (!globalThis.customElements.get(\"media-chrome-menu\")) {\n  globalThis.customElements.define(\"media-chrome-menu\", MediaChromeMenu);\n}\nvar media_chrome_menu_default = MediaChromeMenu;\nexport {\n  Attributes,\n  MediaChromeMenu,\n  createIndicator,\n  createMenuItem,\n  media_chrome_menu_default as default\n};\n"],"mappings":"AAAA,IAAIA,aAAa,GAAGA,CAACC,GAAG,EAAEC,MAAM,EAAEC,GAAG,KAAK;EACxC,IAAI,CAACD,MAAM,CAACE,GAAG,CAACH,GAAG,CAAC,EAClB,MAAMI,SAAS,CAAC,SAAS,GAAGF,GAAG,CAAC;AACpC,CAAC;AACD,IAAIG,YAAY,GAAGA,CAACL,GAAG,EAAEC,MAAM,EAAEK,MAAM,KAAK;EAC1CP,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAE,yBAAyB,CAAC;EACrD,OAAOK,MAAM,GAAGA,MAAM,CAACC,IAAI,CAACP,GAAG,CAAC,GAAGC,MAAM,CAACO,GAAG,CAACR,GAAG,CAAC;AACpD,CAAC;AACD,IAAIS,YAAY,GAAGA,CAACT,GAAG,EAAEC,MAAM,EAAES,KAAK,KAAK;EACzC,IAAIT,MAAM,CAACE,GAAG,CAACH,GAAG,CAAC,EACjB,MAAMI,SAAS,CAAC,mDAAmD,CAAC;EACtEH,MAAM,YAAYU,OAAO,GAAGV,MAAM,CAACW,GAAG,CAACZ,GAAG,CAAC,GAAGC,MAAM,CAACY,GAAG,CAACb,GAAG,EAAEU,KAAK,CAAC;AACtE,CAAC;AACD,IAAII,YAAY,GAAGA,CAACd,GAAG,EAAEC,MAAM,EAAES,KAAK,EAAEK,MAAM,KAAK;EACjDhB,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAE,wBAAwB,CAAC;EACpDc,MAAM,GAAGA,MAAM,CAACR,IAAI,CAACP,GAAG,EAAEU,KAAK,CAAC,GAAGT,MAAM,CAACY,GAAG,CAACb,GAAG,EAAEU,KAAK,CAAC;EACzD,OAAOA,KAAK;AACd,CAAC;AACD,IAAIM,eAAe,GAAGA,CAAChB,GAAG,EAAEC,MAAM,EAAEgB,MAAM,KAAK;EAC7ClB,aAAa,CAACC,GAAG,EAAEC,MAAM,EAAE,uBAAuB,CAAC;EACnD,OAAOgB,MAAM;AACf,CAAC;AACD,IAAIC,gBAAgB,EAAEC,kBAAkB,EAAEC,eAAe,EAAEC,cAAc,EAAEC,iBAAiB,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,iBAAiB,EAAEC,mBAAmB,EAAEC,gBAAgB,EAAEC,kBAAkB,EAAEC,oBAAoB,EAAEC,aAAa,EAAEC,eAAe,EAAEC,WAAW,EAAEC,aAAa,EAAEC,aAAa,EAAEC,eAAe,EAAEC,mBAAmB,EAAEC,iBAAiB,EAAEC,aAAa,EAAEC,eAAe,EAAEC,WAAW,EAAEC,aAAa,EAAEC,YAAY,EAAEC,cAAc,EAAEC,kBAAkB,EAAEC,qBAAqB,EAAEC,aAAa,EAAEC,eAAe,EAAEC,wBAAwB,EAAEC,0BAA0B,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,cAAc,EAAEC,gBAAgB,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,WAAW,EAAEC,aAAa,EAAEC,WAAW,EAAEC,aAAa,EAAEC,WAAW,EAAEC,aAAa;AACruB,SAASC,4BAA4B,QAAQ,iBAAiB;AAC9D,SAASC,UAAU,EAAEC,QAAQ,QAAQ,iCAAiC;AACtE,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,aAAa,EAAEC,eAAe,QAAQ,6BAA6B;AAC5E,SAASC,WAAW,EAAEC,WAAW,QAAQ,oBAAoB;AAC7D,SACEC,gBAAgB,EAChBC,oBAAoB,EACpBC,mBAAmB,EACnBC,aAAa,EACbC,kBAAkB,EAClBC,2BAA2B,EAC3BC,uBAAuB,EACvBC,oBAAoB,QACf,2BAA2B;AAClC,SAASC,cAAcA,CAAAC,IAAA,EAKpB;EAAA,IALqB;IACtBC,IAAI;IACJC,IAAI;IACJvE,KAAK;IACLwE;EACF,CAAC,GAAAH,IAAA;EACC,MAAMI,IAAI,GAAGnB,QAAQ,CAACoB,aAAa,CACjC,wBACF,CAAC;EACDD,IAAI,CAACH,IAAI,GAAGA,IAAI,IAAI,IAAI,GAAGA,IAAI,GAAG,EAAE;EACpCG,IAAI,CAACE,IAAI,CAACzE,GAAG,CAAC,WAAW,CAAC;EAC1B,IAAIoE,IAAI,EACNG,IAAI,CAACE,IAAI,CAACzE,GAAG,CAACoE,IAAI,CAAC;EACrBG,IAAI,CAACzE,KAAK,GAAGA,KAAK;EAClByE,IAAI,CAACD,OAAO,GAAGA,OAAO;EACtB,MAAMI,KAAK,GAAGtB,QAAQ,CAACoB,aAAa,CAAC,MAAM,CAAC;EAC5CE,KAAK,CAACC,WAAW,GAAGN,IAAI;EACxBE,IAAI,CAACK,MAAM,CAACF,KAAK,CAAC;EAClB,OAAOH,IAAI;AACb;AACA,SAASM,eAAeA,CAACC,EAAE,EAAEC,IAAI,EAAE;EACjC,IAAIC,eAAe,GAAGF,EAAE,CAACG,aAAa,CAAC,mBAAmBF,IAAI,IAAI,CAAC;EACnE,IAAI,CAACC,eAAe,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACE,QAAQ,KAAK,MAAM,EACzEF,eAAe,GAAGA,eAAe,CAACG,gBAAgB,CAAC;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1E,IAAIJ,eAAe,EAAE;IACnBA,eAAe,GAAGA,eAAe,CAACK,SAAS,CAAC,IAAI,CAAC;IACjD,OAAOL,eAAe;EACxB;EACA,MAAMM,iBAAiB,GAAGR,EAAE,CAACS,UAAU,CAACN,aAAa,CACnD,UAAUF,IAAI,UAChB,CAAC;EACD,IAAIO,iBAAiB,EAAE;IACrB,OAAOA,iBAAiB,CAACD,SAAS,CAAC,IAAI,CAAC;EAC1C;EACA,OAAO,EAAE;AACX;AACA,SAASG,eAAeA,CAACC,MAAM,EAAE;EAC/B,OACE,QACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;EACN,EAAE;AACN;AACA;AACA;AACA;AACA;AACA,UAAU;EACN,EAAE;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","ignoreList":[]},"metadata":{},"sourceType":"module"}