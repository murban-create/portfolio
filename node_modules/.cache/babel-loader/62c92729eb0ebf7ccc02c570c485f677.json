{"ast":null,"code":"var _globalThis$document;\n/**\n * Super Media Element\n * Based on https://github.com/muxinc/custom-video-element - Mux - MIT License\n *\n * The goal is to create an element that works just like the video element\n * but can be extended/sub-classed, because native elements cannot be\n * extended today across browsers. Support for extending async loaded video\n * like API's. e.g. video players.\n */\n\n// The onevent like props are weirdly set on the HTMLElement prototype with other\n// generic events making it impossible to pick these specific to HTMLMediaElement.\nexport const Events = ['abort', 'canplay', 'canplaythrough', 'durationchange', 'emptied', 'encrypted', 'ended', 'error', 'loadeddata', 'loadedmetadata', 'loadstart', 'pause', 'play', 'playing', 'progress', 'ratechange', 'seeked', 'seeking', 'stalled', 'suspend', 'timeupdate', 'volumechange', 'waiting', 'waitingforkey', 'resize', 'enterpictureinpicture', 'leavepictureinpicture', 'webkitbeginfullscreen', 'webkitendfullscreen', 'webkitpresentationmodechanged'];\nexport const template = (_globalThis$document = globalThis.document) === null || _globalThis$document === void 0 ? void 0 : _globalThis$document.createElement('template');\nif (template) {\n  template.innerHTML = /*html*/`\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      video,\n      audio {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n      }\n    </style>\n    <slot></slot>\n  `;\n}\n\n/**\n * @see https://justinfagnani.com/2015/12/21/real-mixins-with-javascript-classes/\n */\nexport const SuperMediaMixin = (superclass, _ref) => {\n  var _globalThis$document2;\n  let {\n    tag,\n    is\n  } = _ref;\n  const nativeElTest = (_globalThis$document2 = globalThis.document) === null || _globalThis$document2 === void 0 ? void 0 : _globalThis$document2.createElement(tag, {\n    is\n  });\n  const nativeElProps = nativeElTest ? getNativeElProps(nativeElTest) : [];\n  return class SuperMedia extends superclass {\n    static Events = Events;\n    static template = template;\n    static skipAttributes = [];\n    static #isDefined;\n    static get observedAttributes() {\n      var _nativeElTest$constru;\n      SuperMedia.#define();\n\n      // Include any attributes from the custom built-in.\n      const natAttrs = (nativeElTest === null || nativeElTest === void 0 ? void 0 : (_nativeElTest$constru = nativeElTest.constructor) === null || _nativeElTest$constru === void 0 ? void 0 : _nativeElTest$constru.observedAttributes) ?? [];\n      return [...natAttrs, 'autopictureinpicture', 'disablepictureinpicture', 'disableremoteplayback', 'autoplay', 'controls', 'controlslist', 'crossorigin', 'loop', 'muted', 'playsinline', 'poster', 'preload', 'src'];\n    }\n    static #define() {\n      if (this.#isDefined) return;\n      this.#isDefined = true;\n      const propsToAttrs = new Set(this.observedAttributes);\n      // defaultMuted maps to the muted attribute, handled manually below.\n      propsToAttrs.delete('muted');\n\n      // Passthrough native el functions from the custom el to the native el\n      for (let prop of nativeElProps) {\n        if (prop in this.prototype) continue;\n        const type = typeof nativeElTest[prop];\n        if (type == 'function') {\n          // Function\n          this.prototype[prop] = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            this.#init();\n            const fn = () => {\n              if (this.call) return this.call(prop, ...args);\n              return this.nativeEl[prop].apply(this.nativeEl, args);\n            };\n            if (this.loadComplete && !this.isLoaded) {\n              return this.loadComplete.then(fn);\n            }\n            return fn();\n          };\n        } else {\n          // Some properties like src, preload, defaultMuted are handled manually.\n\n          // Getter\n          let config = {\n            get() {\n              var _this$get, _this$nativeEl;\n              this.#init();\n              let attr = prop.toLowerCase();\n              if (propsToAttrs.has(attr)) {\n                const val = this.getAttribute(attr);\n                return val === null ? false : val === '' ? true : val;\n              }\n              return ((_this$get = this.get) === null || _this$get === void 0 ? void 0 : _this$get.call(this, prop)) ?? ((_this$nativeEl = this.nativeEl) === null || _this$nativeEl === void 0 ? void 0 : _this$nativeEl[prop]) ?? this.#standinEl[prop];\n            }\n          };\n          if (prop !== prop.toUpperCase()) {\n            // Setter (not a CONSTANT)\n            config.set = async function (val) {\n              this.#init();\n              let attr = prop.toLowerCase();\n              if (propsToAttrs.has(attr)) {\n                if (val === true || val === false || val == null) {\n                  this.toggleAttribute(attr, Boolean(val));\n                } else {\n                  this.setAttribute(attr, val);\n                }\n                return;\n              }\n              if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n              if (this.set) {\n                this.set(prop, val);\n                return;\n              }\n              this.nativeEl[prop] = val;\n            };\n          }\n          Object.defineProperty(this.prototype, prop, config);\n        }\n      }\n    }\n    #isInit;\n    #loadComplete;\n    #hasLoaded = false;\n    #isLoaded = false;\n    #nativeEl;\n    #standinEl;\n    constructor() {\n      super();\n      if (!this.shadowRoot) {\n        this.attachShadow({\n          mode: 'open'\n        });\n        this.shadowRoot.append(this.constructor.template.content.cloneNode(true));\n      }\n\n      // If a load method is provided in the child class create a load promise.\n      if (this.load !== SuperMedia.prototype.load) {\n        this.loadComplete = new PublicPromise();\n      }\n\n      // If the custom element is defined before the custom element's HTML is parsed\n      // no attributes will be available in the constructor (construction process).\n      // Wait until initializing in the attributeChangedCallback or\n      // connectedCallback or accessing any properties.\n    }\n    get loadComplete() {\n      return this.#loadComplete;\n    }\n    set loadComplete(promise) {\n      this.#isLoaded = false;\n      this.#loadComplete = promise;\n      promise === null || promise === void 0 ? void 0 : promise.then(() => {\n        this.#isLoaded = true;\n      });\n    }\n    get isLoaded() {\n      return this.#isLoaded;\n    }\n    get nativeEl() {\n      return this.#nativeEl ?? this.shadowRoot.querySelector(tag) ?? this.querySelector(tag);\n    }\n    set nativeEl(val) {\n      this.#nativeEl = val;\n    }\n    get defaultMuted() {\n      return this.hasAttribute('muted');\n    }\n    set defaultMuted(val) {\n      this.toggleAttribute('muted', Boolean(val));\n    }\n    get src() {\n      return this.getAttribute('src');\n    }\n    set src(val) {\n      this.setAttribute('src', `${val}`);\n    }\n    get preload() {\n      var _this$nativeEl2;\n      return this.getAttribute('preload') ?? ((_this$nativeEl2 = this.nativeEl) === null || _this$nativeEl2 === void 0 ? void 0 : _this$nativeEl2.preload);\n    }\n    set preload(val) {\n      this.setAttribute('preload', `${val}`);\n    }\n    async #init() {\n      if (this.#isInit) return;\n      this.#isInit = true;\n      this.#initStandinEl();\n      this.#initNativeEl();\n      for (let prop of nativeElProps) this.#upgradeProperty(prop);\n\n      // Keep some native child elements like track and source in sync.\n      const childMap = new Map();\n      // An unnamed <slot> will be filled with all of the custom element's\n      // top-level child nodes that do not have the slot attribute.\n      const slotEl = this.shadowRoot.querySelector('slot:not([name])');\n      slotEl === null || slotEl === void 0 ? void 0 : slotEl.addEventListener('slotchange', () => {\n        const removeNativeChildren = new Map(childMap);\n        slotEl.assignedElements().filter(el => ['track', 'source'].includes(el.localName)).forEach(async el => {\n          var _this$nativeEl$append, _this$nativeEl3;\n          // If the source or track is still in the assigned elements keep it.\n          removeNativeChildren.delete(el);\n          // Re-use clones if possible.\n          let clone = childMap.get(el);\n          if (!clone) {\n            clone = el.cloneNode();\n            childMap.set(el, clone);\n          }\n          if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n          (_this$nativeEl$append = (_this$nativeEl3 = this.nativeEl).append) === null || _this$nativeEl$append === void 0 ? void 0 : _this$nativeEl$append.call(_this$nativeEl3, clone);\n        });\n        removeNativeChildren.forEach(el => el.remove());\n      });\n\n      // The video events are dispatched on the SuperMediaElement instance.\n      // This makes it possible to add event listeners before the element is upgraded.\n      for (let type of this.constructor.Events) {\n        var _this$shadowRoot$addE, _this$shadowRoot;\n        (_this$shadowRoot$addE = (_this$shadowRoot = this.shadowRoot).addEventListener) === null || _this$shadowRoot$addE === void 0 ? void 0 : _this$shadowRoot$addE.call(_this$shadowRoot, type, evt => {\n          if (evt.target !== this.nativeEl) return;\n          this.dispatchEvent(new CustomEvent(evt.type, {\n            detail: evt.detail\n          }));\n        }, true);\n      }\n    }\n    #upgradeProperty(prop) {\n      // Sets properties that are set before the custom element is upgraded.\n      // https://web.dev/custom-elements-best-practices/#make-properties-lazy\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        const value = this[prop];\n        // Delete the set property from this instance.\n        delete this[prop];\n        // Set the value again via the (prototype) setter on this class.\n        this[prop] = value;\n      }\n    }\n    #initStandinEl() {\n      // Neither Chrome or Firefox support setting the muted attribute\n      // after using document.createElement.\n      // Get around this by setting the muted property manually.\n      const dummyEl = document.createElement(tag, {\n        is\n      });\n      dummyEl.muted = this.hasAttribute('muted');\n      for (let {\n        name,\n        value\n      } of this.attributes) {\n        dummyEl.setAttribute(name, value);\n      }\n      this.#standinEl = {};\n      for (let name of getNativeElProps(dummyEl)) {\n        this.#standinEl[name] = dummyEl[name];\n      }\n\n      // unload dummy video element\n      dummyEl.removeAttribute('src');\n      dummyEl.load();\n    }\n    async #initNativeEl() {\n      if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n\n      // If there is no nativeEl by now, create it our bloody selves.\n      if (!this.nativeEl) {\n        const nativeEl = document.createElement(tag, {\n          is\n        });\n        nativeEl.part = tag;\n        this.shadowRoot.append(nativeEl);\n      }\n\n      // Neither Chrome or Firefox support setting the muted attribute\n      // after using document.createElement.\n      // Get around this by setting the muted property manually.\n      this.nativeEl.muted = this.hasAttribute('muted');\n    }\n    attributeChangedCallback(attrName, oldValue, newValue) {\n      // Initialize right after construction when the attributes become available.\n      this.#init();\n\n      // Only call loadSrc when the super class has a load method.\n      if (attrName === 'src' && this.load !== SuperMedia.prototype.load) {\n        this.#loadSrc();\n      }\n      this.#forwardAttribute(attrName, oldValue, newValue);\n    }\n    async #loadSrc() {\n      var _this$loadComplete;\n      // The first time we use the Promise created in the constructor.\n      if (this.#hasLoaded) this.loadComplete = new PublicPromise();\n      this.#hasLoaded = true;\n\n      // Wait 1 tick to allow other attributes to be set.\n      await Promise.resolve();\n      await this.load();\n      (_this$loadComplete = this.loadComplete) === null || _this$loadComplete === void 0 ? void 0 : _this$loadComplete.resolve();\n      await this.loadComplete;\n    }\n    async #forwardAttribute(attrName, oldValue, newValue) {\n      if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n\n      // Ignore a few that don't need to be passed & skipped attributes.\n      // e.g. src: native element is using MSE and has a blob url as src attribute.\n      if (['id', 'class', ...this.constructor.skipAttributes].includes(attrName)) {\n        return;\n      }\n      if (newValue === null) {\n        var _this$nativeEl$remove, _this$nativeEl4;\n        (_this$nativeEl$remove = (_this$nativeEl4 = this.nativeEl).removeAttribute) === null || _this$nativeEl$remove === void 0 ? void 0 : _this$nativeEl$remove.call(_this$nativeEl4, attrName);\n      } else {\n        var _this$nativeEl$setAtt, _this$nativeEl5;\n        (_this$nativeEl$setAtt = (_this$nativeEl5 = this.nativeEl).setAttribute) === null || _this$nativeEl$setAtt === void 0 ? void 0 : _this$nativeEl$setAtt.call(_this$nativeEl5, attrName, newValue);\n      }\n    }\n    connectedCallback() {\n      this.#init();\n    }\n  };\n};\nfunction getNativeElProps(nativeElTest) {\n  // Map all native element properties to the custom element\n  // so that they're applied to the native element.\n  // Skipping HTMLElement because of things like \"attachShadow\"\n  // causing issues. Most of those props still need to apply to\n  // the custom element.\n  let nativeElProps = [];\n\n  // Walk the prototype chain up to HTMLElement.\n  // This will grab all super class props in between.\n  // i.e. VideoElement and MediaElement\n  for (let proto = Object.getPrototypeOf(nativeElTest); proto && proto !== HTMLElement.prototype; proto = Object.getPrototypeOf(proto)) {\n    nativeElProps.push(...Object.getOwnPropertyNames(proto));\n  }\n  return nativeElProps;\n}\n\n/**\n * A utility to create Promises with convenient public resolve and reject methods.\n * @return {Promise}\n */\nclass PublicPromise extends Promise {\n  constructor() {\n    let executor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : () => {};\n    let res, rej;\n    super((resolve, reject) => {\n      executor(resolve, reject);\n      res = resolve;\n      rej = reject;\n    });\n    this.resolve = res;\n    this.reject = rej;\n  }\n}\nexport const SuperVideoElement = globalThis.document ? SuperMediaMixin(HTMLElement, {\n  tag: 'video'\n}) : class {};\nexport const SuperAudioElement = globalThis.document ? SuperMediaMixin(HTMLElement, {\n  tag: 'audio'\n}) : class {};","map":{"version":3,"names":["Events","template","_globalThis$document","globalThis","document","createElement","innerHTML","SuperMediaMixin","superclass","_ref","_globalThis$document2","tag","is","nativeElTest","nativeElProps","getNativeElProps","SuperMedia","skipAttributes","isDefined","observedAttributes","_nativeElTest$constru","define","natAttrs","constructor","#define","propsToAttrs","Set","delete","prop","prototype","type","_len","arguments","length","args","Array","_key","init","fn","call","nativeEl","apply","loadComplete","isLoaded","then","config","get","_this$get","_this$nativeEl","attr","toLowerCase","has","val","getAttribute","standinEl","toUpperCase","set","toggleAttribute","Boolean","setAttribute","Object","defineProperty","isInit","hasLoaded","shadowRoot","attachShadow","mode","append","content","cloneNode","load","PublicPromise","promise","querySelector","defaultMuted","hasAttribute","src","preload","_this$nativeEl2","#init","initStandinEl","initNativeEl","upgradeProperty","childMap","Map","slotEl","addEventListener","removeNativeChildren","assignedElements","filter","el","includes","localName","forEach","_this$nativeEl$append","_this$nativeEl3","clone","remove","_this$shadowRoot$addE","_this$shadowRoot","evt","target","dispatchEvent","CustomEvent","detail","#upgradeProperty","hasOwnProperty","value","#initStandinEl","dummyEl","muted","name","attributes","removeAttribute","#initNativeEl","part","attributeChangedCallback","attrName","oldValue","newValue","loadSrc","forwardAttribute","#loadSrc","_this$loadComplete","Promise","resolve","#forwardAttribute","_this$nativeEl$remove","_this$nativeEl4","_this$nativeEl$setAtt","_this$nativeEl5","connectedCallback","proto","getPrototypeOf","HTMLElement","push","getOwnPropertyNames","executor","undefined","res","rej","reject","SuperVideoElement","SuperAudioElement"],"sources":["/Users/monawiebkeurban/Documents/portfolio/node_modules/super-media-element/super-media-element.js"],"sourcesContent":["/**\n * Super Media Element\n * Based on https://github.com/muxinc/custom-video-element - Mux - MIT License\n *\n * The goal is to create an element that works just like the video element\n * but can be extended/sub-classed, because native elements cannot be\n * extended today across browsers. Support for extending async loaded video\n * like API's. e.g. video players.\n */\n\n// The onevent like props are weirdly set on the HTMLElement prototype with other\n// generic events making it impossible to pick these specific to HTMLMediaElement.\nexport const Events = [\n  'abort',\n  'canplay',\n  'canplaythrough',\n  'durationchange',\n  'emptied',\n  'encrypted',\n  'ended',\n  'error',\n  'loadeddata',\n  'loadedmetadata',\n  'loadstart',\n  'pause',\n  'play',\n  'playing',\n  'progress',\n  'ratechange',\n  'seeked',\n  'seeking',\n  'stalled',\n  'suspend',\n  'timeupdate',\n  'volumechange',\n  'waiting',\n  'waitingforkey',\n  'resize',\n  'enterpictureinpicture',\n  'leavepictureinpicture',\n  'webkitbeginfullscreen',\n  'webkitendfullscreen',\n  'webkitpresentationmodechanged',\n];\n\nexport const template = globalThis.document?.createElement('template');\n\nif (template) {\n  template.innerHTML = /*html*/`\n    <style>\n      :host {\n        display: inline-block;\n        line-height: 0;\n      }\n\n      video,\n      audio {\n        max-width: 100%;\n        max-height: 100%;\n        min-width: 100%;\n        min-height: 100%;\n      }\n    </style>\n    <slot></slot>\n  `;\n}\n\n/**\n * @see https://justinfagnani.com/2015/12/21/real-mixins-with-javascript-classes/\n */\nexport const SuperMediaMixin = (superclass, { tag, is }) => {\n\n  const nativeElTest = globalThis.document?.createElement(tag, { is });\n  const nativeElProps = nativeElTest ? getNativeElProps(nativeElTest) : [];\n\n  return class SuperMedia extends superclass {\n    static Events = Events;\n    static template = template;\n    static skipAttributes = [];\n    static #isDefined;\n\n    static get observedAttributes() {\n      SuperMedia.#define();\n\n      // Include any attributes from the custom built-in.\n      const natAttrs = nativeElTest?.constructor?.observedAttributes ?? [];\n\n      return [\n        ...natAttrs,\n        'autopictureinpicture',\n        'disablepictureinpicture',\n        'disableremoteplayback',\n        'autoplay',\n        'controls',\n        'controlslist',\n        'crossorigin',\n        'loop',\n        'muted',\n        'playsinline',\n        'poster',\n        'preload',\n        'src',\n      ];\n    }\n\n    static #define() {\n      if (this.#isDefined) return;\n      this.#isDefined = true;\n\n      const propsToAttrs = new Set(this.observedAttributes);\n      // defaultMuted maps to the muted attribute, handled manually below.\n      propsToAttrs.delete('muted');\n\n      // Passthrough native el functions from the custom el to the native el\n      for (let prop of nativeElProps) {\n        if (prop in this.prototype) continue;\n\n        const type = typeof nativeElTest[prop];\n        if (type == 'function') {\n          // Function\n          this.prototype[prop] = function (...args) {\n            this.#init();\n\n            const fn = () => {\n              if (this.call) return this.call(prop, ...args);\n              return this.nativeEl[prop].apply(this.nativeEl, args);\n            };\n\n            if (this.loadComplete && !this.isLoaded) {\n              return this.loadComplete.then(fn);\n            }\n            return fn();\n          };\n        } else {\n          // Some properties like src, preload, defaultMuted are handled manually.\n\n          // Getter\n          let config = {\n            get() {\n              this.#init();\n\n              let attr = prop.toLowerCase();\n              if (propsToAttrs.has(attr)) {\n                const val = this.getAttribute(attr);\n                return val === null ? false : val === '' ? true : val;\n              }\n\n              return this.get?.(prop) ?? this.nativeEl?.[prop] ?? this.#standinEl[prop];\n            },\n          };\n\n          if (prop !== prop.toUpperCase()) {\n            // Setter (not a CONSTANT)\n            config.set = async function (val) {\n              this.#init();\n\n              let attr = prop.toLowerCase();\n              if (propsToAttrs.has(attr)) {\n                if (val === true || val === false || val == null) {\n                  this.toggleAttribute(attr, Boolean(val));\n                } else {\n                  this.setAttribute(attr, val);\n                }\n                return;\n              }\n\n              if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n\n              if (this.set) {\n                this.set(prop, val);\n                return;\n              }\n\n              this.nativeEl[prop] = val;\n            };\n          }\n\n          Object.defineProperty(this.prototype, prop, config);\n        }\n      }\n    }\n\n    #isInit;\n    #loadComplete;\n    #hasLoaded = false;\n    #isLoaded = false;\n    #nativeEl;\n    #standinEl;\n\n    constructor() {\n      super();\n\n      if (!this.shadowRoot) {\n        this.attachShadow({ mode: 'open' });\n        this.shadowRoot.append(this.constructor.template.content.cloneNode(true));\n      }\n\n      // If a load method is provided in the child class create a load promise.\n      if (this.load !== SuperMedia.prototype.load) {\n        this.loadComplete = new PublicPromise();\n      }\n\n      // If the custom element is defined before the custom element's HTML is parsed\n      // no attributes will be available in the constructor (construction process).\n      // Wait until initializing in the attributeChangedCallback or\n      // connectedCallback or accessing any properties.\n    }\n\n    get loadComplete() {\n      return this.#loadComplete;\n    }\n\n    set loadComplete(promise) {\n      this.#isLoaded = false;\n      this.#loadComplete = promise;\n      promise?.then(() => {\n        this.#isLoaded = true;\n      });\n    }\n\n    get isLoaded() {\n      return this.#isLoaded;\n    }\n\n    get nativeEl() {\n      return this.#nativeEl\n        ?? this.shadowRoot.querySelector(tag)\n        ?? this.querySelector(tag);\n    }\n\n    set nativeEl(val) {\n      this.#nativeEl = val;\n    }\n\n    get defaultMuted() {\n      return this.hasAttribute('muted');\n    }\n\n    set defaultMuted(val) {\n      this.toggleAttribute('muted', Boolean(val));\n    }\n\n    get src() {\n      return this.getAttribute('src');\n    }\n\n    set src(val) {\n      this.setAttribute('src', `${val}`);\n    }\n\n    get preload() {\n      return this.getAttribute('preload') ?? this.nativeEl?.preload;\n    }\n\n    set preload(val) {\n      this.setAttribute('preload', `${val}`);\n    }\n\n    async #init() {\n      if (this.#isInit) return;\n      this.#isInit = true;\n\n      this.#initStandinEl();\n      this.#initNativeEl();\n\n      for (let prop of nativeElProps)\n        this.#upgradeProperty(prop);\n\n      // Keep some native child elements like track and source in sync.\n      const childMap = new Map();\n      // An unnamed <slot> will be filled with all of the custom element's\n      // top-level child nodes that do not have the slot attribute.\n      const slotEl = this.shadowRoot.querySelector('slot:not([name])');\n      slotEl?.addEventListener('slotchange', () => {\n        const removeNativeChildren = new Map(childMap);\n        slotEl\n          .assignedElements()\n          .filter((el) => ['track', 'source'].includes(el.localName))\n          .forEach(async (el) => {\n            // If the source or track is still in the assigned elements keep it.\n            removeNativeChildren.delete(el);\n            // Re-use clones if possible.\n            let clone = childMap.get(el);\n            if (!clone) {\n              clone = el.cloneNode();\n              childMap.set(el, clone);\n            }\n            if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n            this.nativeEl.append?.(clone);\n          });\n        removeNativeChildren.forEach((el) => el.remove());\n      });\n\n      // The video events are dispatched on the SuperMediaElement instance.\n      // This makes it possible to add event listeners before the element is upgraded.\n      for (let type of this.constructor.Events) {\n        this.shadowRoot.addEventListener?.(type, (evt) => {\n          if (evt.target !== this.nativeEl) return;\n          this.dispatchEvent(new CustomEvent(evt.type, { detail: evt.detail }));\n        }, true);\n      }\n    }\n\n    #upgradeProperty(prop) {\n      // Sets properties that are set before the custom element is upgraded.\n      // https://web.dev/custom-elements-best-practices/#make-properties-lazy\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        const value = this[prop];\n        // Delete the set property from this instance.\n        delete this[prop];\n        // Set the value again via the (prototype) setter on this class.\n        this[prop] = value;\n      }\n    }\n\n    #initStandinEl() {\n      // Neither Chrome or Firefox support setting the muted attribute\n      // after using document.createElement.\n      // Get around this by setting the muted property manually.\n      const dummyEl = document.createElement(tag, { is });\n      dummyEl.muted = this.hasAttribute('muted');\n\n      for (let { name, value } of this.attributes) {\n        dummyEl.setAttribute(name, value);\n      }\n\n      this.#standinEl = {};\n      for (let name of getNativeElProps(dummyEl)) {\n        this.#standinEl[name] = dummyEl[name];\n      }\n\n      // unload dummy video element\n      dummyEl.removeAttribute('src');\n      dummyEl.load();\n    }\n\n    async #initNativeEl() {\n      if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n\n      // If there is no nativeEl by now, create it our bloody selves.\n      if (!this.nativeEl) {\n        const nativeEl = document.createElement(tag, { is });\n        nativeEl.part = tag;\n        this.shadowRoot.append(nativeEl);\n      }\n\n      // Neither Chrome or Firefox support setting the muted attribute\n      // after using document.createElement.\n      // Get around this by setting the muted property manually.\n      this.nativeEl.muted = this.hasAttribute('muted');\n    }\n\n    attributeChangedCallback(attrName, oldValue, newValue) {\n      // Initialize right after construction when the attributes become available.\n      this.#init();\n\n      // Only call loadSrc when the super class has a load method.\n      if (attrName === 'src' && this.load !== SuperMedia.prototype.load) {\n        this.#loadSrc();\n      }\n\n      this.#forwardAttribute(attrName, oldValue, newValue);\n    }\n\n    async #loadSrc() {\n      // The first time we use the Promise created in the constructor.\n      if (this.#hasLoaded) this.loadComplete = new PublicPromise();\n      this.#hasLoaded = true;\n\n      // Wait 1 tick to allow other attributes to be set.\n      await Promise.resolve();\n      await this.load();\n\n      this.loadComplete?.resolve();\n      await this.loadComplete;\n    }\n\n    async #forwardAttribute(attrName, oldValue, newValue) {\n      if (this.loadComplete && !this.isLoaded) await this.loadComplete;\n\n      // Ignore a few that don't need to be passed & skipped attributes.\n      // e.g. src: native element is using MSE and has a blob url as src attribute.\n      if (['id', 'class', ...this.constructor.skipAttributes].includes(attrName)) {\n        return;\n      }\n\n      if (newValue === null) {\n        this.nativeEl.removeAttribute?.(attrName);\n      } else {\n        this.nativeEl.setAttribute?.(attrName, newValue);\n      }\n    }\n\n    connectedCallback() {\n      this.#init();\n    }\n  };\n};\n\nfunction getNativeElProps(nativeElTest) {\n  // Map all native element properties to the custom element\n  // so that they're applied to the native element.\n  // Skipping HTMLElement because of things like \"attachShadow\"\n  // causing issues. Most of those props still need to apply to\n  // the custom element.\n  let nativeElProps = [];\n\n  // Walk the prototype chain up to HTMLElement.\n  // This will grab all super class props in between.\n  // i.e. VideoElement and MediaElement\n  for (\n    let proto = Object.getPrototypeOf(nativeElTest);\n    proto && proto !== HTMLElement.prototype;\n    proto = Object.getPrototypeOf(proto)\n  ) {\n    nativeElProps.push(...Object.getOwnPropertyNames(proto));\n  }\n\n  return nativeElProps;\n}\n\n/**\n * A utility to create Promises with convenient public resolve and reject methods.\n * @return {Promise}\n */\nclass PublicPromise extends Promise {\n  constructor(executor = () => {}) {\n    let res, rej;\n    super((resolve, reject) => {\n      executor(resolve, reject);\n      res = resolve;\n      rej = reject;\n    });\n    this.resolve = res;\n    this.reject = rej;\n  }\n}\n\nexport const SuperVideoElement = globalThis.document ? SuperMediaMixin(HTMLElement, { tag: 'video' }) : class {};\n\nexport const SuperAudioElement = globalThis.document ? SuperMediaMixin(HTMLElement, { tag: 'audio' }) : class {};\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO,MAAMA,MAAM,GAAG,CACpB,OAAO,EACP,SAAS,EACT,gBAAgB,EAChB,gBAAgB,EAChB,SAAS,EACT,WAAW,EACX,OAAO,EACP,OAAO,EACP,YAAY,EACZ,gBAAgB,EAChB,WAAW,EACX,OAAO,EACP,MAAM,EACN,SAAS,EACT,UAAU,EACV,YAAY,EACZ,QAAQ,EACR,SAAS,EACT,SAAS,EACT,SAAS,EACT,YAAY,EACZ,cAAc,EACd,SAAS,EACT,eAAe,EACf,QAAQ,EACR,uBAAuB,EACvB,uBAAuB,EACvB,uBAAuB,EACvB,qBAAqB,EACrB,+BAA+B,CAChC;AAED,OAAO,MAAMC,QAAQ,IAAAC,oBAAA,GAAGC,UAAU,CAACC,QAAQ,cAAAF,oBAAA,uBAAnBA,oBAAA,CAAqBG,aAAa,CAAC,UAAU,CAAC;AAEtE,IAAIJ,QAAQ,EAAE;EACZA,QAAQ,CAACK,SAAS,GAAG,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,OAAO,MAAMC,eAAe,GAAGA,CAACC,UAAU,EAAAC,IAAA,KAAkB;EAAA,IAAAC,qBAAA;EAAA,IAAhB;IAAEC,GAAG;IAAEC;EAAG,CAAC,GAAAH,IAAA;EAErD,MAAMI,YAAY,IAAAH,qBAAA,GAAGP,UAAU,CAACC,QAAQ,cAAAM,qBAAA,uBAAnBA,qBAAA,CAAqBL,aAAa,CAACM,GAAG,EAAE;IAAEC;EAAG,CAAC,CAAC;EACpE,MAAME,aAAa,GAAGD,YAAY,GAAGE,gBAAgB,CAACF,YAAY,CAAC,GAAG,EAAE;EAExE,OAAO,MAAMG,UAAU,SAASR,UAAU,CAAC;IACzC,OAAOR,MAAM,GAAGA,MAAM;IACtB,OAAOC,QAAQ,GAAGA,QAAQ;IAC1B,OAAOgB,cAAc,GAAG,EAAE;IAC1B,OAAO,CAACC,SAAS;IAEjB,WAAWC,kBAAkBA,CAAA,EAAG;MAAA,IAAAC,qBAAA;MAC9BJ,UAAU,CAAC,CAACK,MAAM,CAAC,CAAC;;MAEpB;MACA,MAAMC,QAAQ,GAAG,CAAAT,YAAY,aAAZA,YAAY,wBAAAO,qBAAA,GAAZP,YAAY,CAAEU,WAAW,cAAAH,qBAAA,uBAAzBA,qBAAA,CAA2BD,kBAAkB,KAAI,EAAE;MAEpE,OAAO,CACL,GAAGG,QAAQ,EACX,sBAAsB,EACtB,yBAAyB,EACzB,uBAAuB,EACvB,UAAU,EACV,UAAU,EACV,cAAc,EACd,aAAa,EACb,MAAM,EACN,OAAO,EACP,aAAa,EACb,QAAQ,EACR,SAAS,EACT,KAAK,CACN;IACH;IAEA,OAAO,CAACD,MAAMG,CAAA,EAAG;MACf,IAAI,IAAI,CAAC,CAACN,SAAS,EAAE;MACrB,IAAI,CAAC,CAACA,SAAS,GAAG,IAAI;MAEtB,MAAMO,YAAY,GAAG,IAAIC,GAAG,CAAC,IAAI,CAACP,kBAAkB,CAAC;MACrD;MACAM,YAAY,CAACE,MAAM,CAAC,OAAO,CAAC;;MAE5B;MACA,KAAK,IAAIC,IAAI,IAAId,aAAa,EAAE;QAC9B,IAAIc,IAAI,IAAI,IAAI,CAACC,SAAS,EAAE;QAE5B,MAAMC,IAAI,GAAG,OAAOjB,YAAY,CAACe,IAAI,CAAC;QACtC,IAAIE,IAAI,IAAI,UAAU,EAAE;UACtB;UACA,IAAI,CAACD,SAAS,CAACD,IAAI,CAAC,GAAG,YAAmB;YAAA,SAAAG,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAANC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;cAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;YAAA;YACtC,IAAI,CAAC,CAACC,IAAI,CAAC,CAAC;YAEZ,MAAMC,EAAE,GAAGA,CAAA,KAAM;cACf,IAAI,IAAI,CAACC,IAAI,EAAE,OAAO,IAAI,CAACA,IAAI,CAACX,IAAI,EAAE,GAAGM,IAAI,CAAC;cAC9C,OAAO,IAAI,CAACM,QAAQ,CAACZ,IAAI,CAAC,CAACa,KAAK,CAAC,IAAI,CAACD,QAAQ,EAAEN,IAAI,CAAC;YACvD,CAAC;YAED,IAAI,IAAI,CAACQ,YAAY,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE;cACvC,OAAO,IAAI,CAACD,YAAY,CAACE,IAAI,CAACN,EAAE,CAAC;YACnC;YACA,OAAOA,EAAE,CAAC,CAAC;UACb,CAAC;QACH,CAAC,MAAM;UACL;;UAEA;UACA,IAAIO,MAAM,GAAG;YACXC,GAAGA,CAAA,EAAG;cAAA,IAAAC,SAAA,EAAAC,cAAA;cACJ,IAAI,CAAC,CAACX,IAAI,CAAC,CAAC;cAEZ,IAAIY,IAAI,GAAGrB,IAAI,CAACsB,WAAW,CAAC,CAAC;cAC7B,IAAIzB,YAAY,CAAC0B,GAAG,CAACF,IAAI,CAAC,EAAE;gBAC1B,MAAMG,GAAG,GAAG,IAAI,CAACC,YAAY,CAACJ,IAAI,CAAC;gBACnC,OAAOG,GAAG,KAAK,IAAI,GAAG,KAAK,GAAGA,GAAG,KAAK,EAAE,GAAG,IAAI,GAAGA,GAAG;cACvD;cAEA,OAAO,EAAAL,SAAA,OAAI,CAACD,GAAG,cAAAC,SAAA,uBAARA,SAAA,CAAAR,IAAA,KAAI,EAAOX,IAAI,CAAC,OAAAoB,cAAA,GAAI,IAAI,CAACR,QAAQ,cAAAQ,cAAA,uBAAbA,cAAA,CAAgBpB,IAAI,CAAC,KAAI,IAAI,CAAC,CAAC0B,SAAS,CAAC1B,IAAI,CAAC;YAC3E;UACF,CAAC;UAED,IAAIA,IAAI,KAAKA,IAAI,CAAC2B,WAAW,CAAC,CAAC,EAAE;YAC/B;YACAV,MAAM,CAACW,GAAG,GAAG,gBAAgBJ,GAAG,EAAE;cAChC,IAAI,CAAC,CAACf,IAAI,CAAC,CAAC;cAEZ,IAAIY,IAAI,GAAGrB,IAAI,CAACsB,WAAW,CAAC,CAAC;cAC7B,IAAIzB,YAAY,CAAC0B,GAAG,CAACF,IAAI,CAAC,EAAE;gBAC1B,IAAIG,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,KAAK,IAAIA,GAAG,IAAI,IAAI,EAAE;kBAChD,IAAI,CAACK,eAAe,CAACR,IAAI,EAAES,OAAO,CAACN,GAAG,CAAC,CAAC;gBAC1C,CAAC,MAAM;kBACL,IAAI,CAACO,YAAY,CAACV,IAAI,EAAEG,GAAG,CAAC;gBAC9B;gBACA;cACF;cAEA,IAAI,IAAI,CAACV,YAAY,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE,MAAM,IAAI,CAACD,YAAY;cAEhE,IAAI,IAAI,CAACc,GAAG,EAAE;gBACZ,IAAI,CAACA,GAAG,CAAC5B,IAAI,EAAEwB,GAAG,CAAC;gBACnB;cACF;cAEA,IAAI,CAACZ,QAAQ,CAACZ,IAAI,CAAC,GAAGwB,GAAG;YAC3B,CAAC;UACH;UAEAQ,MAAM,CAACC,cAAc,CAAC,IAAI,CAAChC,SAAS,EAAED,IAAI,EAAEiB,MAAM,CAAC;QACrD;MACF;IACF;IAEA,CAACiB,MAAM;IACP,CAACpB,YAAY;IACb,CAACqB,SAAS,GAAG,KAAK;IAClB,CAACpB,QAAQ,GAAG,KAAK;IACjB,CAACH,QAAQ;IACT,CAACc,SAAS;IAEV/B,WAAWA,CAAA,EAAG;MACZ,KAAK,CAAC,CAAC;MAEP,IAAI,CAAC,IAAI,CAACyC,UAAU,EAAE;QACpB,IAAI,CAACC,YAAY,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC,CAAC;QACnC,IAAI,CAACF,UAAU,CAACG,MAAM,CAAC,IAAI,CAAC5C,WAAW,CAACtB,QAAQ,CAACmE,OAAO,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC;MAC3E;;MAEA;MACA,IAAI,IAAI,CAACC,IAAI,KAAKtD,UAAU,CAACa,SAAS,CAACyC,IAAI,EAAE;QAC3C,IAAI,CAAC5B,YAAY,GAAG,IAAI6B,aAAa,CAAC,CAAC;MACzC;;MAEA;MACA;MACA;MACA;IACF;IAEA,IAAI7B,YAAYA,CAAA,EAAG;MACjB,OAAO,IAAI,CAAC,CAACA,YAAY;IAC3B;IAEA,IAAIA,YAAYA,CAAC8B,OAAO,EAAE;MACxB,IAAI,CAAC,CAAC7B,QAAQ,GAAG,KAAK;MACtB,IAAI,CAAC,CAACD,YAAY,GAAG8B,OAAO;MAC5BA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE5B,IAAI,CAAC,MAAM;QAClB,IAAI,CAAC,CAACD,QAAQ,GAAG,IAAI;MACvB,CAAC,CAAC;IACJ;IAEA,IAAIA,QAAQA,CAAA,EAAG;MACb,OAAO,IAAI,CAAC,CAACA,QAAQ;IACvB;IAEA,IAAIH,QAAQA,CAAA,EAAG;MACb,OAAO,IAAI,CAAC,CAACA,QAAQ,IAChB,IAAI,CAACwB,UAAU,CAACS,aAAa,CAAC9D,GAAG,CAAC,IAClC,IAAI,CAAC8D,aAAa,CAAC9D,GAAG,CAAC;IAC9B;IAEA,IAAI6B,QAAQA,CAACY,GAAG,EAAE;MAChB,IAAI,CAAC,CAACZ,QAAQ,GAAGY,GAAG;IACtB;IAEA,IAAIsB,YAAYA,CAAA,EAAG;MACjB,OAAO,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC;IACnC;IAEA,IAAID,YAAYA,CAACtB,GAAG,EAAE;MACpB,IAAI,CAACK,eAAe,CAAC,OAAO,EAAEC,OAAO,CAACN,GAAG,CAAC,CAAC;IAC7C;IAEA,IAAIwB,GAAGA,CAAA,EAAG;MACR,OAAO,IAAI,CAACvB,YAAY,CAAC,KAAK,CAAC;IACjC;IAEA,IAAIuB,GAAGA,CAACxB,GAAG,EAAE;MACX,IAAI,CAACO,YAAY,CAAC,KAAK,EAAE,GAAGP,GAAG,EAAE,CAAC;IACpC;IAEA,IAAIyB,OAAOA,CAAA,EAAG;MAAA,IAAAC,eAAA;MACZ,OAAO,IAAI,CAACzB,YAAY,CAAC,SAAS,CAAC,MAAAyB,eAAA,GAAI,IAAI,CAACtC,QAAQ,cAAAsC,eAAA,uBAAbA,eAAA,CAAeD,OAAO;IAC/D;IAEA,IAAIA,OAAOA,CAACzB,GAAG,EAAE;MACf,IAAI,CAACO,YAAY,CAAC,SAAS,EAAE,GAAGP,GAAG,EAAE,CAAC;IACxC;IAEA,MAAM,CAACf,IAAI0C,CAAA,EAAG;MACZ,IAAI,IAAI,CAAC,CAACjB,MAAM,EAAE;MAClB,IAAI,CAAC,CAACA,MAAM,GAAG,IAAI;MAEnB,IAAI,CAAC,CAACkB,aAAa,CAAC,CAAC;MACrB,IAAI,CAAC,CAACC,YAAY,CAAC,CAAC;MAEpB,KAAK,IAAIrD,IAAI,IAAId,aAAa,EAC5B,IAAI,CAAC,CAACoE,eAAe,CAACtD,IAAI,CAAC;;MAE7B;MACA,MAAMuD,QAAQ,GAAG,IAAIC,GAAG,CAAC,CAAC;MAC1B;MACA;MACA,MAAMC,MAAM,GAAG,IAAI,CAACrB,UAAU,CAACS,aAAa,CAAC,kBAAkB,CAAC;MAChEY,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEC,gBAAgB,CAAC,YAAY,EAAE,MAAM;QAC3C,MAAMC,oBAAoB,GAAG,IAAIH,GAAG,CAACD,QAAQ,CAAC;QAC9CE,MAAM,CACHG,gBAAgB,CAAC,CAAC,CAClBC,MAAM,CAAEC,EAAE,IAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAACC,QAAQ,CAACD,EAAE,CAACE,SAAS,CAAC,CAAC,CAC1DC,OAAO,CAAC,MAAOH,EAAE,IAAK;UAAA,IAAAI,qBAAA,EAAAC,eAAA;UACrB;UACAR,oBAAoB,CAAC5D,MAAM,CAAC+D,EAAE,CAAC;UAC/B;UACA,IAAIM,KAAK,GAAGb,QAAQ,CAACrC,GAAG,CAAC4C,EAAE,CAAC;UAC5B,IAAI,CAACM,KAAK,EAAE;YACVA,KAAK,GAAGN,EAAE,CAACrB,SAAS,CAAC,CAAC;YACtBc,QAAQ,CAAC3B,GAAG,CAACkC,EAAE,EAAEM,KAAK,CAAC;UACzB;UACA,IAAI,IAAI,CAACtD,YAAY,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE,MAAM,IAAI,CAACD,YAAY;UAChE,CAAAoD,qBAAA,IAAAC,eAAA,OAAI,CAACvD,QAAQ,EAAC2B,MAAM,cAAA2B,qBAAA,uBAApBA,qBAAA,CAAAvD,IAAA,CAAAwD,eAAA,EAAuBC,KAAK,CAAC;QAC/B,CAAC,CAAC;QACJT,oBAAoB,CAACM,OAAO,CAAEH,EAAE,IAAKA,EAAE,CAACO,MAAM,CAAC,CAAC,CAAC;MACnD,CAAC,CAAC;;MAEF;MACA;MACA,KAAK,IAAInE,IAAI,IAAI,IAAI,CAACP,WAAW,CAACvB,MAAM,EAAE;QAAA,IAAAkG,qBAAA,EAAAC,gBAAA;QACxC,CAAAD,qBAAA,IAAAC,gBAAA,OAAI,CAACnC,UAAU,EAACsB,gBAAgB,cAAAY,qBAAA,uBAAhCA,qBAAA,CAAA3D,IAAA,CAAA4D,gBAAA,EAAmCrE,IAAI,EAAGsE,GAAG,IAAK;UAChD,IAAIA,GAAG,CAACC,MAAM,KAAK,IAAI,CAAC7D,QAAQ,EAAE;UAClC,IAAI,CAAC8D,aAAa,CAAC,IAAIC,WAAW,CAACH,GAAG,CAACtE,IAAI,EAAE;YAAE0E,MAAM,EAAEJ,GAAG,CAACI;UAAO,CAAC,CAAC,CAAC;QACvE,CAAC,EAAE,IAAI,CAAC;MACV;IACF;IAEA,CAACtB,eAAeuB,CAAC7E,IAAI,EAAE;MACrB;MACA;MACA,IAAIgC,MAAM,CAAC/B,SAAS,CAAC6E,cAAc,CAACnE,IAAI,CAAC,IAAI,EAAEX,IAAI,CAAC,EAAE;QACpD,MAAM+E,KAAK,GAAG,IAAI,CAAC/E,IAAI,CAAC;QACxB;QACA,OAAO,IAAI,CAACA,IAAI,CAAC;QACjB;QACA,IAAI,CAACA,IAAI,CAAC,GAAG+E,KAAK;MACpB;IACF;IAEA,CAAC3B,aAAa4B,CAAA,EAAG;MACf;MACA;MACA;MACA,MAAMC,OAAO,GAAGzG,QAAQ,CAACC,aAAa,CAACM,GAAG,EAAE;QAAEC;MAAG,CAAC,CAAC;MACnDiG,OAAO,CAACC,KAAK,GAAG,IAAI,CAACnC,YAAY,CAAC,OAAO,CAAC;MAE1C,KAAK,IAAI;QAAEoC,IAAI;QAAEJ;MAAM,CAAC,IAAI,IAAI,CAACK,UAAU,EAAE;QAC3CH,OAAO,CAAClD,YAAY,CAACoD,IAAI,EAAEJ,KAAK,CAAC;MACnC;MAEA,IAAI,CAAC,CAACrD,SAAS,GAAG,CAAC,CAAC;MACpB,KAAK,IAAIyD,IAAI,IAAIhG,gBAAgB,CAAC8F,OAAO,CAAC,EAAE;QAC1C,IAAI,CAAC,CAACvD,SAAS,CAACyD,IAAI,CAAC,GAAGF,OAAO,CAACE,IAAI,CAAC;MACvC;;MAEA;MACAF,OAAO,CAACI,eAAe,CAAC,KAAK,CAAC;MAC9BJ,OAAO,CAACvC,IAAI,CAAC,CAAC;IAChB;IAEA,MAAM,CAACW,YAAYiC,CAAA,EAAG;MACpB,IAAI,IAAI,CAACxE,YAAY,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE,MAAM,IAAI,CAACD,YAAY;;MAEhE;MACA,IAAI,CAAC,IAAI,CAACF,QAAQ,EAAE;QAClB,MAAMA,QAAQ,GAAGpC,QAAQ,CAACC,aAAa,CAACM,GAAG,EAAE;UAAEC;QAAG,CAAC,CAAC;QACpD4B,QAAQ,CAAC2E,IAAI,GAAGxG,GAAG;QACnB,IAAI,CAACqD,UAAU,CAACG,MAAM,CAAC3B,QAAQ,CAAC;MAClC;;MAEA;MACA;MACA;MACA,IAAI,CAACA,QAAQ,CAACsE,KAAK,GAAG,IAAI,CAACnC,YAAY,CAAC,OAAO,CAAC;IAClD;IAEAyC,wBAAwBA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;MACrD;MACA,IAAI,CAAC,CAAClF,IAAI,CAAC,CAAC;;MAEZ;MACA,IAAIgF,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC/C,IAAI,KAAKtD,UAAU,CAACa,SAAS,CAACyC,IAAI,EAAE;QACjE,IAAI,CAAC,CAACkD,OAAO,CAAC,CAAC;MACjB;MAEA,IAAI,CAAC,CAACC,gBAAgB,CAACJ,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,CAAC;IACtD;IAEA,MAAM,CAACC,OAAOE,CAAA,EAAG;MAAA,IAAAC,kBAAA;MACf;MACA,IAAI,IAAI,CAAC,CAAC5D,SAAS,EAAE,IAAI,CAACrB,YAAY,GAAG,IAAI6B,aAAa,CAAC,CAAC;MAC5D,IAAI,CAAC,CAACR,SAAS,GAAG,IAAI;;MAEtB;MACA,MAAM6D,OAAO,CAACC,OAAO,CAAC,CAAC;MACvB,MAAM,IAAI,CAACvD,IAAI,CAAC,CAAC;MAEjB,CAAAqD,kBAAA,OAAI,CAACjF,YAAY,cAAAiF,kBAAA,uBAAjBA,kBAAA,CAAmBE,OAAO,CAAC,CAAC;MAC5B,MAAM,IAAI,CAACnF,YAAY;IACzB;IAEA,MAAM,CAAC+E,gBAAgBK,CAACT,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;MACpD,IAAI,IAAI,CAAC7E,YAAY,IAAI,CAAC,IAAI,CAACC,QAAQ,EAAE,MAAM,IAAI,CAACD,YAAY;;MAEhE;MACA;MACA,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,GAAG,IAAI,CAACnB,WAAW,CAACN,cAAc,CAAC,CAAC0E,QAAQ,CAAC0B,QAAQ,CAAC,EAAE;QAC1E;MACF;MAEA,IAAIE,QAAQ,KAAK,IAAI,EAAE;QAAA,IAAAQ,qBAAA,EAAAC,eAAA;QACrB,CAAAD,qBAAA,IAAAC,eAAA,OAAI,CAACxF,QAAQ,EAACyE,eAAe,cAAAc,qBAAA,uBAA7BA,qBAAA,CAAAxF,IAAA,CAAAyF,eAAA,EAAgCX,QAAQ,CAAC;MAC3C,CAAC,MAAM;QAAA,IAAAY,qBAAA,EAAAC,eAAA;QACL,CAAAD,qBAAA,IAAAC,eAAA,OAAI,CAAC1F,QAAQ,EAACmB,YAAY,cAAAsE,qBAAA,uBAA1BA,qBAAA,CAAA1F,IAAA,CAAA2F,eAAA,EAA6Bb,QAAQ,EAAEE,QAAQ,CAAC;MAClD;IACF;IAEAY,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAAC,CAAC9F,IAAI,CAAC,CAAC;IACd;EACF,CAAC;AACH,CAAC;AAED,SAAStB,gBAAgBA,CAACF,YAAY,EAAE;EACtC;EACA;EACA;EACA;EACA;EACA,IAAIC,aAAa,GAAG,EAAE;;EAEtB;EACA;EACA;EACA,KACE,IAAIsH,KAAK,GAAGxE,MAAM,CAACyE,cAAc,CAACxH,YAAY,CAAC,EAC/CuH,KAAK,IAAIA,KAAK,KAAKE,WAAW,CAACzG,SAAS,EACxCuG,KAAK,GAAGxE,MAAM,CAACyE,cAAc,CAACD,KAAK,CAAC,EACpC;IACAtH,aAAa,CAACyH,IAAI,CAAC,GAAG3E,MAAM,CAAC4E,mBAAmB,CAACJ,KAAK,CAAC,CAAC;EAC1D;EAEA,OAAOtH,aAAa;AACtB;;AAEA;AACA;AACA;AACA;AACA,MAAMyD,aAAa,SAASqD,OAAO,CAAC;EAClCrG,WAAWA,CAAA,EAAsB;IAAA,IAArBkH,QAAQ,GAAAzG,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAA0G,SAAA,GAAA1G,SAAA,MAAG,MAAM,CAAC,CAAC;IAC7B,IAAI2G,GAAG,EAAEC,GAAG;IACZ,KAAK,CAAC,CAACf,OAAO,EAAEgB,MAAM,KAAK;MACzBJ,QAAQ,CAACZ,OAAO,EAAEgB,MAAM,CAAC;MACzBF,GAAG,GAAGd,OAAO;MACbe,GAAG,GAAGC,MAAM;IACd,CAAC,CAAC;IACF,IAAI,CAAChB,OAAO,GAAGc,GAAG;IAClB,IAAI,CAACE,MAAM,GAAGD,GAAG;EACnB;AACF;AAEA,OAAO,MAAME,iBAAiB,GAAG3I,UAAU,CAACC,QAAQ,GAAGG,eAAe,CAAC+H,WAAW,EAAE;EAAE3H,GAAG,EAAE;AAAQ,CAAC,CAAC,GAAG,MAAM,EAAE;AAEhH,OAAO,MAAMoI,iBAAiB,GAAG5I,UAAU,CAACC,QAAQ,GAAGG,eAAe,CAAC+H,WAAW,EAAE;EAAE3H,GAAG,EAAE;AAAQ,CAAC,CAAC,GAAG,MAAM,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module"}